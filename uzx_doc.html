
<!doctype html>
<html>
  <head>
    <meta charset="utf-8">
    <meta content="IE=edge,chrome=1" http-equiv="X-UA-Compatible">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
        <meta
            name="UZX API Document"
            content="UZX API Document"
        >
    <title>UZX API Document</title>

    <style media="screen">
      .highlight table td { padding: 5px; }
.highlight table pre { margin: 0; }
.highlight .gh {
  color: #999999;
}
.highlight .sr {
  color: #f6aa11;
}
.highlight .go {
  color: #888888;
}
.highlight .gp {
  color: #555555;
}
.highlight .gs {
}
.highlight .gu {
  color: #aaaaaa;
}
.highlight .nb {
  color: #f6aa11;
}
.highlight .cm {
  color: #75715e;
}
.highlight .cp {
  color: #75715e;
}
.highlight .c1 {
  color: #75715e;
}
.highlight .cs {
  color: #75715e;
}
.highlight .c, .highlight .ch, .highlight .cd, .highlight .cpf {
  color: #75715e;
}
.highlight .err {
  color: #960050;
}
.highlight .gr {
  color: #960050;
}
.highlight .gt {
  color: #960050;
}
.highlight .gd {
  color: #49483e;
}
.highlight .gi {
  color: #49483e;
}
.highlight .ge {
  color: #49483e;
}
.highlight .kc {
  color: #66d9ef;
}
.highlight .kd {
  color: #66d9ef;
}
.highlight .kr {
  color: #66d9ef;
}
.highlight .no {
  color: #66d9ef;
}
.highlight .kt {
  color: #66d9ef;
}
.highlight .mf {
  color: #ae81ff;
}
.highlight .mh {
  color: #ae81ff;
}
.highlight .il {
  color: #ae81ff;
}
.highlight .mi {
  color: #ae81ff;
}
.highlight .mo {
  color: #ae81ff;
}
.highlight .m, .highlight .mb, .highlight .mx {
  color: #ae81ff;
}
.highlight .sc {
  color: #ae81ff;
}
.highlight .se {
  color: #ae81ff;
}
.highlight .ss {
  color: #ae81ff;
}
.highlight .sd {
  color: #e6db74;
}
.highlight .s2 {
  color: #e6db74;
}
.highlight .sb {
  color: #e6db74;
}
.highlight .sh {
  color: #e6db74;
}
.highlight .si {
  color: #e6db74;
}
.highlight .sx {
  color: #e6db74;
}
.highlight .s1 {
  color: #e6db74;
}
.highlight .s, .highlight .sa, .highlight .dl {
  color: #e6db74;
}
.highlight .na {
  color: #a6e22e;
}
.highlight .nc {
  color: #a6e22e;
}
.highlight .nd {
  color: #a6e22e;
}
.highlight .ne {
  color: #a6e22e;
}
.highlight .nf, .highlight .fm {
  color: #a6e22e;
}
.highlight .vc {
  color: #ffffff;
}
.highlight .nn {
  color: #ffffff;
}
.highlight .ni {
  color: #ffffff;
}
.highlight .bp {
  color: #ffffff;
}
.highlight .vg {
  color: #ffffff;
}
.highlight .vi {
  color: #ffffff;
}
.highlight .nv, .highlight .vm {
  color: #ffffff;
}
.highlight .w {
  color: #ffffff;
}
.highlight {
  color: #ffffff;
}
.highlight .n, .highlight .py, .highlight .nx {
  color: #ffffff;
}
.highlight .nl {
  color: #f92672;
}
.highlight .ow {
  color: #f92672;
}
.highlight .nt {
  color: #f92672;
}
.highlight .k, .highlight .kv {
  color: #f92672;
}
.highlight .kn {
  color: #f92672;
}
.highlight .kp {
  color: #f92672;
}
.highlight .o {
  color: #f92672;
}
    </style>
    <style media="print">
      * {
        -webkit-transition:none!important;
        transition:none!important;
      }
      .highlight table td { padding: 5px; }
.highlight table pre { margin: 0; }
.highlight, .highlight .w {
  color: #586e75;
}
.highlight .err {
  color: #002b36;
  background-color: #dc322f;
}
.highlight .c, .highlight .ch, .highlight .cd, .highlight .cm, .highlight .cpf, .highlight .c1, .highlight .cs {
  color: #657b83;
}
.highlight .cp {
  color: #b58900;
}
.highlight .nt {
  color: #b58900;
}
.highlight .o, .highlight .ow {
  color: #93a1a1;
}
.highlight .p, .highlight .pi {
  color: #93a1a1;
}
.highlight .gi {
  color: #859900;
}
.highlight .gd {
  color: #dc322f;
}
.highlight .gh {
  color: #268bd2;
  background-color: #002b36;
  font-weight: bold;
}
.highlight .k, .highlight .kn, .highlight .kp, .highlight .kr, .highlight .kv {
  color: #6c71c4;
}
.highlight .kc {
  color: #cb4b16;
}
.highlight .kt {
  color: #cb4b16;
}
.highlight .kd {
  color: #cb4b16;
}
.highlight .s, .highlight .sb, .highlight .sc, .highlight .dl, .highlight .sd, .highlight .s2, .highlight .sh, .highlight .sx, .highlight .s1 {
  color: #859900;
}
.highlight .sa {
  color: #6c71c4;
}
.highlight .sr {
  color: #2aa198;
}
.highlight .si {
  color: #d33682;
}
.highlight .se {
  color: #d33682;
}
.highlight .nn {
  color: #b58900;
}
.highlight .nc {
  color: #b58900;
}
.highlight .no {
  color: #b58900;
}
.highlight .na {
  color: #268bd2;
}
.highlight .m, .highlight .mb, .highlight .mf, .highlight .mh, .highlight .mi, .highlight .il, .highlight .mo, .highlight .mx {
  color: #859900;
}
.highlight .ss {
  color: #859900;
}
    </style>
    <link href="stylesheets/screen-6382d655.css" rel="stylesheet" media="screen" />
    <link href="stylesheets/print-953e3353.css" rel="stylesheet" media="print" />
      <script src="javascripts/all-e1dff9dc.js"></script>

    <script>
      $(function() { setupCodeCopy(); });
    </script>
  </head>

  <body class="index" data-languages="[&quot;json&quot;,&quot;python&quot;,&quot;go&quot;,&quot;java&quot;]">
    <a href="#" id="nav-button">
      <span>
        NAV
        <img src="images/navbar-cad8cdcb.png" alt="" />
      </span>
    </a>
    <div class="toc-wrapper">
      <div>
        <link href="images/favicon-51f52ebc.ico" rel="icon" type="image/ico" />
        <img src="images/logo-957a5876.png" class="logo" alt="" />
        <div class="title-wrapper">
          <div class="title">UZX API Document</div>
          <a href="/v2/api/docs/index.html" class="lang-link">中文</a>
        </div>
      </div>
        <div class="lang-selector">
              <a href="#" data-language-name="json">HTTP</a>
              <a href="#" data-language-name="python">Python</a>
              <a href="#" data-language-name="go">Go</a>
              <a href="#" data-language-name="java">Java</a>
        </div>
        <div class="search">
          <input type="text" class="search" id="input-search" placeholder="Search">
        </div>
        <ul class="search-results"></ul>
      <ul id="toc" class="toc-list-h1">
          <li>
            <a href="#0efc2e6bbcl0" class="toc-h1 toc-link" data-title="Overview">Overview</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#de598528lz5p" class="toc-h2 toc-link" data-title="API Learning Resources and Technical Support">API Learning Resources and Technical Support</a>
                  </li>
                  <li>
                    <a href="#a0c08d521vii" class="toc-h2 toc-link" data-title="Create My API KEY">Create My API KEY</a>
                  </li>
                  <li>
                    <a href="#7949a1964yut" class="toc-h2 toc-link" data-title="Live Trading">Live Trading</a>
                  </li>
              </ul>
          </li>
          <li>
            <a href="#e3ed1138y7tg" class="toc-h1 toc-link" data-title="Market Maker Application">Market Maker Application</a>
          </li>
          <li>
            <a href="#cec9f373qx" class="toc-h1 toc-link" data-title="REST API">REST API</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#6e08d747jgwm" class="toc-h2 toc-link" data-title="Request Authentication">Request Authentication</a>
                      <ul class="toc-list-h3">
                          <li>
                            <a href="#rest-apikey" class="toc-h3 toc-link" data-title="Generating API Keys">Generating API Keys</a>
                          </li>
                          <li>
                            <a href="#e2f6fe51nvos" class="toc-h3 toc-link" data-title="Making Requests">Making Requests</a>
                              <ul class="toc-list-h4">
                                  <li>
                                    <a href="#3041cab15qgs" class="toc-h4 toc-link" data-title="Header Parameters:">Header Parameters:</a>
                                  </li>
                              </ul>
                          </li>
                          <li>
                            <a href="#96583fbagbe" class="toc-h3 toc-link" data-title="Request Signing">Request Signing</a>
                          </li>
                      </ul>
                  </li>
                  <li>
                    <a href="#413e91101rfs" class="toc-h2 toc-link" data-title="Enumerations">Enumerations</a>
                      <ul class="toc-list-h3">
                          <li>
                            <a href="#4a4eed16b88p" class="toc-h3 toc-link" data-title="Order &amp; Position Enums">Order &amp; Position Enums</a>
                              <ul class="toc-list-h4">
                                  <li>
                                    <a href="#f1592323hfi2" class="toc-h4 toc-link" data-title="Margin Mode (<code>mgn_mode</code>)">Margin Mode (<code>mgn_mode</code>)</a>
                                  </li>
                                  <li>
                                    <a href="#2b3717d110tc" class="toc-h4 toc-link" data-title="Order Mode (<code>order_mode</code>)">Order Mode (<code>order_mode</code>)</a>
                                  </li>
                                  <li>
                                    <a href="#5f1f9072eotf" class="toc-h4 toc-link" data-title="Order Direction (<code>order_buy_or_sell</code>)">Order Direction (<code>order_buy_or_sell</code>)</a>
                                  </li>
                                  <li>
                                    <a href="#fdaa2544nf8" class="toc-h4 toc-link" data-title="Position Side (<code>pos_side</code>)">Position Side (<code>pos_side</code>)</a>
                                  </li>
                                  <li>
                                    <a href="#0c6e3642yf2y" class="toc-h4 toc-link" data-title="Order Type (<code>order_type</code>)">Order Type (<code>order_type</code>)</a>
                                  </li>
                                  <li>
                                    <a href="#98ed1ba5if5v" class="toc-h4 toc-link" data-title="Position Operation (<code>pos_opt</code>)">Position Operation (<code>pos_opt</code>)</a>
                                  </li>
                                  <li>
                                    <a href="#535158f3iarc" class="toc-h4 toc-link" data-title="Order Status (<code>status</code>)">Order Status (<code>status</code>)</a>
                                  </li>
                                  <li>
                                    <a href="#72cf7582qz98" class="toc-h4 toc-link" data-title="Position Mode (<code>pos_mode</code>)">Position Mode (<code>pos_mode</code>)</a>
                                  </li>
                                  <li>
                                    <a href="#d2b6705dr19b" class="toc-h4 toc-link" data-title="Role (<code>role</code>)">Role (<code>role</code>)</a>
                                  </li>
                                  <li>
                                    <a href="#f9754842mwya" class="toc-h4 toc-link" data-title="Position Status (<code>status</code>)">Position Status (<code>status</code>)</a>
                                  </li>
                              </ul>
                          </li>
                          <li>
                            <a href="#68480346x8u2" class="toc-h3 toc-link" data-title="Strategy Orders Enums">Strategy Orders Enums</a>
                              <ul class="toc-list-h4">
                                  <li>
                                    <a href="#1548c2e9827b" class="toc-h4 toc-link" data-title="Stop Order Type (<code>stop_pos_type</code>)">Stop Order Type (<code>stop_pos_type</code>)</a>
                                  </li>
                                  <li>
                                    <a href="#543c1f021aqo" class="toc-h4 toc-link" data-title="Take Profit Type (<code>tp_price_type</code>)">Take Profit Type (<code>tp_price_type</code>)</a>
                                  </li>
                                  <li>
                                    <a href="#f4622b92c5a4" class="toc-h4 toc-link" data-title="Trigger Methods">Trigger Methods</a>
                                  </li>
                                  <li>
                                    <a href="#b301f828v3ad" class="toc-h4 toc-link" data-title="Trailing Stop-Loss and Take-Profit Callback Type (<code>trial_type</code>)">Trailing Stop-Loss and Take-Profit Callback Type (<code>trial_type</code>)</a>
                                  </li>
                                  <li>
                                    <a href="#6c2af4bckrgh" class="toc-h4 toc-link" data-title="Trigger Type (<code>fin_trigger_type</code>)">Trigger Type (<code>fin_trigger_type</code>)</a>
                                  </li>
                                  <li>
                                    <a href="#a07ccf9ead4l" class="toc-h4 toc-link" data-title="Strategy Order Status (<code>status</code>)">Strategy Order Status (<code>status</code>)</a>
                                  </li>
                              </ul>
                          </li>
                          <li>
                            <a href="#577ce36e9qzv" class="toc-h3 toc-link" data-title="Currency Configuration Enums">Currency Configuration Enums</a>
                              <ul class="toc-list-h4">
                                  <li>
                                    <a href="#006248d0reby" class="toc-h4 toc-link" data-title="Currency Status (<code>status</code>)">Currency Status (<code>status</code>)</a>
                                  </li>
                              </ul>
                          </li>
                          <li>
                            <a href="#7ee4a9cfd8v2" class="toc-h3 toc-link" data-title="Spot Trading Pairs Enums">Spot Trading Pairs Enums</a>
                              <ul class="toc-list-h4">
                                  <li>
                                    <a href="#5903d33cx4h9" class="toc-h4 toc-link" data-title="Spot Product Status (<code>status</code>)">Spot Product Status (<code>status</code>)</a>
                                  </li>
                              </ul>
                          </li>
                          <li>
                            <a href="#d5c4b660ov3h" class="toc-h3 toc-link" data-title="Perpetual Contract Pairs Enums">Perpetual Contract Pairs Enums</a>
                              <ul class="toc-list-h4">
                                  <li>
                                    <a href="#31e8d8ca2b1s" class="toc-h4 toc-link" data-title="Contract Product Status (<code>status</code>)">Contract Product Status (<code>status</code>)</a>
                                  </li>
                              </ul>
                          </li>
                          <li>
                            <a href="#0540347b95i8" class="toc-h3 toc-link" data-title="Funding Account Enums">Funding Account Enums</a>
                              <ul class="toc-list-h4">
                                  <li>
                                    <a href="#d9663b52h2fb" class="toc-h4 toc-link" data-title="Transfer Direction (<code>trade_direction</code>)">Transfer Direction (<code>trade_direction</code>)</a>
                                  </li>
                                  <li>
                                    <a href="#378a5342lxe7" class="toc-h4 toc-link" data-title="Bill Main Types (<code>bill_type</code>)">Bill Main Types (<code>bill_type</code>)</a>
                                  </li>
                              </ul>
                          </li>
                          <li>
                            <a href="#939ff6ee2k2p" class="toc-h3 toc-link" data-title="Trading Account Enums">Trading Account Enums</a>
                              <ul class="toc-list-h4">
                                  <li>
                                    <a href="#d9663b52jgja" class="toc-h4 toc-link" data-title="Transfer Direction (<code>trade_direction</code>)">Transfer Direction (<code>trade_direction</code>)</a>
                                  </li>
                                  <li>
                                    <a href="#378a5342qxka" class="toc-h4 toc-link" data-title="Bill Main Types (<code>bill_type</code>)">Bill Main Types (<code>bill_type</code>)</a>
                                  </li>
                                  <li>
                                    <a href="#ee987e21j2zy" class="toc-h4 toc-link" data-title="Bill Sub Types (<code>sub_bill_type</code>)">Bill Sub Types (<code>sub_bill_type</code>)</a>
                                  </li>
                              </ul>
                          </li>
                          <li>
                            <a href="#cfd04ca6xuwz" class="toc-h3 toc-link" data-title="Market Data Enums">Market Data Enums</a>
                              <ul class="toc-list-h4">
                                  <li>
                                    <a href="#ff36fa2biylr" class="toc-h4 toc-link" data-title="Event Type (event)">Event Type (event)</a>
                                  </li>
                                  <li>
                                    <a href="#9e4420525o4b" class="toc-h4 toc-link" data-title="Business Type (params.biz)">Business Type (params.biz)</a>
                                  </li>
                                  <li>
                                    <a href="#fb9814192kcy" class="toc-h4 toc-link" data-title="Channel Names (params.type)">Channel Names (params.type)</a>
                                  </li>
                                  <li>
                                    <a href="#0b639dabr3af" class="toc-h4 toc-link" data-title="Time Intervals (params.interval)">Time Intervals (params.interval)</a>
                                  </li>
                              </ul>
                          </li>
                      </ul>
                  </li>
                  <li>
                    <a href="#d9a189b4ufvf" class="toc-h2 toc-link" data-title="Order Matching">Order Matching</a>
                      <ul class="toc-list-h3">
                          <li>
                            <a href="#54090afbbt3b" class="toc-h3 toc-link" data-title="Place Spot Order">Place Spot Order</a>
                              <ul class="toc-list-h4">
                                  <li>
                                    <a href="#e5e4e37do3aj" class="toc-h4 toc-link" data-title="Rate Limit: 3 requests per second">Rate Limit: 3 requests per second</a>
                                  </li>
                                  <li>
                                    <a href="#59ff88c8imgx" class="toc-h4 toc-link" data-title="HTTP Request">HTTP Request</a>
                                  </li>
                                  <li>
                                    <a href="#22da1a05irq1" class="toc-h4 toc-link" data-title="Request Parameters">Request Parameters</a>
                                  </li>
                                  <li>
                                    <a href="#a222a51evho3" class="toc-h4 toc-link" data-title="Response Parameters">Response Parameters</a>
                                  </li>
                              </ul>
                          </li>
                          <li>
                            <a href="#c0d5ca875he9" class="toc-h3 toc-link" data-title="Spot Batch Order Placement">Spot Batch Order Placement</a>
                              <ul class="toc-list-h4">
                                  <li>
                                    <a href="#e5e4e37djpq8" class="toc-h4 toc-link" data-title="Rate Limit: 3 requests per second">Rate Limit: 3 requests per second</a>
                                  </li>
                                  <li>
                                    <a href="#59ff88c8wdfi" class="toc-h4 toc-link" data-title="HTTP Request">HTTP Request</a>
                                  </li>
                                  <li>
                                    <a href="#22da1a0518zy" class="toc-h4 toc-link" data-title="Request Parameters">Request Parameters</a>
                                  </li>
                                  <li>
                                    <a href="#a222a51ewyr0" class="toc-h4 toc-link" data-title="Response Parameters">Response Parameters</a>
                                  </li>
                              </ul>
                          </li>
                          <li>
                            <a href="#8eb906a2h6iz" class="toc-h3 toc-link" data-title="Place Swap Order">Place Swap Order</a>
                              <ul class="toc-list-h4">
                                  <li>
                                    <a href="#e5e4e37dptej" class="toc-h4 toc-link" data-title="Rate Limit: 3 requests per second">Rate Limit: 3 requests per second</a>
                                  </li>
                                  <li>
                                    <a href="#59ff88c8uv4s" class="toc-h4 toc-link" data-title="HTTP Request">HTTP Request</a>
                                  </li>
                                  <li>
                                    <a href="#22da1a05c16v" class="toc-h4 toc-link" data-title="Request Parameters">Request Parameters</a>
                                  </li>
                                  <li>
                                    <a href="#a222a51eqe4q" class="toc-h4 toc-link" data-title="Response Parameters">Response Parameters</a>
                                  </li>
                              </ul>
                          </li>
                          <li>
                            <a href="#ce1760877z8e" class="toc-h3 toc-link" data-title="Swap Batch Order Placement">Swap Batch Order Placement</a>
                              <ul class="toc-list-h4">
                                  <li>
                                    <a href="#e5e4e37dl8vg" class="toc-h4 toc-link" data-title="Rate Limit: 3 requests per second">Rate Limit: 3 requests per second</a>
                                  </li>
                                  <li>
                                    <a href="#59ff88c8afzh" class="toc-h4 toc-link" data-title="HTTP Request">HTTP Request</a>
                                  </li>
                                  <li>
                                    <a href="#22da1a05x1i7" class="toc-h4 toc-link" data-title="Request Parameters">Request Parameters</a>
                                  </li>
                                  <li>
                                    <a href="#a222a51edlkr" class="toc-h4 toc-link" data-title="Response Parameters">Response Parameters</a>
                                  </li>
                              </ul>
                          </li>
                          <li>
                            <a href="#69c0da91oe0c" class="toc-h3 toc-link" data-title="Close Swap Positions">Close Swap Positions</a>
                              <ul class="toc-list-h4">
                                  <li>
                                    <a href="#e5e4e37dc8o1" class="toc-h4 toc-link" data-title="Rate Limit: 3 requests per second">Rate Limit: 3 requests per second</a>
                                  </li>
                                  <li>
                                    <a href="#59ff88c8b51p" class="toc-h4 toc-link" data-title="HTTP Request">HTTP Request</a>
                                  </li>
                                  <li>
                                    <a href="#22da1a05tql5" class="toc-h4 toc-link" data-title="Request Parameters">Request Parameters</a>
                                  </li>
                                  <li>
                                    <a href="#a222a51egtl5" class="toc-h4 toc-link" data-title="Response Parameters">Response Parameters</a>
                                  </li>
                              </ul>
                          </li>
                          <li>
                            <a href="#ff225f2840xz" class="toc-h3 toc-link" data-title="Adjust Swap Position Leverage">Adjust Swap Position Leverage</a>
                              <ul class="toc-list-h4">
                                  <li>
                                    <a href="#e5e4e37dlaet" class="toc-h4 toc-link" data-title="Rate Limit: 3 requests per second">Rate Limit: 3 requests per second</a>
                                  </li>
                                  <li>
                                    <a href="#59ff88c870zf" class="toc-h4 toc-link" data-title="HTTP Request">HTTP Request</a>
                                  </li>
                                  <li>
                                    <a href="#22da1a057ulq" class="toc-h4 toc-link" data-title="Request Parameters">Request Parameters</a>
                                  </li>
                                  <li>
                                    <a href="#a222a51etrhp" class="toc-h4 toc-link" data-title="Response Parameters">Response Parameters</a>
                                  </li>
                              </ul>
                          </li>
                          <li>
                            <a href="#458151dfyuih" class="toc-h3 toc-link" data-title="Adjust Swap Position Margin">Adjust Swap Position Margin</a>
                              <ul class="toc-list-h4">
                                  <li>
                                    <a href="#e5e4e37d2mkt" class="toc-h4 toc-link" data-title="Rate Limit: 3 requests per second">Rate Limit: 3 requests per second</a>
                                  </li>
                                  <li>
                                    <a href="#59ff88c8luza" class="toc-h4 toc-link" data-title="HTTP Request">HTTP Request</a>
                                  </li>
                                  <li>
                                    <a href="#22da1a05n623" class="toc-h4 toc-link" data-title="Request Parameters">Request Parameters</a>
                                  </li>
                                  <li>
                                    <a href="#a222a51e2212" class="toc-h4 toc-link" data-title="Response Parameters">Response Parameters</a>
                                  </li>
                              </ul>
                          </li>
                          <li>
                            <a href="#7186362eb352" class="toc-h3 toc-link" data-title="Modify Swap User Leverage Configuration">Modify Swap User Leverage Configuration</a>
                              <ul class="toc-list-h4">
                                  <li>
                                    <a href="#e5e4e37dke9t" class="toc-h4 toc-link" data-title="Rate Limit: 3 requests per second">Rate Limit: 3 requests per second</a>
                                  </li>
                                  <li>
                                    <a href="#59ff88c8diqg" class="toc-h4 toc-link" data-title="HTTP Request">HTTP Request</a>
                                  </li>
                                  <li>
                                    <a href="#22da1a053b09" class="toc-h4 toc-link" data-title="Request Parameters">Request Parameters</a>
                                  </li>
                                  <li>
                                    <a href="#a222a51ehxbw" class="toc-h4 toc-link" data-title="Response Parameters">Response Parameters</a>
                                  </li>
                              </ul>
                          </li>
                          <li>
                            <a href="#b46eb3ea87cf" class="toc-h3 toc-link" data-title="Modify Swap User Margin Mode">Modify Swap User Margin Mode</a>
                              <ul class="toc-list-h4">
                                  <li>
                                    <a href="#e5e4e37dkfff" class="toc-h4 toc-link" data-title="Rate Limit: 3 requests per second">Rate Limit: 3 requests per second</a>
                                  </li>
                                  <li>
                                    <a href="#59ff88c81pyu" class="toc-h4 toc-link" data-title="HTTP Request">HTTP Request</a>
                                  </li>
                                  <li>
                                    <a href="#22da1a05v1ix" class="toc-h4 toc-link" data-title="Request Parameters">Request Parameters</a>
                                  </li>
                                  <li>
                                    <a href="#a222a51ecubo" class="toc-h4 toc-link" data-title="Response Parameters">Response Parameters</a>
                                  </li>
                              </ul>
                          </li>
                          <li>
                            <a href="#23311276kbja" class="toc-h3 toc-link" data-title="Modify Swap User Position Mode">Modify Swap User Position Mode</a>
                              <ul class="toc-list-h4">
                                  <li>
                                    <a href="#e5e4e37d18d1" class="toc-h4 toc-link" data-title="Rate Limit: 3 requests per second">Rate Limit: 3 requests per second</a>
                                  </li>
                                  <li>
                                    <a href="#59ff88c8133m" class="toc-h4 toc-link" data-title="HTTP Request">HTTP Request</a>
                                  </li>
                                  <li>
                                    <a href="#22da1a05dqf3" class="toc-h4 toc-link" data-title="Request Parameters">Request Parameters</a>
                                  </li>
                                  <li>
                                    <a href="#a222a51edbo1" class="toc-h4 toc-link" data-title="Response Parameters">Response Parameters</a>
                                  </li>
                              </ul>
                          </li>
                          <li>
                            <a href="#87125442dwdb" class="toc-h3 toc-link" data-title="Cancel Order">Cancel Order</a>
                              <ul class="toc-list-h4">
                                  <li>
                                    <a href="#cc37fa7dx8es" class="toc-h4 toc-link" data-title="Rate Limit: 3 times/second">Rate Limit: 3 times/second</a>
                                  </li>
                                  <li>
                                    <a href="#59ff88c8vhao" class="toc-h4 toc-link" data-title="HTTP Request">HTTP Request</a>
                                  </li>
                                  <li>
                                    <a href="#22da1a05xk8c" class="toc-h4 toc-link" data-title="Request Parameters">Request Parameters</a>
                                  </li>
                                  <li>
                                    <a href="#a222a51evy9a" class="toc-h4 toc-link" data-title="Response Parameters">Response Parameters</a>
                                  </li>
                              </ul>
                          </li>
                          <li>
                            <a href="#e3294bbap53z" class="toc-h3 toc-link" data-title="Cancel Batch Orders">Cancel Batch Orders</a>
                              <ul class="toc-list-h4">
                                  <li>
                                    <a href="#cc37fa7dq009" class="toc-h4 toc-link" data-title="Rate Limit: 3 times/second">Rate Limit: 3 times/second</a>
                                  </li>
                                  <li>
                                    <a href="#59ff88c8ul98" class="toc-h4 toc-link" data-title="HTTP Request">HTTP Request</a>
                                  </li>
                                  <li>
                                    <a href="#22da1a05yone" class="toc-h4 toc-link" data-title="Request Parameters">Request Parameters</a>
                                  </li>
                                  <li>
                                    <a href="#a222a51ent6k" class="toc-h4 toc-link" data-title="Response Parameters">Response Parameters</a>
                                  </li>
                              </ul>
                          </li>
                          <li>
                            <a href="#55b61fcedy6e" class="toc-h3 toc-link" data-title="Current Orders">Current Orders</a>
                              <ul class="toc-list-h4">
                                  <li>
                                    <a href="#019a09f4i22b" class="toc-h4 toc-link" data-title="Rate Limit: 10 requests per second">Rate Limit: 10 requests per second</a>
                                  </li>
                                  <li>
                                    <a href="#59ff88c8dmvr" class="toc-h4 toc-link" data-title="HTTP Request">HTTP Request</a>
                                  </li>
                                  <li>
                                    <a href="#22da1a05z6f5" class="toc-h4 toc-link" data-title="Request Parameters">Request Parameters</a>
                                  </li>
                                  <li>
                                    <a href="#a222a51efvpc" class="toc-h4 toc-link" data-title="Response Parameters">Response Parameters</a>
                                  </li>
                              </ul>
                          </li>
                          <li>
                            <a href="#917019abfjua" class="toc-h3 toc-link" data-title="Historical Orders">Historical Orders</a>
                              <ul class="toc-list-h4">
                                  <li>
                                    <a href="#019a09f4onch" class="toc-h4 toc-link" data-title="Rate Limit: 10 requests per second">Rate Limit: 10 requests per second</a>
                                  </li>
                                  <li>
                                    <a href="#59ff88c8rfng" class="toc-h4 toc-link" data-title="HTTP Request">HTTP Request</a>
                                  </li>
                                  <li>
                                    <a href="#22da1a056s0t" class="toc-h4 toc-link" data-title="Request Parameters">Request Parameters</a>
                                  </li>
                                  <li>
                                    <a href="#a222a51eu4c1" class="toc-h4 toc-link" data-title="Response Parameters">Response Parameters</a>
                                  </li>
                              </ul>
                          </li>
                          <li>
                            <a href="#3eff6ed8szwk" class="toc-h3 toc-link" data-title="Current Positions">Current Positions</a>
                              <ul class="toc-list-h4">
                                  <li>
                                    <a href="#019a09f4ksvt" class="toc-h4 toc-link" data-title="Rate Limit: 10 requests per second">Rate Limit: 10 requests per second</a>
                                  </li>
                                  <li>
                                    <a href="#59ff88c86nk8" class="toc-h4 toc-link" data-title="HTTP Request">HTTP Request</a>
                                  </li>
                                  <li>
                                    <a href="#22da1a058hu1" class="toc-h4 toc-link" data-title="Request Parameters">Request Parameters</a>
                                  </li>
                                  <li>
                                    <a href="#a222a51e48nf" class="toc-h4 toc-link" data-title="Response Parameters">Response Parameters</a>
                                  </li>
                              </ul>
                          </li>
                          <li>
                            <a href="#1efc9f59zm3g" class="toc-h3 toc-link" data-title="Historical Positions">Historical Positions</a>
                              <ul class="toc-list-h4">
                                  <li>
                                    <a href="#019a09f4lrok" class="toc-h4 toc-link" data-title="Rate Limit: 10 requests per second">Rate Limit: 10 requests per second</a>
                                  </li>
                                  <li>
                                    <a href="#59ff88c8p6b8" class="toc-h4 toc-link" data-title="HTTP Request">HTTP Request</a>
                                  </li>
                                  <li>
                                    <a href="#22da1a05ztnr" class="toc-h4 toc-link" data-title="Request Parameters">Request Parameters</a>
                                  </li>
                                  <li>
                                    <a href="#a222a51exgk4" class="toc-h4 toc-link" data-title="Response Parameters">Response Parameters</a>
                                  </li>
                              </ul>
                          </li>
                          <li>
                            <a href="#5cb2f719s0ff" class="toc-h3 toc-link" data-title="Get Order Details">Get Order Details</a>
                              <ul class="toc-list-h4">
                                  <li>
                                    <a href="#019a09f4fvb" class="toc-h4 toc-link" data-title="Rate Limit: 10 requests per second">Rate Limit: 10 requests per second</a>
                                  </li>
                                  <li>
                                    <a href="#59ff88c89jrj" class="toc-h4 toc-link" data-title="HTTP Request">HTTP Request</a>
                                  </li>
                                  <li>
                                    <a href="#22da1a05tjbt" class="toc-h4 toc-link" data-title="Request Parameters">Request Parameters</a>
                                  </li>
                                  <li>
                                    <a href="#a222a51emvmw" class="toc-h4 toc-link" data-title="Response Parameters">Response Parameters</a>
                                  </li>
                              </ul>
                          </li>
                          <li>
                            <a href="#e46ef59f2kvr" class="toc-h3 toc-link" data-title="Get Historical Order Details">Get Historical Order Details</a>
                              <ul class="toc-list-h4">
                                  <li>
                                    <a href="#019a09f43ytu" class="toc-h4 toc-link" data-title="Rate Limit: 10 requests per second">Rate Limit: 10 requests per second</a>
                                  </li>
                                  <li>
                                    <a href="#59ff88c8xpuh" class="toc-h4 toc-link" data-title="HTTP Request">HTTP Request</a>
                                  </li>
                                  <li>
                                    <a href="#22da1a051ml4" class="toc-h4 toc-link" data-title="Request Parameters">Request Parameters</a>
                                  </li>
                                  <li>
                                    <a href="#a222a51eslkb" class="toc-h4 toc-link" data-title="Response Parameters">Response Parameters</a>
                                  </li>
                              </ul>
                          </li>
                      </ul>
                  </li>
                  <li>
                    <a href="#bbca2ecccayv" class="toc-h2 toc-link" data-title="Funding Account">Funding Account</a>
                      <ul class="toc-list-h3">
                          <li>
                            <a href="#61b7c97feh4o" class="toc-h3 toc-link" data-title="Get Account Balance">Get Account Balance</a>
                              <ul class="toc-list-h4">
                                  <li>
                                    <a href="#547b187aqpkh" class="toc-h4 toc-link" data-title="Rate Limit: 10 requests/second">Rate Limit: 10 requests/second</a>
                                  </li>
                                  <li>
                                    <a href="#59ff88c8ogu9" class="toc-h4 toc-link" data-title="HTTP Request">HTTP Request</a>
                                  </li>
                                  <li>
                                    <a href="#22da1a05ljt2" class="toc-h4 toc-link" data-title="Request Parameters">Request Parameters</a>
                                  </li>
                                  <li>
                                    <a href="#a222a51e8bsj" class="toc-h4 toc-link" data-title="Response Parameters">Response Parameters</a>
                                  </li>
                              </ul>
                          </li>
                          <li>
                            <a href="#c7007335sq6q" class="toc-h3 toc-link" data-title="Get Account Transaction History (Last 7 Days)">Get Account Transaction History (Last 7 Days)</a>
                              <ul class="toc-list-h4">
                                  <li>
                                    <a href="#547b187aerc4" class="toc-h4 toc-link" data-title="Rate Limit: 10 requests/second">Rate Limit: 10 requests/second</a>
                                  </li>
                                  <li>
                                    <a href="#59ff88c8far" class="toc-h4 toc-link" data-title="HTTP Request">HTTP Request</a>
                                  </li>
                                  <li>
                                    <a href="#22da1a052d41" class="toc-h4 toc-link" data-title="Request Parameters">Request Parameters</a>
                                  </li>
                                  <li>
                                    <a href="#a222a51ecusg" class="toc-h4 toc-link" data-title="Response Parameters">Response Parameters</a>
                                  </li>
                              </ul>
                          </li>
                      </ul>
                  </li>
                  <li>
                    <a href="#deb00f3f3hi1" class="toc-h2 toc-link" data-title="Trading Account">Trading Account</a>
                      <ul class="toc-list-h3">
                          <li>
                            <a href="#29f944d5wv7k" class="toc-h3 toc-link" data-title="Get Trading Account Balances">Get Trading Account Balances</a>
                              <ul class="toc-list-h4">
                                  <li>
                                    <a href="#2f2cdc08xo3i" class="toc-h4 toc-link" data-title="Rate Limit: 10 times/second">Rate Limit: 10 times/second</a>
                                  </li>
                                  <li>
                                    <a href="#59ff88c8ycn5" class="toc-h4 toc-link" data-title="HTTP Request">HTTP Request</a>
                                  </li>
                                  <li>
                                    <a href="#22da1a05qqef" class="toc-h4 toc-link" data-title="Request Parameters">Request Parameters</a>
                                  </li>
                                  <li>
                                    <a href="#a222a51e1ne7" class="toc-h4 toc-link" data-title="Response Parameters">Response Parameters</a>
                                  </li>
                              </ul>
                          </li>
                          <li>
                            <a href="#e90e0d7cxfl2" class="toc-h3 toc-link" data-title="Get Trading Account Statements (Last 7 Days)">Get Trading Account Statements (Last 7 Days)</a>
                              <ul class="toc-list-h4">
                                  <li>
                                    <a href="#2f2cdc082uv3" class="toc-h4 toc-link" data-title="Rate Limit: 10 times/second">Rate Limit: 10 times/second</a>
                                  </li>
                                  <li>
                                    <a href="#59ff88c87ifm" class="toc-h4 toc-link" data-title="HTTP Request">HTTP Request</a>
                                  </li>
                                  <li>
                                    <a href="#22da1a05gjwh" class="toc-h4 toc-link" data-title="Request Parameters">Request Parameters</a>
                                  </li>
                                  <li>
                                    <a href="#a222a51ellyw" class="toc-h4 toc-link" data-title="Response Parameters">Response Parameters</a>
                                  </li>
                              </ul>
                          </li>
                      </ul>
                  </li>
                  <li>
                    <a href="#6af89013fyvg" class="toc-h2 toc-link" data-title="Spot Market Data">Spot Market Data</a>
                      <ul class="toc-list-h3">
                          <li>
                            <a href="#534fecb45vdx" class="toc-h3 toc-link" data-title="Spot Candlestick Data">Spot Candlestick Data</a>
                              <ul class="toc-list-h4">
                                  <li>
                                    <a href="#652dce07uzvb" class="toc-h4 toc-link" data-title="Rate Limit: 20 times/2 seconds">Rate Limit: 20 times/2 seconds</a>
                                  </li>
                                  <li>
                                    <a href="#50278e02ugxn" class="toc-h4 toc-link" data-title="Rate Limiting Rule: IP">Rate Limiting Rule: IP</a>
                                  </li>
                                  <li>
                                    <a href="#59ff88c8qyfi" class="toc-h4 toc-link" data-title="HTTP Request">HTTP Request</a>
                                  </li>
                                  <li>
                                    <a href="#22da1a0521v3" class="toc-h4 toc-link" data-title="Request Parameters">Request Parameters</a>
                                  </li>
                                  <li>
                                    <a href="#a222a51e4nq1" class="toc-h4 toc-link" data-title="Response Parameters">Response Parameters</a>
                                  </li>
                              </ul>
                          </li>
                          <li>
                            <a href="#c07cef3aib0r" class="toc-h3 toc-link" data-title="Spot Order Book">Spot Order Book</a>
                              <ul class="toc-list-h4">
                                  <li>
                                    <a href="#652dce07squ3" class="toc-h4 toc-link" data-title="Rate Limit: 20 times/2 seconds">Rate Limit: 20 times/2 seconds</a>
                                  </li>
                                  <li>
                                    <a href="#50278e025we" class="toc-h4 toc-link" data-title="Rate Limiting Rule: IP">Rate Limiting Rule: IP</a>
                                  </li>
                                  <li>
                                    <a href="#59ff88c8wfj6" class="toc-h4 toc-link" data-title="HTTP Request">HTTP Request</a>
                                  </li>
                                  <li>
                                    <a href="#22da1a056jhf" class="toc-h4 toc-link" data-title="Request Parameters">Request Parameters</a>
                                  </li>
                                  <li>
                                    <a href="#a222a51e8w2d" class="toc-h4 toc-link" data-title="Response Parameters">Response Parameters</a>
                                  </li>
                              </ul>
                          </li>
                          <li>
                            <a href="#ea05241e9fp5" class="toc-h3 toc-link" data-title="Spot Tickers">Spot Tickers</a>
                              <ul class="toc-list-h4">
                                  <li>
                                    <a href="#652dce072jid" class="toc-h4 toc-link" data-title="Rate Limit: 20 times/2 seconds">Rate Limit: 20 times/2 seconds</a>
                                  </li>
                                  <li>
                                    <a href="#50278e02aai9" class="toc-h4 toc-link" data-title="Rate Limiting Rule: IP">Rate Limiting Rule: IP</a>
                                  </li>
                                  <li>
                                    <a href="#59ff88c8phze" class="toc-h4 toc-link" data-title="HTTP Request">HTTP Request</a>
                                  </li>
                                  <li>
                                    <a href="#22da1a057ohm" class="toc-h4 toc-link" data-title="Request Parameters">Request Parameters</a>
                                  </li>
                                  <li>
                                    <a href="#a222a51egpxq" class="toc-h4 toc-link" data-title="Response Parameters">Response Parameters</a>
                                  </li>
                              </ul>
                          </li>
                          <li>
                            <a href="#3cd370f07zhz" class="toc-h3 toc-link" data-title="Spot Ticker">Spot Ticker</a>
                              <ul class="toc-list-h4">
                                  <li>
                                    <a href="#652dce075vak" class="toc-h4 toc-link" data-title="Rate Limit: 20 times/2 seconds">Rate Limit: 20 times/2 seconds</a>
                                  </li>
                                  <li>
                                    <a href="#50278e02q0xh" class="toc-h4 toc-link" data-title="Rate Limiting Rule: IP">Rate Limiting Rule: IP</a>
                                  </li>
                                  <li>
                                    <a href="#59ff88c8dvm4" class="toc-h4 toc-link" data-title="HTTP Request">HTTP Request</a>
                                  </li>
                                  <li>
                                    <a href="#22da1a05ubeh" class="toc-h4 toc-link" data-title="Request Parameters">Request Parameters</a>
                                  </li>
                                  <li>
                                    <a href="#a222a51e1ix0" class="toc-h4 toc-link" data-title="Response Parameters">Response Parameters</a>
                                  </li>
                              </ul>
                          </li>
                          <li>
                            <a href="#459d9bf4acua" class="toc-h3 toc-link" data-title="Spot Trade Record">Spot Trade Record</a>
                              <ul class="toc-list-h4">
                                  <li>
                                    <a href="#652dce07jfn1" class="toc-h4 toc-link" data-title="Rate Limit: 20 times/2 seconds">Rate Limit: 20 times/2 seconds</a>
                                  </li>
                                  <li>
                                    <a href="#50278e02pk7x" class="toc-h4 toc-link" data-title="Rate Limiting Rule: IP">Rate Limiting Rule: IP</a>
                                  </li>
                                  <li>
                                    <a href="#59ff88c8upi7" class="toc-h4 toc-link" data-title="HTTP Request">HTTP Request</a>
                                  </li>
                                  <li>
                                    <a href="#22da1a05y23u" class="toc-h4 toc-link" data-title="Request Parameters">Request Parameters</a>
                                  </li>
                                  <li>
                                    <a href="#a222a51enh9j" class="toc-h4 toc-link" data-title="Response Parameters">Response Parameters</a>
                                  </li>
                              </ul>
                          </li>
                          <li>
                            <a href="#8096f75fo2w1" class="toc-h3 toc-link" data-title="Spot Batch Trade Records">Spot Batch Trade Records</a>
                              <ul class="toc-list-h4">
                                  <li>
                                    <a href="#652dce07a1pc" class="toc-h4 toc-link" data-title="Rate Limit: 20 times/2 seconds">Rate Limit: 20 times/2 seconds</a>
                                  </li>
                                  <li>
                                    <a href="#50278e02t7qi" class="toc-h4 toc-link" data-title="Rate Limiting Rule: IP">Rate Limiting Rule: IP</a>
                                  </li>
                                  <li>
                                    <a href="#59ff88c8u1b8" class="toc-h4 toc-link" data-title="HTTP Request">HTTP Request</a>
                                  </li>
                                  <li>
                                    <a href="#22da1a05dz5t" class="toc-h4 toc-link" data-title="Request Parameters">Request Parameters</a>
                                  </li>
                                  <li>
                                    <a href="#a222a51evu4b" class="toc-h4 toc-link" data-title="Response Parameters">Response Parameters</a>
                                  </li>
                              </ul>
                          </li>
                          <li>
                            <a href="#551dd740eqd7" class="toc-h3 toc-link" data-title="Spot Historical Trade Records">Spot Historical Trade Records</a>
                              <ul class="toc-list-h4">
                                  <li>
                                    <a href="#5c8dcc6752jt" class="toc-h4 toc-link" data-title="Rate Limit: 20 requests per 2 seconds">Rate Limit: 20 requests per 2 seconds</a>
                                  </li>
                                  <li>
                                    <a href="#b04be0capek4" class="toc-h4 toc-link" data-title="Limit Rule: IP-based">Limit Rule: IP-based</a>
                                  </li>
                                  <li>
                                    <a href="#59ff88c8uw6s" class="toc-h4 toc-link" data-title="HTTP Request">HTTP Request</a>
                                  </li>
                                  <li>
                                    <a href="#22da1a05hehu" class="toc-h4 toc-link" data-title="Request Parameters">Request Parameters</a>
                                  </li>
                                  <li>
                                    <a href="#a222a51e3hsq" class="toc-h4 toc-link" data-title="Response Parameters">Response Parameters</a>
                                  </li>
                              </ul>
                          </li>
                      </ul>
                  </li>
                  <li>
                    <a href="#c7c313b5u4mu" class="toc-h2 toc-link" data-title="Swap Market Data">Swap Market Data</a>
                      <ul class="toc-list-h3">
                          <li>
                            <a href="#d68573972by3" class="toc-h3 toc-link" data-title="Swap Candlestick Data">Swap Candlestick Data</a>
                              <ul class="toc-list-h4">
                                  <li>
                                    <a href="#652dce07zth0" class="toc-h4 toc-link" data-title="Rate Limit: 20 times/2 seconds">Rate Limit: 20 times/2 seconds</a>
                                  </li>
                                  <li>
                                    <a href="#50278e02pann" class="toc-h4 toc-link" data-title="Rate Limiting Rule: IP">Rate Limiting Rule: IP</a>
                                  </li>
                                  <li>
                                    <a href="#59ff88c8t83x" class="toc-h4 toc-link" data-title="HTTP Request">HTTP Request</a>
                                  </li>
                                  <li>
                                    <a href="#22da1a053fas" class="toc-h4 toc-link" data-title="Request Parameters">Request Parameters</a>
                                  </li>
                                  <li>
                                    <a href="#a222a51ecqjb" class="toc-h4 toc-link" data-title="Response Parameters">Response Parameters</a>
                                  </li>
                              </ul>
                          </li>
                          <li>
                            <a href="#463d9e67irt1" class="toc-h3 toc-link" data-title="Swap Order Book">Swap Order Book</a>
                              <ul class="toc-list-h4">
                                  <li>
                                    <a href="#652dce07y7ab" class="toc-h4 toc-link" data-title="Rate Limit: 20 times/2 seconds">Rate Limit: 20 times/2 seconds</a>
                                  </li>
                                  <li>
                                    <a href="#50278e02p75b" class="toc-h4 toc-link" data-title="Rate Limiting Rule: IP">Rate Limiting Rule: IP</a>
                                  </li>
                                  <li>
                                    <a href="#59ff88c8w8sa" class="toc-h4 toc-link" data-title="HTTP Request">HTTP Request</a>
                                  </li>
                                  <li>
                                    <a href="#22da1a05c5te" class="toc-h4 toc-link" data-title="Request Parameters">Request Parameters</a>
                                  </li>
                                  <li>
                                    <a href="#a222a51e2bo5" class="toc-h4 toc-link" data-title="Response Parameters">Response Parameters</a>
                                  </li>
                              </ul>
                          </li>
                          <li>
                            <a href="#12c02d7b15op" class="toc-h3 toc-link" data-title="Swap Ticker">Swap Ticker</a>
                              <ul class="toc-list-h4">
                                  <li>
                                    <a href="#652dce07mueo" class="toc-h4 toc-link" data-title="Rate Limit: 20 times/2 seconds">Rate Limit: 20 times/2 seconds</a>
                                  </li>
                                  <li>
                                    <a href="#50278e02vzut" class="toc-h4 toc-link" data-title="Rate Limiting Rule: IP">Rate Limiting Rule: IP</a>
                                  </li>
                                  <li>
                                    <a href="#59ff88c8d5ye" class="toc-h4 toc-link" data-title="HTTP Request">HTTP Request</a>
                                  </li>
                                  <li>
                                    <a href="#22da1a05qie" class="toc-h4 toc-link" data-title="Request Parameters">Request Parameters</a>
                                  </li>
                                  <li>
                                    <a href="#a222a51evzdi" class="toc-h4 toc-link" data-title="Response Parameters">Response Parameters</a>
                                  </li>
                              </ul>
                          </li>
                          <li>
                            <a href="#2ff69aa59q8j" class="toc-h3 toc-link" data-title="Swap Tickers">Swap Tickers</a>
                              <ul class="toc-list-h4">
                                  <li>
                                    <a href="#652dce07if74" class="toc-h4 toc-link" data-title="Rate Limit: 20 times/2 seconds">Rate Limit: 20 times/2 seconds</a>
                                  </li>
                                  <li>
                                    <a href="#50278e02jlfy" class="toc-h4 toc-link" data-title="Rate Limiting Rule: IP">Rate Limiting Rule: IP</a>
                                  </li>
                                  <li>
                                    <a href="#59ff88c8nx56" class="toc-h4 toc-link" data-title="HTTP Request">HTTP Request</a>
                                  </li>
                                  <li>
                                    <a href="#22da1a05pjwl" class="toc-h4 toc-link" data-title="Request Parameters">Request Parameters</a>
                                  </li>
                                  <li>
                                    <a href="#a222a51e6kaw" class="toc-h4 toc-link" data-title="Response Parameters">Response Parameters</a>
                                  </li>
                              </ul>
                          </li>
                          <li>
                            <a href="#78857a28ak8w" class="toc-h3 toc-link" data-title="Swap Trade Record">Swap Trade Record</a>
                              <ul class="toc-list-h4">
                                  <li>
                                    <a href="#652dce07gbii" class="toc-h4 toc-link" data-title="Rate Limit: 20 times/2 seconds">Rate Limit: 20 times/2 seconds</a>
                                  </li>
                                  <li>
                                    <a href="#50278e02nzwy" class="toc-h4 toc-link" data-title="Rate Limiting Rule: IP">Rate Limiting Rule: IP</a>
                                  </li>
                                  <li>
                                    <a href="#59ff88c8yunr" class="toc-h4 toc-link" data-title="HTTP Request">HTTP Request</a>
                                  </li>
                                  <li>
                                    <a href="#22da1a05pfre" class="toc-h4 toc-link" data-title="Request Parameters">Request Parameters</a>
                                  </li>
                                  <li>
                                    <a href="#a222a51etsbk" class="toc-h4 toc-link" data-title="Response Parameters">Response Parameters</a>
                                  </li>
                              </ul>
                          </li>
                          <li>
                            <a href="#e51910935trk" class="toc-h3 toc-link" data-title="Swap Batch Trade Records">Swap Batch Trade Records</a>
                              <ul class="toc-list-h4">
                                  <li>
                                    <a href="#652dce079m8u" class="toc-h4 toc-link" data-title="Rate Limit: 20 times/2 seconds">Rate Limit: 20 times/2 seconds</a>
                                  </li>
                                  <li>
                                    <a href="#50278e02q4g5" class="toc-h4 toc-link" data-title="Rate Limiting Rule: IP">Rate Limiting Rule: IP</a>
                                  </li>
                                  <li>
                                    <a href="#59ff88c8esup" class="toc-h4 toc-link" data-title="HTTP Request">HTTP Request</a>
                                  </li>
                                  <li>
                                    <a href="#22da1a05dzze" class="toc-h4 toc-link" data-title="Request Parameters">Request Parameters</a>
                                  </li>
                                  <li>
                                    <a href="#a222a51eb9ns" class="toc-h4 toc-link" data-title="Response Parameters">Response Parameters</a>
                                  </li>
                              </ul>
                          </li>
                          <li>
                            <a href="#c9531161inu8" class="toc-h3 toc-link" data-title="Swap Historical Trade Records">Swap Historical Trade Records</a>
                              <ul class="toc-list-h4">
                                  <li>
                                    <a href="#5c8dcc67nmx4" class="toc-h4 toc-link" data-title="Rate Limit: 20 requests per 2 seconds">Rate Limit: 20 requests per 2 seconds</a>
                                  </li>
                                  <li>
                                    <a href="#b04be0cakzt2" class="toc-h4 toc-link" data-title="Limit Rule: IP-based">Limit Rule: IP-based</a>
                                  </li>
                                  <li>
                                    <a href="#59ff88c860ke" class="toc-h4 toc-link" data-title="HTTP Request">HTTP Request</a>
                                  </li>
                                  <li>
                                    <a href="#22da1a051ly4" class="toc-h4 toc-link" data-title="Request Parameters">Request Parameters</a>
                                  </li>
                                  <li>
                                    <a href="#a222a51emqwl" class="toc-h4 toc-link" data-title="Response Parameters">Response Parameters</a>
                                  </li>
                              </ul>
                          </li>
                          <li>
                            <a href="#5d99e7c6lgmw" class="toc-h3 toc-link" data-title="Index Candlestick Data">Index Candlestick Data</a>
                              <ul class="toc-list-h4">
                                  <li>
                                    <a href="#652dce07g177" class="toc-h4 toc-link" data-title="Rate Limit: 20 times/2 seconds">Rate Limit: 20 times/2 seconds</a>
                                  </li>
                                  <li>
                                    <a href="#50278e02wszz" class="toc-h4 toc-link" data-title="Rate Limiting Rule: IP">Rate Limiting Rule: IP</a>
                                  </li>
                                  <li>
                                    <a href="#59ff88c8zjgt" class="toc-h4 toc-link" data-title="HTTP Request">HTTP Request</a>
                                  </li>
                                  <li>
                                    <a href="#22da1a05bu44" class="toc-h4 toc-link" data-title="Request Parameters">Request Parameters</a>
                                  </li>
                                  <li>
                                    <a href="#a222a51e2vuw" class="toc-h4 toc-link" data-title="Response Parameters">Response Parameters</a>
                                  </li>
                              </ul>
                          </li>
                          <li>
                            <a href="#0cdb8dbbvep6" class="toc-h3 toc-link" data-title="Mark Price Candlestick Data">Mark Price Candlestick Data</a>
                              <ul class="toc-list-h4">
                                  <li>
                                    <a href="#652dce079e36" class="toc-h4 toc-link" data-title="Rate Limit: 20 times/2 seconds">Rate Limit: 20 times/2 seconds</a>
                                  </li>
                                  <li>
                                    <a href="#50278e02r2t7" class="toc-h4 toc-link" data-title="Rate Limiting Rule: IP">Rate Limiting Rule: IP</a>
                                  </li>
                                  <li>
                                    <a href="#59ff88c8yg52" class="toc-h4 toc-link" data-title="HTTP Request">HTTP Request</a>
                                  </li>
                                  <li>
                                    <a href="#22da1a05c67l" class="toc-h4 toc-link" data-title="Request Parameters">Request Parameters</a>
                                  </li>
                                  <li>
                                    <a href="#a222a51euil3" class="toc-h4 toc-link" data-title="Response Parameters">Response Parameters</a>
                                  </li>
                              </ul>
                          </li>
                      </ul>
                  </li>
                  <li>
                    <a href="#be5c56474e4b" class="toc-h2 toc-link" data-title="Public Data">Public Data</a>
                      <ul class="toc-list-h3">
                          <li>
                            <a href="#c5272bee5ifa" class="toc-h3 toc-link" data-title="Get Server Time">Get Server Time</a>
                              <ul class="toc-list-h4">
                                  <li>
                                    <a href="#2f2cdc08foc0" class="toc-h4 toc-link" data-title="Rate Limit: 10 times/second">Rate Limit: 10 times/second</a>
                                  </li>
                                  <li>
                                    <a href="#59ff88c8y16l" class="toc-h4 toc-link" data-title="HTTP Request">HTTP Request</a>
                                  </li>
                                  <li>
                                    <a href="#a222a51e2s1n" class="toc-h4 toc-link" data-title="Response Parameters">Response Parameters</a>
                                  </li>
                              </ul>
                          </li>
                          <li>
                            <a href="#11817f3fu8l2" class="toc-h3 toc-link" data-title="Get Coin List">Get Coin List</a>
                              <ul class="toc-list-h4">
                                  <li>
                                    <a href="#2f2cdc08yvw9" class="toc-h4 toc-link" data-title="Rate Limit: 10 times/second">Rate Limit: 10 times/second</a>
                                  </li>
                                  <li>
                                    <a href="#59ff88c8nvzk" class="toc-h4 toc-link" data-title="HTTP Request">HTTP Request</a>
                                  </li>
                                  <li>
                                    <a href="#a222a51evtgi" class="toc-h4 toc-link" data-title="Response Parameters">Response Parameters</a>
                                  </li>
                              </ul>
                          </li>
                          <li>
                            <a href="#47596ed3a8th" class="toc-h3 toc-link" data-title="Get Product List">Get Product List</a>
                              <ul class="toc-list-h4">
                                  <li>
                                    <a href="#2f2cdc08vc9o" class="toc-h4 toc-link" data-title="Rate Limit: 10 times/second">Rate Limit: 10 times/second</a>
                                  </li>
                                  <li>
                                    <a href="#59ff88c8kopl" class="toc-h4 toc-link" data-title="HTTP Request">HTTP Request</a>
                                  </li>
                                  <li>
                                    <a href="#22da1a05yi1r" class="toc-h4 toc-link" data-title="Request Parameters">Request Parameters</a>
                                  </li>
                                  <li>
                                    <a href="#a222a51evlra" class="toc-h4 toc-link" data-title="Response Parameters">Response Parameters</a>
                                  </li>
                              </ul>
                          </li>
                      </ul>
                  </li>
              </ul>
          </li>
          <li>
            <a href="#02a11319dmmf" class="toc-h1 toc-link" data-title="WebSocket API">WebSocket API</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#0efc2e6btbi4" class="toc-h2 toc-link" data-title="Overview">Overview</a>
                  </li>
                  <li>
                    <a href="#6512ee153unh" class="toc-h2 toc-link" data-title="Connection">Connection</a>
                      <ul class="toc-list-h3">
                          <li>
                            <a href="#0a308fe1dqfl" class="toc-h3 toc-link" data-title="Connection Description:">Connection Description:</a>
                          </li>
                          <li>
                            <a href="#f8c5c1a653oa" class="toc-h3 toc-link" data-title="Connection Limit: 1 time/second">Connection Limit: 1 time/second</a>
                          </li>
                          <li>
                            <a href="#a3a00d0bjf3q" class="toc-h3 toc-link" data-title="Subscription Limit: 240 times/hour">Subscription Limit: 240 times/hour</a>
                          </li>
                          <li>
                            <a href="#8fde48f3qk87" class="toc-h3 toc-link" data-title="Subscription">Subscription</a>
                              <ul class="toc-list-h4">
                                  <li>
                                    <a href="#22da1a05g4xw" class="toc-h4 toc-link" data-title="Request Parameters">Request Parameters</a>
                                  </li>
                              </ul>
                          </li>
                          <li>
                            <a href="#834cc0eexq0b" class="toc-h3 toc-link" data-title="Unsubscribe">Unsubscribe</a>
                              <ul class="toc-list-h4">
                                  <li>
                                    <a href="#22da1a053qzi" class="toc-h4 toc-link" data-title="Request Parameters">Request Parameters</a>
                                  </li>
                                  <li>
                                    <a href="#a222a51er1mp" class="toc-h4 toc-link" data-title="Response Parameters">Response Parameters</a>
                                  </li>
                              </ul>
                          </li>
                          <li>
                            <a href="#21aae00a89co" class="toc-h3 toc-link" data-title="Request Historical Data">Request Historical Data</a>
                              <ul class="toc-list-h4">
                                  <li>
                                    <a href="#22da1a05ogaj" class="toc-h4 toc-link" data-title="Request Parameters">Request Parameters</a>
                                  </li>
                                  <li>
                                    <a href="#a222a51ermui" class="toc-h4 toc-link" data-title="Response Parameters">Response Parameters</a>
                                  </li>
                              </ul>
                          </li>
                      </ul>
                  </li>
                  <li>
                    <a href="#f0aac927lc0o" class="toc-h2 toc-link" data-title="Swap Public Subscription">Swap Public Subscription</a>
                      <ul class="toc-list-h3">
                          <li>
                            <a href="#15721f90mmiz" class="toc-h3 toc-link" data-title="Swap Candles">Swap Candles</a>
                              <ul class="toc-list-h4">
                                  <li>
                                    <a href="#22da1a05om2k" class="toc-h4 toc-link" data-title="Request Parameters">Request Parameters</a>
                                  </li>
                                  <li>
                                    <a href="#a222a51e9pb0" class="toc-h4 toc-link" data-title="Response Parameters">Response Parameters</a>
                                  </li>
                                  <li>
                                    <a href="#5efa6fabm8b0" class="toc-h4 toc-link" data-title="FEED Parameter Description">FEED Parameter Description</a>
                                  </li>
                              </ul>
                          </li>
                          <li>
                            <a href="#42d866cc3cfa" class="toc-h3 toc-link" data-title="Swap Overview">Swap Overview</a>
                              <ul class="toc-list-h4">
                                  <li>
                                    <a href="#22da1a05gqqf" class="toc-h4 toc-link" data-title="Request Parameters">Request Parameters</a>
                                  </li>
                                  <li>
                                    <a href="#a222a51ee6o2" class="toc-h4 toc-link" data-title="Response Parameters">Response Parameters</a>
                                  </li>
                                  <li>
                                    <a href="#5efa6fabq1la" class="toc-h4 toc-link" data-title="FEED Parameter Description">FEED Parameter Description</a>
                                  </li>
                              </ul>
                          </li>
                          <li>
                            <a href="#91a6cfd9lxyk" class="toc-h3 toc-link" data-title="Swap Fills">Swap Fills</a>
                              <ul class="toc-list-h4">
                                  <li>
                                    <a href="#22da1a0587vw" class="toc-h4 toc-link" data-title="Request Parameters">Request Parameters</a>
                                  </li>
                                  <li>
                                    <a href="#a222a51eihes" class="toc-h4 toc-link" data-title="Response Parameters">Response Parameters</a>
                                  </li>
                                  <li>
                                    <a href="#5efa6fab5wyf" class="toc-h4 toc-link" data-title="FEED Parameter Description">FEED Parameter Description</a>
                                  </li>
                              </ul>
                          </li>
                          <li>
                            <a href="#7a80c0fdiu6k" class="toc-h3 toc-link" data-title="Swap OrderBook">Swap OrderBook</a>
                              <ul class="toc-list-h4">
                                  <li>
                                    <a href="#22da1a05urc3" class="toc-h4 toc-link" data-title="Request Parameters">Request Parameters</a>
                                  </li>
                                  <li>
                                    <a href="#a222a51e3vj2" class="toc-h4 toc-link" data-title="Response Parameters">Response Parameters</a>
                                  </li>
                                  <li>
                                    <a href="#5efa6fab41b3" class="toc-h4 toc-link" data-title="FEED Parameter Description">FEED Parameter Description</a>
                                  </li>
                              </ul>
                          </li>
                          <li>
                            <a href="#57ead70e2kij" class="toc-h3 toc-link" data-title="Swap Percent10">Swap Percent10</a>
                              <ul class="toc-list-h4">
                                  <li>
                                    <a href="#22da1a054rhz" class="toc-h4 toc-link" data-title="Request Parameters">Request Parameters</a>
                                  </li>
                                  <li>
                                    <a href="#a222a51e1qfq" class="toc-h4 toc-link" data-title="Response Parameters">Response Parameters</a>
                                  </li>
                                  <li>
                                    <a href="#5efa6fab9c6h" class="toc-h4 toc-link" data-title="FEED Parameter Description">FEED Parameter Description</a>
                                  </li>
                              </ul>
                          </li>
                          <li>
                            <a href="#12c02d7buunl" class="toc-h3 toc-link" data-title="Swap Ticker">Swap Ticker</a>
                              <ul class="toc-list-h4">
                                  <li>
                                    <a href="#22da1a05a9mj" class="toc-h4 toc-link" data-title="Request Parameters">Request Parameters</a>
                                  </li>
                                  <li>
                                    <a href="#a222a51e94es" class="toc-h4 toc-link" data-title="Response Parameters">Response Parameters</a>
                                  </li>
                                  <li>
                                    <a href="#5efa6fabk9y9" class="toc-h4 toc-link" data-title="FEED Parameter Description">FEED Parameter Description</a>
                                  </li>
                              </ul>
                          </li>
                          <li>
                            <a href="#43f01dfe4zfi" class="toc-h3 toc-link" data-title="Swap Index Candles">Swap Index Candles</a>
                              <ul class="toc-list-h4">
                                  <li>
                                    <a href="#22da1a05n1ah" class="toc-h4 toc-link" data-title="Request Parameters">Request Parameters</a>
                                  </li>
                                  <li>
                                    <a href="#a222a51er30p" class="toc-h4 toc-link" data-title="Response Parameters">Response Parameters</a>
                                  </li>
                                  <li>
                                    <a href="#5efa6fabmsf9" class="toc-h4 toc-link" data-title="FEED Parameter Description">FEED Parameter Description</a>
                                  </li>
                              </ul>
                          </li>
                          <li>
                            <a href="#0803ee2cli0h" class="toc-h3 toc-link" data-title="Swap Tag Candles">Swap Tag Candles</a>
                              <ul class="toc-list-h4">
                                  <li>
                                    <a href="#22da1a05x3kk" class="toc-h4 toc-link" data-title="Request Parameters">Request Parameters</a>
                                  </li>
                                  <li>
                                    <a href="#a222a51egtf" class="toc-h4 toc-link" data-title="Response Parameters">Response Parameters</a>
                                  </li>
                                  <li>
                                    <a href="#5efa6fabzf28" class="toc-h4 toc-link" data-title="FEED Parameter Description">FEED Parameter Description</a>
                                  </li>
                              </ul>
                          </li>
                      </ul>
                  </li>
                  <li>
                    <a href="#ef153bb52ocw" class="toc-h2 toc-link" data-title="Spot Public Subscription">Spot Public Subscription</a>
                      <ul class="toc-list-h3">
                          <li>
                            <a href="#18789d7cbj7y" class="toc-h3 toc-link" data-title="Spot Candles">Spot Candles</a>
                              <ul class="toc-list-h4">
                                  <li>
                                    <a href="#22da1a05qogm" class="toc-h4 toc-link" data-title="Request Parameters">Request Parameters</a>
                                  </li>
                                  <li>
                                    <a href="#a222a51eize8" class="toc-h4 toc-link" data-title="Response Parameters">Response Parameters</a>
                                  </li>
                                  <li>
                                    <a href="#5efa6fabrd3m" class="toc-h4 toc-link" data-title="FEED Parameter Description">FEED Parameter Description</a>
                                  </li>
                              </ul>
                          </li>
                          <li>
                            <a href="#f82e00ddfp8j" class="toc-h3 toc-link" data-title="Spot Overview">Spot Overview</a>
                              <ul class="toc-list-h4">
                                  <li>
                                    <a href="#22da1a05jd73" class="toc-h4 toc-link" data-title="Request Parameters">Request Parameters</a>
                                  </li>
                                  <li>
                                    <a href="#a222a51ef79b" class="toc-h4 toc-link" data-title="Response Parameters">Response Parameters</a>
                                  </li>
                                  <li>
                                    <a href="#5efa6fab5x5s" class="toc-h4 toc-link" data-title="FEED Parameter Description">FEED Parameter Description</a>
                                  </li>
                              </ul>
                          </li>
                          <li>
                            <a href="#169179eca9zu" class="toc-h3 toc-link" data-title="Spot Fills">Spot Fills</a>
                              <ul class="toc-list-h4">
                                  <li>
                                    <a href="#22da1a059oq4" class="toc-h4 toc-link" data-title="Request Parameters">Request Parameters</a>
                                  </li>
                                  <li>
                                    <a href="#a222a51ezwj9" class="toc-h4 toc-link" data-title="Response Parameters">Response Parameters</a>
                                  </li>
                                  <li>
                                    <a href="#5efa6fabtw3q" class="toc-h4 toc-link" data-title="FEED Parameter Description">FEED Parameter Description</a>
                                  </li>
                              </ul>
                          </li>
                          <li>
                            <a href="#e59e004eayxo" class="toc-h3 toc-link" data-title="Spot OrderBook">Spot OrderBook</a>
                              <ul class="toc-list-h4">
                                  <li>
                                    <a href="#22da1a05kwry" class="toc-h4 toc-link" data-title="Request Parameters">Request Parameters</a>
                                  </li>
                                  <li>
                                    <a href="#a222a51ebj1j" class="toc-h4 toc-link" data-title="Response Parameters">Response Parameters</a>
                                  </li>
                                  <li>
                                    <a href="#5efa6fab1sca" class="toc-h4 toc-link" data-title="FEED Parameter Description">FEED Parameter Description</a>
                                  </li>
                              </ul>
                          </li>
                          <li>
                            <a href="#a53bf155aexp" class="toc-h3 toc-link" data-title="Spot Percent10">Spot Percent10</a>
                              <ul class="toc-list-h4">
                                  <li>
                                    <a href="#22da1a052rps" class="toc-h4 toc-link" data-title="Request Parameters">Request Parameters</a>
                                  </li>
                                  <li>
                                    <a href="#a222a51eiriy" class="toc-h4 toc-link" data-title="Response Parameters">Response Parameters</a>
                                  </li>
                                  <li>
                                    <a href="#5efa6fabtu35" class="toc-h4 toc-link" data-title="FEED Parameter Description">FEED Parameter Description</a>
                                  </li>
                              </ul>
                          </li>
                          <li>
                            <a href="#3cd370f0jh0f" class="toc-h3 toc-link" data-title="Spot Ticker">Spot Ticker</a>
                              <ul class="toc-list-h4">
                                  <li>
                                    <a href="#22da1a05s8iz" class="toc-h4 toc-link" data-title="Request Parameters">Request Parameters</a>
                                  </li>
                                  <li>
                                    <a href="#a222a51efb66" class="toc-h4 toc-link" data-title="Response Parameters">Response Parameters</a>
                                  </li>
                                  <li>
                                    <a href="#5efa6fabldb5" class="toc-h4 toc-link" data-title="FEED Parameter Description">FEED Parameter Description</a>
                                  </li>
                              </ul>
                          </li>
                      </ul>
                  </li>
                  <li>
                    <a href="#b11c93e8qwzy" class="toc-h2 toc-link" data-title="Private Subscriptions">Private Subscriptions</a>
                      <ul class="toc-list-h3">
                          <li>
                            <a href="#5d8d9af48hj7" class="toc-h3 toc-link" data-title="API Login">API Login</a>
                              <ul class="toc-list-h4">
                                  <li>
                                    <a href="#a29a96552kp0" class="toc-h4 toc-link" data-title="Rate Limit: 1 time/1 second (for single account login)">Rate Limit: 1 time/1 second (for single account login)</a>
                                  </li>
                                  <li>
                                    <a href="#22da1a05lis8" class="toc-h4 toc-link" data-title="Request Parameters">Request Parameters</a>
                                  </li>
                                  <li>
                                    <a href="#a222a51ekcfi" class="toc-h4 toc-link" data-title="Response Parameters">Response Parameters</a>
                                  </li>
                              </ul>
                          </li>
                          <li>
                            <a href="#6450c86dwolo" class="toc-h3 toc-link" data-title="Spot Order Status Change Notification">Spot Order Status Change Notification</a>
                          </li>
                          <li>
                            <a href="#ad3d9a27qv59" class="toc-h3 toc-link" data-title="Spot Strategy Order Change Notification">Spot Strategy Order Change Notification</a>
                          </li>
                          <li>
                            <a href="#0436c88dyrxi" class="toc-h3 toc-link" data-title="Swap Order Status Change Notification">Swap Order Status Change Notification</a>
                          </li>
                          <li>
                            <a href="#527a69bcjdv7" class="toc-h3 toc-link" data-title="Swap Maintenance Margin Ratio Change Notification">Swap Maintenance Margin Ratio Change Notification</a>
                          </li>
                      </ul>
                  </li>
              </ul>
          </li>
          <li>
            <a href="#50bdd1d5scwk" class="toc-h1 toc-link" data-title="Error Codes">Error Codes</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#cbaaa181pqmg" class="toc-h2 toc-link" data-title="REST">REST</a>
                      <ul class="toc-list-h3">
                          <li>
                            <a href="#5211dca9glpx" class="toc-h3 toc-link" data-title="Order-related">Order-related</a>
                          </li>
                          <li>
                            <a href="#0c3e51ddm796" class="toc-h3 toc-link" data-title="Asset-related">Asset-related</a>
                          </li>
                      </ul>
                  </li>
                  <li>
                    <a href="#fd2fe217utf9" class="toc-h2 toc-link" data-title="WebSocket">WebSocket</a>
                  </li>
              </ul>
          </li>
      </ul>
        <ul class="toc-footer">
            <li><a href='/api/'>Sign Up for a Developer Key</a></li>
        </ul>
    </div>
    <div class="page-wrapper">
      <div class="dark-box"></div>
      <div class="content">
        <h1 id='0efc2e6bbcl0'>Overview</h1>
<p>Welcome to the API documentation. We provide a complete REST and WebSocket API to meet your trading needs.</p>
<h2 id='de598528lz5p'>API Learning Resources and Technical Support</h2><h2 id='a0c08d521vii'>Create My API KEY</h2>
<p>Please create it on the official website or app.</p>
<h2 id='7949a1964yut'>Live Trading</h2>
<p>The live trading API address is as follows:</p>

<ul>
<li>REST：https://api-v2.uzx.com</li>
<li>WebSocket Public Channel: wss://stream.uzx.com</li>
<li>WebSocket Private Channel: wss://stream.uzx.com</li>
</ul>
<h1 id='e3ed1138y7tg'>Market Maker Application</h1>
<aside class="notice">Stay tuned</aside>
<h1 id='cec9f373qx'>REST API</h1><h2 id='6e08d747jgwm'>Request Authentication</h2>
<h3 id="rest-apikey">Generating API Keys</h3>

<p>Before signing any requests, you must create an API key through the trading platform. Upon creation, you will receive three essential credentials that must be securely stored:</p>

<ul>
<li>API Key</li>
<li>Secret Key</li>
<li>Passphrase</li>
</ul>

<p>The API Key and Secret Key are randomly generated by the platform, while the Passphrase is user-defined for enhanced API security. The platform stores only the hashed version of your Passphrase for authentication purposes. Please note:</p>

<ul>
<li>The Passphrase cannot be recovered if forgotten</li>
<li>You must generate a new API key if the Passphrase is lost</li>
<li>All three credentials are required for API authentication</li>
</ul>
<h3 id='e2f6fe51nvos'>Making Requests</h3>
<blockquote>
<p>Order Placement Code Examples</p>
</blockquote>
<div class="highlight"><pre class="highlight java tab-java"><code><span class="kn">import</span> <span class="nn">cn.hutool.http.HttpResponse</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">cn.hutool.http.HttpUtil</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">com.rometools.utils.Strings</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">com.createsgin.HmacAlgorithmEnum</span><span class="o">;</span>
<span class="kd">public</span> <span class="kd">class</span> <span class="nc">TestCase</span> <span class="o">{</span>

    <span class="kd">public</span> <span class="kd">static</span> <span class="nc">String</span> <span class="n">host</span><span class="o">=</span><span class="s">"https://api-v2.uzx.com"</span><span class="o">;</span>
    <span class="kd">public</span> <span class="kd">static</span> <span class="nc">String</span> <span class="no">UZXACCESSKEY2</span> <span class="o">=</span> <span class="s">"{APIKey}"</span><span class="o">;</span>
    <span class="kd">public</span> <span class="kd">static</span> <span class="nc">String</span> <span class="no">UZXACCESSSECRET2</span> <span class="o">=</span> <span class="s">"{SecretKey}"</span><span class="o">;</span>
    <span class="kd">public</span> <span class="kd">static</span> <span class="nc">String</span> <span class="no">UZXACCESSPASSPHRASE2</span> <span class="o">=</span> <span class="s">"{Passphrase}"</span><span class="o">;</span>

    <span class="kd">public</span> <span class="kd">static</span> <span class="kt">void</span> <span class="nf">testPostOrder</span><span class="o">(){</span>
        <span class="nc">String</span> <span class="n">timestamp</span> <span class="o">=</span> <span class="nc">System</span><span class="o">.</span><span class="na">currentTimeMillis</span><span class="o">()/</span><span class="mi">1000</span> <span class="o">+</span><span class="s">""</span><span class="o">;</span>
        <span class="nc">String</span> <span class="n">method</span> <span class="o">=</span> <span class="s">"POST"</span><span class="o">;</span>
        <span class="nc">String</span> <span class="n">requestPath</span> <span class="o">=</span> <span class="s">"/v2/trade/spot/order"</span><span class="o">;</span>
        <span class="nc">String</span> <span class="n">body</span> <span class="o">=</span> <span class="s">"{\"product_name\":\"BTC-USDT\",\"order_type\":2,\"price\":\"103000\",\"amount\":\"1000\",\"order_buy_or_sell\":1}"</span><span class="o">;</span>
        <span class="nc">String</span> <span class="n">data</span> <span class="o">=</span> <span class="n">timestamp</span> <span class="o">+</span> <span class="n">method</span> <span class="o">+</span> <span class="n">requestPath</span>  <span class="o">+</span> <span class="n">body</span><span class="o">;</span>
        <span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="n">data</span><span class="o">);</span>
        <span class="nc">String</span> <span class="n">signature</span> <span class="o">=</span> <span class="nc">OpenAPiUtils</span><span class="o">.</span><span class="na">generate</span><span class="o">(</span><span class="n">timestamp</span><span class="o">,</span><span class="n">method</span><span class="o">,</span><span class="n">requestPath</span><span class="o">,</span><span class="kc">null</span><span class="o">,</span><span class="n">body</span><span class="o">,</span><span class="no">UZXACCESSSECRET2</span><span class="o">,</span><span class="nc">HmacAlgorithmEnum</span><span class="o">.</span><span class="na">HMAC_SHA_256</span><span class="o">);</span>
        <span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="n">signature</span><span class="o">);</span>


        <span class="nc">HttpResponse</span> <span class="n">resp</span> <span class="o">=</span> <span class="nc">HttpUtil</span><span class="o">.</span><span class="na">createPost</span><span class="o">(</span><span class="n">host</span><span class="o">+</span><span class="n">requestPath</span>  <span class="o">).</span><span class="na">body</span><span class="o">(</span><span class="n">body</span><span class="o">)</span>
                <span class="o">.</span><span class="na">header</span><span class="o">(</span><span class="s">"UZX-ACCESS-KEY"</span><span class="o">,</span><span class="no">UZXACCESSKEY2</span><span class="o">)</span>
                <span class="o">.</span><span class="na">header</span><span class="o">(</span><span class="s">"UZX-ACCESS-SIGN"</span><span class="o">,</span><span class="n">signature</span><span class="o">)</span>
                <span class="o">.</span><span class="na">header</span><span class="o">(</span><span class="s">"UZX-ACCESS-TIMESTAMP"</span><span class="o">,</span><span class="n">timestamp</span><span class="o">)</span>
                <span class="o">.</span><span class="na">header</span><span class="o">(</span><span class="s">"UZX-ACCESS-PASSPHRASE"</span><span class="o">,</span><span class="no">UZXACCESSPASSPHRASE2</span><span class="o">).</span><span class="na">execute</span><span class="o">();</span>
        <span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="n">resp</span><span class="o">.</span><span class="na">body</span><span class="o">());</span>
    <span class="o">}</span>

    <span class="kd">public</span> <span class="kd">static</span> <span class="kt">void</span> <span class="nf">main</span><span class="o">(</span><span class="nc">String</span><span class="o">[]</span> <span class="n">args</span><span class="o">)</span> <span class="o">{</span>
        <span class="n">testPostOrder</span><span class="o">();</span>
    <span class="o">}</span>
<span class="o">}</span>
</code></pre></div><div class="highlight"><pre class="highlight python tab-python"><code><span class="kn">import</span> <span class="nn">time</span>
<span class="kn">import</span> <span class="nn">hmac</span>
<span class="kn">import</span> <span class="nn">hashlib</span>
<span class="kn">import</span> <span class="nn">base64</span>
<span class="kn">import</span> <span class="nn">requests</span>
<span class="kn">import</span> <span class="nn">json</span>

<span class="n">host</span> <span class="o">=</span> <span class="s">"https://api-v2.uzx.com"</span>
<span class="n">APIKey</span> <span class="o">=</span> <span class="s">"{APIKey}"</span>
<span class="n">SecretKey</span> <span class="o">=</span> <span class="s">"{SecretKey}"</span>
<span class="n">Passphrase</span> <span class="o">=</span> <span class="s">"{Passphrase}"</span>

<span class="k">def</span> <span class="nf">generate_signature</span><span class="p">(</span><span class="n">timestamp</span><span class="p">,</span> <span class="n">method</span><span class="p">,</span> <span class="n">path</span><span class="p">,</span> <span class="n">query</span><span class="p">,</span> <span class="n">body</span><span class="p">,</span> <span class="n">secret</span><span class="p">):</span>
    <span class="n">query</span> <span class="o">=</span> <span class="s">'?'</span> <span class="o">+</span> <span class="n">query</span> <span class="k">if</span> <span class="n">query</span> <span class="k">else</span> <span class="s">''</span>
    <span class="n">body</span> <span class="o">=</span> <span class="n">body</span> <span class="k">if</span> <span class="n">body</span> <span class="k">else</span> <span class="s">''</span>
    <span class="n">prehash</span> <span class="o">=</span> <span class="sa">f</span><span class="s">"</span><span class="si">{</span><span class="n">timestamp</span><span class="si">}{</span><span class="n">method</span><span class="p">.</span><span class="n">upper</span><span class="p">()</span><span class="si">}{</span><span class="n">path</span><span class="si">}{</span><span class="n">query</span><span class="si">}{</span><span class="n">body</span><span class="si">}</span><span class="s">"</span>
    <span class="n">signature</span> <span class="o">=</span> <span class="n">hmac</span><span class="p">.</span><span class="n">new</span><span class="p">(</span><span class="n">secret</span><span class="p">.</span><span class="n">encode</span><span class="p">(),</span> <span class="n">prehash</span><span class="p">.</span><span class="n">encode</span><span class="p">(),</span> <span class="n">hashlib</span><span class="p">.</span><span class="n">sha256</span><span class="p">).</span><span class="n">digest</span><span class="p">()</span>
    <span class="k">return</span> <span class="n">base64</span><span class="p">.</span><span class="n">b64encode</span><span class="p">(</span><span class="n">signature</span><span class="p">).</span><span class="n">decode</span><span class="p">()</span>

<span class="k">def</span> <span class="nf">test_post_order</span><span class="p">():</span>
    <span class="n">timestamp</span> <span class="o">=</span> <span class="nb">str</span><span class="p">(</span><span class="nb">int</span><span class="p">(</span><span class="n">time</span><span class="p">.</span><span class="n">time</span><span class="p">()))</span>
    <span class="n">method</span> <span class="o">=</span> <span class="s">"POST"</span>
    <span class="n">path</span> <span class="o">=</span> <span class="s">"/v2/trade/spot/order"</span>
    <span class="n">body</span> <span class="o">=</span> <span class="p">{</span>
      <span class="s">"product_name"</span><span class="p">:</span> <span class="s">"BTC-USDT"</span><span class="p">,</span>
      <span class="s">"order_type"</span><span class="p">:</span> <span class="mi">2</span><span class="p">,</span>
      <span class="s">"price"</span><span class="p">:</span> <span class="s">"103000"</span><span class="p">,</span>
      <span class="s">"amount"</span><span class="p">:</span> <span class="s">"1000"</span><span class="p">,</span>
      <span class="s">"order_buy_or_sell"</span><span class="p">:</span> <span class="mi">1</span>
  <span class="p">}</span>
    <span class="n">body_str</span> <span class="o">=</span> <span class="n">json</span><span class="p">.</span><span class="n">dumps</span><span class="p">(</span><span class="n">body</span><span class="p">,</span> <span class="n">separators</span><span class="o">=</span><span class="p">(</span><span class="s">','</span><span class="p">,</span> <span class="s">':'</span><span class="p">))</span> 
    <span class="n">signature</span> <span class="o">=</span> <span class="n">generate_signature</span><span class="p">(</span><span class="n">timestamp</span><span class="p">,</span> <span class="n">method</span><span class="p">,</span> <span class="n">path</span><span class="p">,</span> <span class="bp">None</span><span class="p">,</span> <span class="n">body_str</span><span class="p">,</span> <span class="n">SecretKey</span><span class="p">)</span>

    <span class="n">headers</span> <span class="o">=</span> <span class="p">{</span>
        <span class="s">"UZX-ACCESS-KEY"</span><span class="p">:</span> <span class="n">APIKey</span><span class="p">,</span>
        <span class="s">"UZX-ACCESS-SIGN"</span><span class="p">:</span> <span class="n">signature</span><span class="p">,</span>
        <span class="s">"UZX-ACCESS-TIMESTAMP"</span><span class="p">:</span> <span class="n">timestamp</span><span class="p">,</span>
        <span class="s">"UZX-ACCESS-PASSPHRASE"</span><span class="p">:</span> <span class="n">Passphrase</span><span class="p">,</span>
        <span class="s">"Content-Type"</span><span class="p">:</span> <span class="s">"application/json"</span>
    <span class="p">}</span>

    <span class="n">resp</span> <span class="o">=</span> <span class="n">requests</span><span class="p">.</span><span class="n">post</span><span class="p">(</span><span class="n">host</span> <span class="o">+</span> <span class="n">path</span><span class="p">,</span> <span class="n">headers</span><span class="o">=</span><span class="n">headers</span><span class="p">,</span> <span class="n">data</span><span class="o">=</span><span class="n">body_str</span><span class="p">)</span>
    <span class="k">print</span><span class="p">(</span><span class="n">resp</span><span class="p">.</span><span class="n">status_code</span><span class="p">,</span> <span class="n">resp</span><span class="p">.</span><span class="n">text</span><span class="p">)</span>

<span class="n">test_post_order</span><span class="p">()</span>

</code></pre></div><div class="highlight"><pre class="highlight go tab-go"><code><span class="k">package</span> <span class="n">main</span>

<span class="k">import</span> <span class="p">(</span>
    <span class="s">"bytes"</span>
    <span class="s">"crypto/hmac"</span>
    <span class="s">"crypto/sha256"</span>
    <span class="s">"encoding/base64"</span>
    <span class="s">"fmt"</span>
    <span class="s">"net/http"</span>
    <span class="s">"time"</span>
    <span class="s">"strings"</span>
    <span class="s">"io/ioutil"</span>
<span class="p">)</span>

<span class="k">const</span> <span class="p">(</span>
    <span class="n">host</span>       <span class="o">=</span> <span class="s">"https://api-v2.uzx.com"</span>
    <span class="n">APIKey</span>     <span class="o">=</span> <span class="s">"{APIKey}"</span>
    <span class="n">SecretKey</span>  <span class="o">=</span> <span class="s">"{SecretKey}"</span>
    <span class="n">Passphrase</span> <span class="o">=</span> <span class="s">"{Passphrase}"</span>
<span class="p">)</span>

<span class="k">func</span> <span class="n">generateSignature</span><span class="p">(</span><span class="n">timestamp</span><span class="p">,</span> <span class="n">method</span><span class="p">,</span> <span class="n">path</span><span class="p">,</span> <span class="n">query</span><span class="p">,</span> <span class="n">body</span><span class="p">,</span> <span class="n">secret</span> <span class="kt">string</span><span class="p">)</span> <span class="kt">string</span> <span class="p">{</span>
    <span class="k">if</span> <span class="n">query</span> <span class="o">!=</span> <span class="s">""</span> <span class="p">{</span>
        <span class="n">query</span> <span class="o">=</span> <span class="s">"?"</span> <span class="o">+</span> <span class="n">query</span>
    <span class="p">}</span>
    <span class="n">preHash</span> <span class="o">:=</span> <span class="n">timestamp</span> <span class="o">+</span> <span class="n">strings</span><span class="o">.</span><span class="n">ToUpper</span><span class="p">(</span><span class="n">method</span><span class="p">)</span> <span class="o">+</span> <span class="n">path</span> <span class="o">+</span> <span class="n">query</span> <span class="o">+</span> <span class="n">body</span>
    <span class="n">mac</span> <span class="o">:=</span> <span class="n">hmac</span><span class="o">.</span><span class="n">New</span><span class="p">(</span><span class="n">sha256</span><span class="o">.</span><span class="n">New</span><span class="p">,</span> <span class="p">[]</span><span class="kt">byte</span><span class="p">(</span><span class="n">secret</span><span class="p">))</span>
    <span class="n">mac</span><span class="o">.</span><span class="n">Write</span><span class="p">([]</span><span class="kt">byte</span><span class="p">(</span><span class="n">preHash</span><span class="p">))</span>
    <span class="k">return</span> <span class="n">base64</span><span class="o">.</span><span class="n">StdEncoding</span><span class="o">.</span><span class="n">EncodeToString</span><span class="p">(</span><span class="n">mac</span><span class="o">.</span><span class="n">Sum</span><span class="p">(</span><span class="no">nil</span><span class="p">))</span>
<span class="p">}</span>

<span class="k">func</span> <span class="n">testPostOrder</span><span class="p">()</span> <span class="p">{</span>
    <span class="n">timestamp</span> <span class="o">:=</span> <span class="n">fmt</span><span class="o">.</span><span class="n">Sprintf</span><span class="p">(</span><span class="s">"%d"</span><span class="p">,</span> <span class="n">time</span><span class="o">.</span><span class="n">Now</span><span class="p">()</span><span class="o">.</span><span class="n">Unix</span><span class="p">())</span>
    <span class="n">method</span> <span class="o">:=</span> <span class="s">"POST"</span>
    <span class="n">path</span> <span class="o">:=</span> <span class="s">"/v2/trade/spot/order"</span>
    <span class="n">body</span> <span class="o">:=</span> <span class="s">`{"product_name":"BTC-USDT","order_type":2,"price":"103000","amount":"1000","order_buy_or_sell":1}`</span>
    <span class="n">signature</span> <span class="o">:=</span> <span class="n">generateSignature</span><span class="p">(</span><span class="n">timestamp</span><span class="p">,</span> <span class="n">method</span><span class="p">,</span> <span class="n">path</span><span class="p">,</span> <span class="s">""</span><span class="p">,</span> <span class="n">body</span><span class="p">,</span> <span class="n">SecretKey</span><span class="p">)</span>

    <span class="n">req</span><span class="p">,</span> <span class="n">err</span> <span class="o">:=</span> <span class="n">http</span><span class="o">.</span><span class="n">NewRequest</span><span class="p">(</span><span class="n">method</span><span class="p">,</span> <span class="n">host</span><span class="o">+</span><span class="n">path</span><span class="p">,</span> <span class="n">bytes</span><span class="o">.</span><span class="n">NewBuffer</span><span class="p">([]</span><span class="kt">byte</span><span class="p">(</span><span class="n">body</span><span class="p">)))</span>
    <span class="k">if</span> <span class="n">err</span> <span class="o">!=</span> <span class="no">nil</span> <span class="p">{</span>
        <span class="nb">panic</span><span class="p">(</span><span class="n">err</span><span class="p">)</span>
    <span class="p">}</span>

    <span class="n">req</span><span class="o">.</span><span class="n">Header</span><span class="o">.</span><span class="n">Set</span><span class="p">(</span><span class="s">"Content-Type"</span><span class="p">,</span> <span class="s">"application/json"</span><span class="p">)</span>
    <span class="n">req</span><span class="o">.</span><span class="n">Header</span><span class="o">.</span><span class="n">Set</span><span class="p">(</span><span class="s">"UZX-ACCESS-KEY"</span><span class="p">,</span> <span class="n">APIKey</span><span class="p">)</span>
    <span class="n">req</span><span class="o">.</span><span class="n">Header</span><span class="o">.</span><span class="n">Set</span><span class="p">(</span><span class="s">"UZX-ACCESS-SIGN"</span><span class="p">,</span> <span class="n">signature</span><span class="p">)</span>
    <span class="n">req</span><span class="o">.</span><span class="n">Header</span><span class="o">.</span><span class="n">Set</span><span class="p">(</span><span class="s">"UZX-ACCESS-TIMESTAMP"</span><span class="p">,</span> <span class="n">timestamp</span><span class="p">)</span>
    <span class="n">req</span><span class="o">.</span><span class="n">Header</span><span class="o">.</span><span class="n">Set</span><span class="p">(</span><span class="s">"UZX-ACCESS-PASSPHRASE"</span><span class="p">,</span> <span class="n">Passphrase</span><span class="p">)</span>

    <span class="n">client</span> <span class="o">:=</span> <span class="o">&amp;</span><span class="n">http</span><span class="o">.</span><span class="n">Client</span><span class="p">{}</span>
    <span class="n">resp</span><span class="p">,</span> <span class="n">err</span> <span class="o">:=</span> <span class="n">client</span><span class="o">.</span><span class="n">Do</span><span class="p">(</span><span class="n">req</span><span class="p">)</span>
    <span class="k">if</span> <span class="n">err</span> <span class="o">!=</span> <span class="no">nil</span> <span class="p">{</span>
        <span class="nb">panic</span><span class="p">(</span><span class="n">err</span><span class="p">)</span>
    <span class="p">}</span>
    <span class="k">defer</span> <span class="n">resp</span><span class="o">.</span><span class="n">Body</span><span class="o">.</span><span class="n">Close</span><span class="p">()</span>
    <span class="n">bodyResp</span><span class="p">,</span> <span class="n">_</span> <span class="o">:=</span> <span class="n">ioutil</span><span class="o">.</span><span class="n">ReadAll</span><span class="p">(</span><span class="n">resp</span><span class="o">.</span><span class="n">Body</span><span class="p">)</span>
    <span class="n">fmt</span><span class="o">.</span><span class="n">Println</span><span class="p">(</span><span class="n">resp</span><span class="o">.</span><span class="n">StatusCode</span><span class="p">,</span> <span class="kt">string</span><span class="p">(</span><span class="n">bodyResp</span><span class="p">))</span>
<span class="p">}</span>

<span class="k">func</span> <span class="n">main</span><span class="p">()</span> <span class="p">{</span>
    <span class="n">testPostOrder</span><span class="p">()</span>
<span class="p">}</span>
</code></pre></div>
<p>All REST API private requests must include the following headers:</p>
<h5 id='3041cab15qgs'>Header Parameters:</h5>
<table><thead>
<tr>
<th>Header Name</th>
<th>Type</th>
<th>Required</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>UZX-ACCESS-KEY</td>
<td>string</td>
<td>Yes</td>
<td>Your API Key credential</td>
</tr>
<tr>
<td>UZX-ACCESS-SIGN</td>
<td>string</td>
<td>Yes</td>
<td>Base64-encoded HMAC SHA256 signature (see Signing section for details)</td>
</tr>
<tr>
<td>UZX-ACCESS-TIMESTAMP</td>
<td>string</td>
<td>Yes</td>
<td>Unix epoch timestamp in seconds (e.g., 1675665900)</td>
</tr>
<tr>
<td>UZX-ACCESS-PASSPHRASE</td>
<td>string</td>
<td>Yes</td>
<td>The passphrase you specified when creating the API key</td>
</tr>
</tbody></table>

<aside class="notice">
All requests must use Content-Type: application/json and contain valid JSON payloads.
</aside>
<h3 id='96583fbagbe'>Request Signing</h3>
<blockquote>
<p>Signature Generation Examples</p>
</blockquote>
<div class="highlight"><pre class="highlight java tab-java"><code><span class="kn">import</span> <span class="nn">org.apache.commons.codec.binary.Base64</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">org.apache.commons.codec.digest.HmacAlgorithms</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">org.apache.commons.codec.digest.HmacUtils</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">org.apache.commons.lang3.StringUtils</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">org.apache.commons.lang3.Validate</span><span class="o">;</span>

<span class="kn">import</span> <span class="nn">java.io.UnsupportedEncodingException</span><span class="o">;</span>

<span class="kd">public</span> <span class="kd">class</span> <span class="nc">OpenAPiUtils</span> <span class="o">{</span>
    <span class="kd">public</span> <span class="kd">static</span> <span class="kd">final</span> <span class="nc">String</span> <span class="no">GET</span> <span class="o">=</span> <span class="s">"GET"</span><span class="o">;</span>
    <span class="kd">public</span> <span class="kd">static</span> <span class="kd">final</span> <span class="nc">String</span> <span class="no">POST</span> <span class="o">=</span> <span class="s">"POST"</span><span class="o">;</span>
    <span class="kd">public</span> <span class="kd">static</span> <span class="kd">final</span> <span class="nc">String</span> <span class="no">DELETE</span> <span class="o">=</span> <span class="s">"DELETE"</span><span class="o">;</span>


    <span class="kd">public</span> <span class="kd">static</span> <span class="nc">String</span> <span class="nf">generate</span><span class="o">(</span><span class="kd">final</span> <span class="nc">String</span> <span class="n">timestamp</span><span class="o">,</span> <span class="nc">String</span> <span class="n">method</span><span class="o">,</span> <span class="kd">final</span> <span class="nc">String</span> <span class="n">requestPath</span><span class="o">,</span>
                                  <span class="nc">String</span> <span class="n">queryString</span><span class="o">,</span> <span class="nc">String</span> <span class="n">body</span><span class="o">,</span> <span class="kd">final</span> <span class="nc">String</span> <span class="n">secret</span><span class="o">,</span> <span class="kd">final</span> <span class="nc">HmacAlgorithmEnum</span> <span class="n">alg</span><span class="o">)</span> <span class="o">{</span>
        <span class="n">body</span> <span class="o">=</span> <span class="nc">StringUtils</span><span class="o">.</span><span class="na">defaultIfBlank</span><span class="o">(</span><span class="n">body</span><span class="o">,</span> <span class="nc">StringUtils</span><span class="o">.</span><span class="na">EMPTY</span><span class="o">);</span>
        <span class="n">queryString</span> <span class="o">=</span> <span class="nc">StringUtils</span><span class="o">.</span><span class="na">isEmpty</span><span class="o">(</span><span class="n">queryString</span><span class="o">)</span> <span class="o">?</span> <span class="s">""</span> <span class="o">:</span> <span class="s">"?"</span> <span class="o">+</span> <span class="n">queryString</span><span class="o">;</span>
        <span class="kd">final</span> <span class="nc">String</span> <span class="n">preHash</span> <span class="o">=</span> <span class="n">timestamp</span> <span class="o">+</span> <span class="n">method</span> <span class="o">+</span> <span class="n">requestPath</span> <span class="o">+</span> <span class="n">queryString</span> <span class="o">+</span> <span class="n">body</span><span class="o">;</span>
        <span class="k">return</span> <span class="nf">encodeBase64</span><span class="o">(</span><span class="n">alg</span><span class="o">,</span> <span class="n">secret</span><span class="o">,</span> <span class="n">preHash</span><span class="o">);</span>
    <span class="o">}</span>

    <span class="kd">public</span> <span class="kd">static</span> <span class="nc">String</span> <span class="nf">encodeBase64</span><span class="o">(</span><span class="kd">final</span> <span class="nc">HmacAlgorithmEnum</span> <span class="n">alg</span><span class="o">,</span> <span class="kd">final</span> <span class="nc">String</span> <span class="n">secret</span><span class="o">,</span> <span class="kd">final</span> <span class="nc">String</span> <span class="n">data</span><span class="o">)</span> <span class="o">{</span>
        <span class="nc">Validate</span><span class="o">.</span><span class="na">notNull</span><span class="o">(</span><span class="n">alg</span><span class="o">,</span> <span class="s">"SignatureAlgorithm cannot be null."</span><span class="o">);</span>
        <span class="nc">Validate</span><span class="o">.</span><span class="na">notNull</span><span class="o">(</span><span class="n">data</span><span class="o">,</span> <span class="s">"Signing Secret cannot be null."</span><span class="o">);</span>
        <span class="k">switch</span> <span class="o">(</span><span class="n">alg</span><span class="o">)</span> <span class="o">{</span>
            <span class="k">case</span> <span class="nl">HMAC_MD5:</span>
                <span class="k">return</span> <span class="nc">Base64</span><span class="o">.</span><span class="na">encodeBase64String</span><span class="o">(</span><span class="k">new</span> <span class="nc">HmacUtils</span><span class="o">(</span><span class="nc">HmacAlgorithms</span><span class="o">.</span><span class="na">HMAC_MD5</span><span class="o">,</span> <span class="n">secret</span><span class="o">).</span><span class="na">hmac</span><span class="o">(</span><span class="n">data</span><span class="o">));</span>
            <span class="k">case</span> <span class="nl">HMAC_SHA_1:</span>
                <span class="k">return</span> <span class="nc">Base64</span><span class="o">.</span><span class="na">encodeBase64String</span><span class="o">(</span><span class="k">new</span> <span class="nc">HmacUtils</span><span class="o">(</span><span class="nc">HmacAlgorithms</span><span class="o">.</span><span class="na">HMAC_SHA_1</span><span class="o">,</span> <span class="n">secret</span><span class="o">).</span><span class="na">hmac</span><span class="o">(</span><span class="n">data</span><span class="o">));</span>
            <span class="k">case</span> <span class="nl">HMAC_SHA_224:</span>
                <span class="k">return</span> <span class="nc">Base64</span><span class="o">.</span><span class="na">encodeBase64String</span><span class="o">(</span><span class="k">new</span> <span class="nc">HmacUtils</span><span class="o">(</span><span class="nc">HmacAlgorithms</span><span class="o">.</span><span class="na">HMAC_SHA_224</span><span class="o">,</span> <span class="n">secret</span><span class="o">).</span><span class="na">hmac</span><span class="o">(</span><span class="n">data</span><span class="o">));</span>
            <span class="k">case</span> <span class="nl">HMAC_SHA_256:</span>
                <span class="k">try</span> <span class="o">{</span>
                    <span class="k">return</span> <span class="nc">Base64</span><span class="o">.</span><span class="na">encodeBase64String</span><span class="o">(</span><span class="k">new</span> <span class="nc">HmacUtils</span><span class="o">(</span><span class="nc">HmacAlgorithms</span><span class="o">.</span><span class="na">HMAC_SHA_256</span><span class="o">,</span>
                            <span class="n">secret</span><span class="o">.</span><span class="na">getBytes</span><span class="o">(</span><span class="s">"UTF-8"</span><span class="o">)).</span><span class="na">hmac</span><span class="o">(</span><span class="n">data</span><span class="o">.</span><span class="na">getBytes</span><span class="o">(</span><span class="s">"UTF-8"</span><span class="o">)));</span>
                <span class="o">}</span> <span class="k">catch</span> <span class="o">(</span><span class="nc">UnsupportedEncodingException</span> <span class="n">e</span><span class="o">)</span> <span class="o">{</span>
                    <span class="k">throw</span> <span class="k">new</span> <span class="nf">RuntimeException</span><span class="o">(</span><span class="n">e</span><span class="o">.</span><span class="na">getMessage</span><span class="o">());</span>
                <span class="o">}</span>
            <span class="k">case</span> <span class="nl">HMAC_SHA_384:</span>
                <span class="k">return</span> <span class="nc">Base64</span><span class="o">.</span><span class="na">encodeBase64String</span><span class="o">(</span><span class="k">new</span> <span class="nc">HmacUtils</span><span class="o">(</span><span class="nc">HmacAlgorithms</span><span class="o">.</span><span class="na">HMAC_SHA_384</span><span class="o">,</span> <span class="n">secret</span><span class="o">).</span><span class="na">hmac</span><span class="o">(</span><span class="n">data</span><span class="o">));</span>
            <span class="k">case</span> <span class="nl">HMAC_SHA_512:</span>
                <span class="k">return</span> <span class="nc">Base64</span><span class="o">.</span><span class="na">encodeBase64String</span><span class="o">(</span><span class="k">new</span> <span class="nc">HmacUtils</span><span class="o">(</span><span class="nc">HmacAlgorithms</span><span class="o">.</span><span class="na">HMAC_SHA_512</span><span class="o">,</span> <span class="n">secret</span><span class="o">).</span><span class="na">hmac</span><span class="o">(</span><span class="n">data</span><span class="o">));</span>
            <span class="k">default</span><span class="o">:</span>
                <span class="k">throw</span> <span class="k">new</span> <span class="nf">IllegalArgumentException</span><span class="o">(</span><span class="s">"The '"</span> <span class="o">+</span> <span class="n">alg</span><span class="o">.</span><span class="na">name</span><span class="o">()</span> <span class="o">+</span> <span class="s">"' algorithm cannot be used for signing."</span><span class="o">);</span>
        <span class="o">}</span>
    <span class="o">}</span>
<span class="o">}</span>
</code></pre></div><div class="highlight"><pre class="highlight python tab-python"><code><span class="kn">import</span> <span class="nn">hmac</span>
<span class="kn">import</span> <span class="nn">hashlib</span>
<span class="kn">import</span> <span class="nn">base64</span>

<span class="k">def</span> <span class="nf">generate_signature</span><span class="p">(</span><span class="n">timestamp</span><span class="p">,</span> <span class="n">method</span><span class="p">,</span> <span class="n">request_path</span><span class="p">,</span> <span class="n">query_string</span><span class="p">,</span> <span class="n">body</span><span class="p">,</span> <span class="n">secret</span><span class="p">):</span>
    <span class="n">method</span> <span class="o">=</span> <span class="n">method</span><span class="p">.</span><span class="n">upper</span><span class="p">()</span>
    <span class="n">query_string</span> <span class="o">=</span> <span class="s">'?'</span> <span class="o">+</span> <span class="n">query_string</span> <span class="k">if</span> <span class="n">query_string</span> <span class="k">else</span> <span class="s">''</span>
    <span class="n">body</span> <span class="o">=</span> <span class="n">body</span> <span class="k">if</span> <span class="n">body</span> <span class="k">else</span> <span class="s">''</span>
    <span class="n">pre_hash</span> <span class="o">=</span> <span class="sa">f</span><span class="s">"</span><span class="si">{</span><span class="n">timestamp</span><span class="si">}{</span><span class="n">method</span><span class="si">}{</span><span class="n">request_path</span><span class="si">}{</span><span class="n">query_string</span><span class="si">}{</span><span class="n">body</span><span class="si">}</span><span class="s">"</span>

    <span class="n">signature</span> <span class="o">=</span> <span class="n">hmac</span><span class="p">.</span><span class="n">new</span><span class="p">(</span>
        <span class="n">secret</span><span class="p">.</span><span class="n">encode</span><span class="p">(</span><span class="s">'utf-8'</span><span class="p">),</span>
        <span class="n">pre_hash</span><span class="p">.</span><span class="n">encode</span><span class="p">(</span><span class="s">'utf-8'</span><span class="p">),</span>
        <span class="n">hashlib</span><span class="p">.</span><span class="n">sha256</span>
    <span class="p">).</span><span class="n">digest</span><span class="p">()</span>

    <span class="k">return</span> <span class="n">base64</span><span class="p">.</span><span class="n">b64encode</span><span class="p">(</span><span class="n">signature</span><span class="p">).</span><span class="n">decode</span><span class="p">(</span><span class="s">'utf-8'</span><span class="p">)</span>
</code></pre></div><div class="highlight"><pre class="highlight go tab-go"><code><span class="k">package</span> <span class="n">main</span>

<span class="k">import</span> <span class="p">(</span>
    <span class="s">"crypto/hmac"</span>
    <span class="s">"crypto/sha256"</span>
    <span class="s">"encoding/base64"</span>
    <span class="s">"strings"</span>
<span class="p">)</span>

<span class="k">func</span> <span class="n">GenerateSignature</span><span class="p">(</span><span class="n">timestamp</span><span class="p">,</span> <span class="n">method</span><span class="p">,</span> <span class="n">requestPath</span><span class="p">,</span> <span class="n">queryString</span><span class="p">,</span> <span class="n">body</span><span class="p">,</span> <span class="n">secret</span> <span class="kt">string</span><span class="p">)</span> <span class="kt">string</span> <span class="p">{</span>
    <span class="n">method</span> <span class="o">=</span> <span class="n">strings</span><span class="o">.</span><span class="n">ToUpper</span><span class="p">(</span><span class="n">method</span><span class="p">)</span>
    <span class="k">if</span> <span class="n">queryString</span> <span class="o">!=</span> <span class="s">""</span> <span class="p">{</span>
        <span class="n">queryString</span> <span class="o">=</span> <span class="s">"?"</span> <span class="o">+</span> <span class="n">queryString</span>
    <span class="p">}</span>
    <span class="n">preHash</span> <span class="o">:=</span> <span class="n">timestamp</span> <span class="o">+</span> <span class="n">method</span> <span class="o">+</span> <span class="n">requestPath</span> <span class="o">+</span> <span class="n">queryString</span> <span class="o">+</span> <span class="n">body</span>

    <span class="n">mac</span> <span class="o">:=</span> <span class="n">hmac</span><span class="o">.</span><span class="n">New</span><span class="p">(</span><span class="n">sha256</span><span class="o">.</span><span class="n">New</span><span class="p">,</span> <span class="p">[]</span><span class="kt">byte</span><span class="p">(</span><span class="n">secret</span><span class="p">))</span>
    <span class="n">mac</span><span class="o">.</span><span class="n">Write</span><span class="p">([]</span><span class="kt">byte</span><span class="p">(</span><span class="n">preHash</span><span class="p">))</span>
    <span class="n">signature</span> <span class="o">:=</span> <span class="n">base64</span><span class="o">.</span><span class="n">StdEncoding</span><span class="o">.</span><span class="n">EncodeToString</span><span class="p">(</span><span class="n">mac</span><span class="o">.</span><span class="n">Sum</span><span class="p">(</span><span class="no">nil</span><span class="p">))</span>

    <span class="k">return</span> <span class="n">signature</span>
<span class="p">}</span>
</code></pre></div><div class="highlight"><pre class="highlight php tab-php"><code><span class="k">function</span> <span class="n">generateSignature</span><span class="p">(</span><span class="nv">$timestamp</span><span class="p">,</span> <span class="nv">$method</span><span class="p">,</span> <span class="nv">$requestPath</span><span class="p">,</span> <span class="nv">$queryString</span><span class="p">,</span> <span class="nv">$body</span><span class="p">,</span> <span class="nv">$secret</span><span class="p">)</span> <span class="p">{</span>
    <span class="nv">$method</span> <span class="o">=</span> <span class="nb">strtoupper</span><span class="p">(</span><span class="nv">$method</span><span class="p">);</span>
    <span class="nv">$queryString</span> <span class="o">=</span> <span class="nv">$queryString</span> <span class="o">?</span> <span class="s1">'?'</span> <span class="mf">.</span> <span class="nv">$queryString</span> <span class="o">:</span> <span class="s1">''</span><span class="p">;</span>
    <span class="nv">$body</span> <span class="o">=</span> <span class="nv">$body</span> <span class="o">?:</span> <span class="s1">''</span><span class="p">;</span>
    <span class="nv">$preHash</span> <span class="o">=</span> <span class="nv">$timestamp</span> <span class="mf">.</span> <span class="nv">$method</span> <span class="mf">.</span> <span class="nv">$requestPath</span> <span class="mf">.</span> <span class="nv">$queryString</span> <span class="mf">.</span> <span class="nv">$body</span><span class="p">;</span>

    <span class="nv">$hash</span> <span class="o">=</span> <span class="nb">hash_hmac</span><span class="p">(</span><span class="s1">'sha256'</span><span class="p">,</span> <span class="nv">$preHash</span><span class="p">,</span> <span class="nv">$secret</span><span class="p">,</span> <span class="kc">true</span><span class="p">);</span>
    <span class="k">return</span> <span class="nb">base64_encode</span><span class="p">(</span><span class="nv">$hash</span><span class="p">);</span>
<span class="p">}</span>
</code></pre></div><div class="highlight"><pre class="highlight javascript tab-javascript"><code><span class="kd">const</span> <span class="nx">crypto</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="dl">'</span><span class="s1">crypto</span><span class="dl">'</span><span class="p">);</span>

<span class="kd">function</span> <span class="nx">generateSignature</span><span class="p">(</span><span class="nx">timestamp</span><span class="p">,</span> <span class="nx">method</span><span class="p">,</span> <span class="nx">requestPath</span><span class="p">,</span> <span class="nx">queryString</span><span class="p">,</span> <span class="nx">body</span><span class="p">,</span> <span class="nx">secret</span><span class="p">)</span> <span class="p">{</span>
    <span class="nx">method</span> <span class="o">=</span> <span class="nx">method</span><span class="p">.</span><span class="nx">toUpperCase</span><span class="p">();</span>
    <span class="nx">queryString</span> <span class="o">=</span> <span class="nx">queryString</span> <span class="p">?</span> <span class="dl">'</span><span class="s1">?</span><span class="dl">'</span> <span class="o">+</span> <span class="nx">queryString</span> <span class="p">:</span> <span class="dl">''</span><span class="p">;</span>
    <span class="nx">body</span> <span class="o">=</span> <span class="nx">body</span> <span class="o">||</span> <span class="dl">''</span><span class="p">;</span>
    <span class="kd">const</span> <span class="nx">preHash</span> <span class="o">=</span> <span class="s2">`</span><span class="p">${</span><span class="nx">timestamp</span><span class="p">}${</span><span class="nx">method</span><span class="p">}${</span><span class="nx">requestPath</span><span class="p">}${</span><span class="nx">queryString</span><span class="p">}${</span><span class="nx">body</span><span class="p">}</span><span class="s2">`</span><span class="p">;</span>

    <span class="kd">const</span> <span class="nx">hmac</span> <span class="o">=</span> <span class="nx">crypto</span><span class="p">.</span><span class="nx">createHmac</span><span class="p">(</span><span class="dl">'</span><span class="s1">sha256</span><span class="dl">'</span><span class="p">,</span> <span class="nx">secret</span><span class="p">);</span>
    <span class="nx">hmac</span><span class="p">.</span><span class="nx">update</span><span class="p">(</span><span class="nx">preHash</span><span class="p">);</span>

    <span class="k">return</span> <span class="nx">hmac</span><span class="p">.</span><span class="nx">digest</span><span class="p">(</span><span class="dl">'</span><span class="s1">base64</span><span class="dl">'</span><span class="p">);</span>
<span class="p">}</span>

</code></pre></div>
<p>The <code>UZX-ACCESS-SIGN</code> header is generated by applying HMAC SHA256 encryption followed by Base64 encoding to the concatenated string of <code>timestamp + method + requestPath + body</code> and the SecretKey.</p>

<p>Example:<br>
<code>sign=CryptoJS.enc.Base64.stringify(CryptoJS.HmacSHA256(timestamp + &#39;GET&#39; + &#39;/v2/trade/history/positions?product_name=BTCUSDT&amp;ins_type=SWAP&#39;, SecretKey))</code></p>

<p>Where:
- <code>timestamp</code> must match the value in the <code>UZX-ACCESS-TIMESTAMP</code> header (Unix timestamp format, e.g., <code>1675665900</code>)
- <code>method</code> is the HTTP request method in uppercase (e.g., <code>GET</code>/<code>POST</code>)
- <code>requestPath</code> is the API endpoint path (e.g., <code>/v2/trade/history/positions</code>)
- <code>body</code> is the request payload string (omitted for GET requests). Example: <code>{&quot;instId&quot;:&quot;BTC-USDT&quot;,&quot;lever&quot;:&quot;5&quot;,&quot;mgnMode&quot;:&quot;isolated&quot;}</code></p>

<aside class="notice">
For GET requests, parameters are included in `requestPath` and not treated as `body`.  
</aside>  

<p>The <code>SecretKey</code> is generated when applying for an API key (e.g., <code>22582BD0CFF14C41EDBF1AB98506286D</code>).</p>
<h2 id='413e91101rfs'>Enumerations</h2><h3 id='4a4eed16b88p'>Order &amp; Position Enums</h3><h4 id='f1592323hfi2'>Margin Mode (<code>mgn_mode</code>)</h4>
<table><thead>
<tr>
<th>Value</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>1</td>
<td>int</td>
<td>Isolated</td>
</tr>
<tr>
<td>2</td>
<td>int</td>
<td>Cross</td>
</tr>
</tbody></table>
<h4 id='2b3717d110tc'>Order Mode (<code>order_mode</code>)</h4>
<table><thead>
<tr>
<th>Value</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>1</td>
<td>int</td>
<td>Normal order</td>
</tr>
<tr>
<td>2</td>
<td>int</td>
<td>Liquidation takeover order</td>
</tr>
<tr>
<td>4</td>
<td>int</td>
<td>ADL auto-reduction</td>
</tr>
<tr>
<td>7</td>
<td>int</td>
<td>One-click close order</td>
</tr>
</tbody></table>
<h4 id='5f1f9072eotf'>Order Direction (<code>order_buy_or_sell</code>)</h4>
<table><thead>
<tr>
<th>Value</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>1</td>
<td>int</td>
<td>Buy</td>
</tr>
<tr>
<td>2</td>
<td>int</td>
<td>Sell</td>
</tr>
</tbody></table>
<h4 id='fdaa2544nf8'>Position Side (<code>pos_side</code>)</h4>
<table><thead>
<tr>
<th>Value</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>LG</td>
<td>string</td>
<td>Long</td>
</tr>
<tr>
<td>ST</td>
<td>string</td>
<td>Short</td>
</tr>
</tbody></table>
<h4 id='0c6e3642yf2y'>Order Type (<code>order_type</code>)</h4>
<table><thead>
<tr>
<th>Value</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>1</td>
<td>int</td>
<td>Market order</td>
</tr>
<tr>
<td>2</td>
<td>int</td>
<td>Limit GTC (normal limit)</td>
</tr>
<tr>
<td>3</td>
<td>int</td>
<td>Limit IOC (advanced)</td>
</tr>
<tr>
<td>4</td>
<td>int</td>
<td>Limit FOK (advanced)</td>
</tr>
<tr>
<td>5</td>
<td>int</td>
<td>LimitMaker (advanced)</td>
</tr>
<tr>
<td>9</td>
<td>int</td>
<td>One-click close</td>
</tr>
</tbody></table>
<h4 id='98ed1ba5if5v'>Position Operation (<code>pos_opt</code>)</h4>
<table><thead>
<tr>
<th>Value</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>1</td>
<td>int</td>
<td>Open position</td>
</tr>
<tr>
<td>2</td>
<td>int</td>
<td>Close position</td>
</tr>
<tr>
<td>3</td>
<td>int</td>
<td>Liquidation takeover</td>
</tr>
<tr>
<td>5</td>
<td>int</td>
<td>ADL auto-reduction</td>
</tr>
</tbody></table>
<h4 id='535158f3iarc'>Order Status (<code>status</code>)</h4>
<table><thead>
<tr>
<th>Value</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>0</td>
<td>int</td>
<td>Pending</td>
</tr>
<tr>
<td>1</td>
<td>int</td>
<td>Partially filled</td>
</tr>
<tr>
<td>2</td>
<td>int</td>
<td>Partially canceled</td>
</tr>
<tr>
<td>3</td>
<td>int</td>
<td>Canceled</td>
</tr>
<tr>
<td>4</td>
<td>int</td>
<td>Fully filled</td>
</tr>
</tbody></table>
<h4 id='72cf7582qz98'>Position Mode (<code>pos_mode</code>)</h4>
<table><thead>
<tr>
<th>Value</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>1</td>
<td>int</td>
<td>Dual-side</td>
</tr>
<tr>
<td>2</td>
<td>int</td>
<td>Single-side</td>
</tr>
</tbody></table>
<h4 id='d2b6705dr19b'>Role (<code>role</code>)</h4>
<table><thead>
<tr>
<th>Value</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>1</td>
<td>string</td>
<td>Taker</td>
</tr>
<tr>
<td>2</td>
<td>string</td>
<td>Maker</td>
</tr>
</tbody></table>
<h4 id='f9754842mwya'>Position Status (<code>status</code>)</h4>
<table><thead>
<tr>
<th>Value</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>1</td>
<td>int</td>
<td>Active</td>
</tr>
<tr>
<td>2</td>
<td>int</td>
<td>Closed</td>
</tr>
<tr>
<td>3</td>
<td>int</td>
<td>Liquidated</td>
</tr>
</tbody></table>
<h3 id='68480346x8u2'>Strategy Orders Enums</h3><h4 id='1548c2e9827b'>Stop Order Type (<code>stop_pos_type</code>)</h4>
<table><thead>
<tr>
<th>Value</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>1</td>
<td>int</td>
<td>Partial position</td>
</tr>
<tr>
<td>2</td>
<td>int</td>
<td>Full position</td>
</tr>
</tbody></table>
<h4 id='543c1f021aqo'>Take Profit Type (<code>tp_price_type</code>)</h4>
<table><thead>
<tr>
<th>Value</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>1</td>
<td>int</td>
<td>Market</td>
</tr>
<tr>
<td>2</td>
<td>int</td>
<td>Limit</td>
</tr>
</tbody></table>
<h4 id='f4622b92c5a4'>Trigger Methods</h4>
<ul>
<li><code>tp_price_compare</code>: Take-Profit Trigger Price Type</li>
<li><code>sl_price_compare</code>: Stop-Loss Trigger Price Type</li>
<li><code>plan_price_compare</code>: Planned Order Trigger Price Type</li>
<li><code>trial_compare</code>: Trailing Stop Activation Price Type</li>
</ul>

<table><thead>
<tr>
<th>Value</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>1</td>
<td>int</td>
<td>Index Price</td>
</tr>
<tr>
<td>2</td>
<td>int</td>
<td>Mark Price</td>
</tr>
<tr>
<td>3</td>
<td>int</td>
<td>Last Traded Price</td>
</tr>
</tbody></table>
<h4 id='b301f828v3ad'>Trailing Stop-Loss and Take-Profit Callback Type (<code>trial_type</code>)</h4>
<table><thead>
<tr>
<th>Value</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>1</td>
<td>int</td>
<td>Percentage (for Trailing Stop-Loss and Take-Profit) / Market Order (for Planned Orders)</td>
</tr>
<tr>
<td>2</td>
<td>int</td>
<td>Distance (for Trailing Stop-Loss and Take-Profit) / Limit Order (for Planned Orders)</td>
</tr>
</tbody></table>
<h4 id='6c2af4bckrgh'>Trigger Type (<code>fin_trigger_type</code>)</h4>
<table><thead>
<tr>
<th>Value</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>1</td>
<td>int</td>
<td>Take profit</td>
</tr>
<tr>
<td>2</td>
<td>int</td>
<td>Stop loss</td>
</tr>
</tbody></table>
<h4 id='a07ccf9ead4l'>Strategy Order Status (<code>status</code>)</h4>
<table><thead>
<tr>
<th>Value</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>3</td>
<td>int</td>
<td>Canceled</td>
</tr>
<tr>
<td>100</td>
<td>int</td>
<td>Pending activation</td>
</tr>
<tr>
<td>101</td>
<td>int</td>
<td>Pending trigger</td>
</tr>
<tr>
<td>102</td>
<td>int</td>
<td>Triggered</td>
</tr>
<tr>
<td>103</td>
<td>int</td>
<td>Trigger failed</td>
</tr>
</tbody></table>
<h3 id='577ce36e9qzv'>Currency Configuration Enums</h3><h4 id='006248d0reby'>Currency Status (<code>status</code>)</h4>
<table><thead>
<tr>
<th>Value</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>0</td>
<td>int</td>
<td>Disabled</td>
</tr>
<tr>
<td>1</td>
<td>int</td>
<td>Enabled</td>
</tr>
</tbody></table>
<h3 id='7ee4a9cfd8v2'>Spot Trading Pairs Enums</h3><h4 id='5903d33cx4h9'>Spot Product Status (<code>status</code>)</h4>
<table><thead>
<tr>
<th>Value</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>1</td>
<td>int</td>
<td>Pre-open</td>
</tr>
<tr>
<td>2</td>
<td>int</td>
<td>Active</td>
</tr>
<tr>
<td>3</td>
<td>int</td>
<td>Trading suspended</td>
</tr>
</tbody></table>
<h3 id='d5c4b660ov3h'>Perpetual Contract Pairs Enums</h3><h4 id='31e8d8ca2b1s'>Contract Product Status (<code>status</code>)</h4>
<table><thead>
<tr>
<th>Value</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>1</td>
<td>int</td>
<td>Active</td>
</tr>
<tr>
<td>2</td>
<td>int</td>
<td>Trading suspended</td>
</tr>
</tbody></table>
<h3 id='0540347b95i8'>Funding Account Enums</h3><h4 id='d9663b52h2fb'>Transfer Direction (<code>trade_direction</code>)</h4>
<table><thead>
<tr>
<th>Value</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>1</td>
<td>int</td>
<td>Income</td>
</tr>
<tr>
<td>2</td>
<td>int</td>
<td>Expense</td>
</tr>
</tbody></table>
<h4 id='378a5342lxe7'>Bill Main Types (<code>bill_type</code>)</h4>
<table><thead>
<tr>
<th>Value</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>1</td>
<td>int</td>
<td>Deposit</td>
</tr>
<tr>
<td>2</td>
<td>int</td>
<td>Withdrawal</td>
</tr>
<tr>
<td>3</td>
<td>int</td>
<td>Transfer In</td>
</tr>
<tr>
<td>4</td>
<td>int</td>
<td>Transfer Out</td>
</tr>
<tr>
<td>5</td>
<td>int</td>
<td>Internal Transfer</td>
</tr>
<tr>
<td>6</td>
<td>int</td>
<td>Airdrop</td>
</tr>
</tbody></table>
<h3 id='939ff6ee2k2p'>Trading Account Enums</h3><h4 id='d9663b52jgja'>Transfer Direction (<code>trade_direction</code>)</h4>
<table><thead>
<tr>
<th>Value</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>1</td>
<td>int</td>
<td>Income</td>
</tr>
<tr>
<td>2</td>
<td>int</td>
<td>Expense</td>
</tr>
</tbody></table>
<h4 id='378a5342qxka'>Bill Main Types (<code>bill_type</code>)</h4>
<table><thead>
<tr>
<th>Value</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>1</td>
<td>int</td>
<td>Trade</td>
</tr>
<tr>
<td>2</td>
<td>int</td>
<td>Liquidation</td>
</tr>
<tr>
<td>3</td>
<td>int</td>
<td>Margin Transfer</td>
</tr>
<tr>
<td>4</td>
<td>int</td>
<td>Funding Fee</td>
</tr>
<tr>
<td>5</td>
<td>int</td>
<td>ADL (Auto-Deleveraging)</td>
</tr>
<tr>
<td>6</td>
<td>int</td>
<td>Transfer</td>
</tr>
<tr>
<td>7</td>
<td>int</td>
<td>Rebate Expense</td>
</tr>
<tr>
<td>8</td>
<td>int</td>
<td>Rebate Refund</td>
</tr>
<tr>
<td>9</td>
<td>int</td>
<td>Trial Funds</td>
</tr>
<tr>
<td>10</td>
<td>int</td>
<td>Risk Fund</td>
</tr>
<tr>
<td>11</td>
<td>int</td>
<td>Funding Payment</td>
</tr>
</tbody></table>
<h4 id='ee987e21j2zy'>Bill Sub Types (<code>sub_bill_type</code>)</h4>
<table><thead>
<tr>
<th>Value</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>1</td>
<td>int</td>
<td>Freeze</td>
</tr>
<tr>
<td>2</td>
<td>int</td>
<td>Unfreeze</td>
</tr>
<tr>
<td>3</td>
<td>int</td>
<td>Buy</td>
</tr>
<tr>
<td>4</td>
<td>int</td>
<td>Sell</td>
</tr>
<tr>
<td>5</td>
<td>int</td>
<td>Fee</td>
</tr>
<tr>
<td>6</td>
<td>int</td>
<td>Open Long</td>
</tr>
<tr>
<td>7</td>
<td>int</td>
<td>Open Short</td>
</tr>
<tr>
<td>8</td>
<td>int</td>
<td>Close Long</td>
</tr>
<tr>
<td>9</td>
<td>int</td>
<td>Close Short</td>
</tr>
<tr>
<td>10</td>
<td>int</td>
<td>Reduce Long</td>
</tr>
<tr>
<td>11</td>
<td>int</td>
<td>Reduce Short</td>
</tr>
<tr>
<td>12</td>
<td>int</td>
<td>Manual Margin Increase</td>
</tr>
<tr>
<td>13</td>
<td>int</td>
<td>Manual Margin Decrease</td>
</tr>
<tr>
<td>14</td>
<td>int</td>
<td>Auto Margin Increase</td>
</tr>
<tr>
<td>15</td>
<td>int</td>
<td>Funding Fee Expense</td>
</tr>
<tr>
<td>16</td>
<td>int</td>
<td>Funding Fee Income</td>
</tr>
<tr>
<td>17</td>
<td>int</td>
<td>Transfer In</td>
</tr>
<tr>
<td>18</td>
<td>int</td>
<td>Transfer Out</td>
</tr>
</tbody></table>
<h3 id='cfd04ca6xuwz'>Market Data Enums</h3><h4 id='ff36fa2biylr'>Event Type (event)</h4>
<table><thead>
<tr>
<th>Value</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>sub</td>
<td>string</td>
<td>Subscribe</td>
</tr>
<tr>
<td>unsub</td>
<td>string</td>
<td>Unsubscribe</td>
</tr>
<tr>
<td>req</td>
<td>string</td>
<td>Data request</td>
</tr>
</tbody></table>
<h4 id='9e4420525o4b'>Business Type (params.biz)</h4>
<table><thead>
<tr>
<th>Value</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>spot</td>
<td>string</td>
<td>Spot</td>
</tr>
<tr>
<td>swap</td>
<td>string</td>
<td>Contract</td>
</tr>
</tbody></table>
<h4 id='fb9814192kcy'>Channel Names (params.type)</h4>
<ul>
<li>Spot Channels</li>
</ul>

<table><thead>
<tr>
<th>Value</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>spot.candles</td>
<td>string</td>
<td>Spot candlesticks</td>
</tr>
<tr>
<td>spot.orderbook</td>
<td>string</td>
<td>Spot order book</td>
</tr>
<tr>
<td>spot.percent10</td>
<td>string</td>
<td>Spot order book (top 10%)</td>
</tr>
<tr>
<td>spot.ticker</td>
<td>string</td>
<td>Spot ticker</td>
</tr>
<tr>
<td>spot.fills</td>
<td>string</td>
<td>Spot trade details</td>
</tr>
<tr>
<td>spot.overview</td>
<td>string</td>
<td>Spot market overview</td>
</tr>
</tbody></table>

<ul>
<li>Contract Channels</li>
</ul>

<table><thead>
<tr>
<th>Value</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>swap.candles</td>
<td>string</td>
<td>Contract candlesticks</td>
</tr>
<tr>
<td>swap.index</td>
<td>string</td>
<td>Contract index candlesticks</td>
</tr>
<tr>
<td>swap.tag</td>
<td>string</td>
<td>Contract mark candlesticks</td>
</tr>
<tr>
<td>swap.orderbook</td>
<td>string</td>
<td>Contract order book</td>
</tr>
<tr>
<td>swap.percent10</td>
<td>string</td>
<td>Contract order book (top 10%)</td>
</tr>
<tr>
<td>swap.ticker</td>
<td>string</td>
<td>Contract ticker</td>
</tr>
<tr>
<td>swap.fills</td>
<td>string</td>
<td>Contract trade details</td>
</tr>
<tr>
<td>swap.overview</td>
<td>string</td>
<td>Contract market overview</td>
</tr>
</tbody></table>
<h4 id='0b639dabr3af'>Time Intervals (params.interval)</h4>
<table><thead>
<tr>
<th>Value</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>1min</td>
<td>string</td>
<td>1 minute</td>
</tr>
<tr>
<td>5min</td>
<td>string</td>
<td>5 minutes</td>
</tr>
<tr>
<td>15min</td>
<td>string</td>
<td>15 minutes</td>
</tr>
<tr>
<td>30min</td>
<td>string</td>
<td>30 minutes</td>
</tr>
<tr>
<td>60min</td>
<td>string</td>
<td>60 minutes</td>
</tr>
<tr>
<td>1day</td>
<td>string</td>
<td>1 day</td>
</tr>
<tr>
<td>1week</td>
<td>string</td>
<td>1 week</td>
</tr>
<tr>
<td>1mon</td>
<td>string</td>
<td>1 month</td>
</tr>
</tbody></table>
<h2 id='d9a189b4ufvf'>Order Matching</h2>
<p>APIs under the <code>Order Matching</code> module require authentication.</p>
<h3 id='54090afbbt3b'>Place Spot Order</h3><h4 id='e5e4e37do3aj'>Rate Limit: 3 requests per second</h4><h4 id='59ff88c8imgx'>HTTP Request</h4>
<p><code>POST /v2/trade/spot/order</code></p>
<h4 id='22da1a05irq1'>Request Parameters</h4>
<blockquote>
<p>Request Example</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"product_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BTC-USDT"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"order_type"</span><span class="p">:</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w">
  </span><span class="nl">"price"</span><span class="p">:</span><span class="w"> </span><span class="s2">"103000"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"amount"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1000"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"order_buy_or_sell"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div><div class="highlight"><pre class="highlight java tab-java"><code><span class="kn">import</span> <span class="nn">cn.hutool.http.HttpResponse</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">cn.hutool.http.HttpUtil</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">com.rometools.utils.Strings</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">com.createsgin.HmacAlgorithmEnum</span><span class="o">;</span>
<span class="kd">public</span> <span class="kd">class</span> <span class="nc">TestCase</span> <span class="o">{</span>

    <span class="kd">public</span> <span class="kd">static</span> <span class="nc">String</span> <span class="n">host</span><span class="o">=</span><span class="s">"https://api-v2.uzx.com"</span><span class="o">;</span>
    <span class="kd">public</span> <span class="kd">static</span> <span class="nc">String</span> <span class="no">UZXACCESSKEY2</span> <span class="o">=</span> <span class="s">"{APIKey}"</span><span class="o">;</span>
    <span class="kd">public</span> <span class="kd">static</span> <span class="nc">String</span> <span class="no">UZXACCESSSECRET2</span> <span class="o">=</span> <span class="s">"{SecretKey}"</span><span class="o">;</span>
    <span class="kd">public</span> <span class="kd">static</span> <span class="nc">String</span> <span class="no">UZXACCESSPASSPHRASE2</span> <span class="o">=</span> <span class="s">"{Passphrase}"</span><span class="o">;</span>

    <span class="kd">public</span> <span class="kd">static</span> <span class="kt">void</span> <span class="nf">testPostApi</span><span class="o">(){</span>
        <span class="nc">String</span> <span class="n">timestamp</span> <span class="o">=</span> <span class="nc">System</span><span class="o">.</span><span class="na">currentTimeMillis</span><span class="o">()/</span><span class="mi">1000</span> <span class="o">+</span><span class="s">""</span><span class="o">;</span>
        <span class="nc">String</span> <span class="n">method</span> <span class="o">=</span> <span class="s">"POST"</span><span class="o">;</span>
        <span class="nc">String</span> <span class="n">requestPath</span> <span class="o">=</span> <span class="s">"/v2/trade/spot/order"</span><span class="o">;</span>
        <span class="nc">String</span> <span class="n">body</span> <span class="o">=</span> <span class="s">"{\"product_name\":\"BTC-USDT\",\"order_type\":2,\"price\":\"103000\",\"amount\":\"1000\",\"order_buy_or_sell\":1}"</span><span class="o">;</span>
        <span class="nc">String</span> <span class="n">data</span> <span class="o">=</span> <span class="n">timestamp</span> <span class="o">+</span> <span class="n">method</span> <span class="o">+</span> <span class="n">requestPath</span>  <span class="o">+</span> <span class="n">body</span><span class="o">;</span>
        <span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="n">data</span><span class="o">);</span>
        <span class="nc">String</span> <span class="n">signature</span> <span class="o">=</span> <span class="nc">OpenAPiUtils</span><span class="o">.</span><span class="na">generate</span><span class="o">(</span><span class="n">timestamp</span><span class="o">,</span><span class="n">method</span><span class="o">,</span><span class="n">requestPath</span><span class="o">,</span><span class="kc">null</span><span class="o">,</span><span class="n">body</span><span class="o">,</span><span class="no">UZXACCESSSECRET2</span><span class="o">,</span><span class="nc">HmacAlgorithmEnum</span><span class="o">.</span><span class="na">HMAC_SHA_256</span><span class="o">);</span>
        <span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="n">signature</span><span class="o">);</span>


        <span class="nc">HttpResponse</span> <span class="n">resp</span> <span class="o">=</span> <span class="nc">HttpUtil</span><span class="o">.</span><span class="na">createPost</span><span class="o">(</span><span class="n">host</span><span class="o">+</span><span class="n">requestPath</span>  <span class="o">).</span><span class="na">body</span><span class="o">(</span><span class="n">body</span><span class="o">)</span>
                <span class="o">.</span><span class="na">header</span><span class="o">(</span><span class="s">"UZX-ACCESS-KEY"</span><span class="o">,</span><span class="no">UZXACCESSKEY2</span><span class="o">)</span>
                <span class="o">.</span><span class="na">header</span><span class="o">(</span><span class="s">"UZX-ACCESS-SIGN"</span><span class="o">,</span><span class="n">signature</span><span class="o">)</span>
                <span class="o">.</span><span class="na">header</span><span class="o">(</span><span class="s">"UZX-ACCESS-TIMESTAMP"</span><span class="o">,</span><span class="n">timestamp</span><span class="o">)</span>
                <span class="o">.</span><span class="na">header</span><span class="o">(</span><span class="s">"UZX-ACCESS-PASSPHRASE"</span><span class="o">,</span><span class="no">UZXACCESSPASSPHRASE2</span><span class="o">).</span><span class="na">execute</span><span class="o">();</span>
        <span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="n">resp</span><span class="o">.</span><span class="na">body</span><span class="o">());</span>
    <span class="o">}</span>

    <span class="kd">public</span> <span class="kd">static</span> <span class="kt">void</span> <span class="nf">main</span><span class="o">(</span><span class="nc">String</span><span class="o">[]</span> <span class="n">args</span><span class="o">)</span> <span class="o">{</span>
        <span class="n">testPostApi</span><span class="o">();</span>
    <span class="o">}</span>
<span class="o">}</span>
</code></pre></div><div class="highlight"><pre class="highlight python tab-python"><code><span class="kn">import</span> <span class="nn">time</span>
<span class="kn">import</span> <span class="nn">hmac</span>
<span class="kn">import</span> <span class="nn">hashlib</span>
<span class="kn">import</span> <span class="nn">base64</span>
<span class="kn">import</span> <span class="nn">requests</span>
<span class="kn">import</span> <span class="nn">json</span>

<span class="n">host</span> <span class="o">=</span> <span class="s">"https://api-v2.uzx.com"</span>
<span class="n">APIKey</span> <span class="o">=</span> <span class="s">"{APIKey}"</span>
<span class="n">SecretKey</span> <span class="o">=</span> <span class="s">"{SecretKey}"</span>
<span class="n">Passphrase</span> <span class="o">=</span> <span class="s">"{Passphrase}"</span>

<span class="k">def</span> <span class="nf">generate_signature</span><span class="p">(</span><span class="n">timestamp</span><span class="p">,</span> <span class="n">method</span><span class="p">,</span> <span class="n">path</span><span class="p">,</span> <span class="n">query</span><span class="p">,</span> <span class="n">body</span><span class="p">,</span> <span class="n">secret</span><span class="p">):</span>
    <span class="n">query</span> <span class="o">=</span> <span class="s">'?'</span> <span class="o">+</span> <span class="n">query</span> <span class="k">if</span> <span class="n">query</span> <span class="k">else</span> <span class="s">''</span>
    <span class="n">body</span> <span class="o">=</span> <span class="n">body</span> <span class="k">if</span> <span class="n">body</span> <span class="k">else</span> <span class="s">''</span>
    <span class="n">prehash</span> <span class="o">=</span> <span class="sa">f</span><span class="s">"</span><span class="si">{</span><span class="n">timestamp</span><span class="si">}{</span><span class="n">method</span><span class="p">.</span><span class="n">upper</span><span class="p">()</span><span class="si">}{</span><span class="n">path</span><span class="si">}{</span><span class="n">query</span><span class="si">}{</span><span class="n">body</span><span class="si">}</span><span class="s">"</span>
    <span class="n">signature</span> <span class="o">=</span> <span class="n">hmac</span><span class="p">.</span><span class="n">new</span><span class="p">(</span><span class="n">secret</span><span class="p">.</span><span class="n">encode</span><span class="p">(),</span> <span class="n">prehash</span><span class="p">.</span><span class="n">encode</span><span class="p">(),</span> <span class="n">hashlib</span><span class="p">.</span><span class="n">sha256</span><span class="p">).</span><span class="n">digest</span><span class="p">()</span>
    <span class="k">return</span> <span class="n">base64</span><span class="p">.</span><span class="n">b64encode</span><span class="p">(</span><span class="n">signature</span><span class="p">).</span><span class="n">decode</span><span class="p">()</span>

<span class="k">def</span> <span class="nf">test_post_api</span><span class="p">():</span>
    <span class="n">timestamp</span> <span class="o">=</span> <span class="nb">str</span><span class="p">(</span><span class="nb">int</span><span class="p">(</span><span class="n">time</span><span class="p">.</span><span class="n">time</span><span class="p">()))</span>
    <span class="n">method</span> <span class="o">=</span> <span class="s">"POST"</span>
    <span class="n">path</span> <span class="o">=</span> <span class="s">"/v2/trade/spot/order"</span>
    <span class="n">body</span> <span class="o">=</span> <span class="p">{</span>
      <span class="s">"product_name"</span><span class="p">:</span> <span class="s">"BTC-USDT"</span><span class="p">,</span>
      <span class="s">"order_type"</span><span class="p">:</span> <span class="mi">2</span><span class="p">,</span>
      <span class="s">"price"</span><span class="p">:</span> <span class="s">"103000"</span><span class="p">,</span>
      <span class="s">"amount"</span><span class="p">:</span> <span class="s">"1000"</span><span class="p">,</span>
      <span class="s">"order_buy_or_sell"</span><span class="p">:</span> <span class="mi">1</span>
    <span class="p">}</span>
    <span class="n">body_str</span> <span class="o">=</span> <span class="n">json</span><span class="p">.</span><span class="n">dumps</span><span class="p">(</span><span class="n">body</span><span class="p">,</span> <span class="n">separators</span><span class="o">=</span><span class="p">(</span><span class="s">','</span><span class="p">,</span> <span class="s">':'</span><span class="p">))</span> 
    <span class="n">signature</span> <span class="o">=</span> <span class="n">generate_signature</span><span class="p">(</span><span class="n">timestamp</span><span class="p">,</span> <span class="n">method</span><span class="p">,</span> <span class="n">path</span><span class="p">,</span> <span class="bp">None</span><span class="p">,</span> <span class="n">body_str</span><span class="p">,</span> <span class="n">SecretKey</span><span class="p">)</span>

    <span class="n">headers</span> <span class="o">=</span> <span class="p">{</span>
        <span class="s">"UZX-ACCESS-KEY"</span><span class="p">:</span> <span class="n">APIKey</span><span class="p">,</span>
        <span class="s">"UZX-ACCESS-SIGN"</span><span class="p">:</span> <span class="n">signature</span><span class="p">,</span>
        <span class="s">"UZX-ACCESS-TIMESTAMP"</span><span class="p">:</span> <span class="n">timestamp</span><span class="p">,</span>
        <span class="s">"UZX-ACCESS-PASSPHRASE"</span><span class="p">:</span> <span class="n">Passphrase</span><span class="p">,</span>
        <span class="s">"Content-Type"</span><span class="p">:</span> <span class="s">"application/json"</span>
    <span class="p">}</span>

    <span class="n">resp</span> <span class="o">=</span> <span class="n">requests</span><span class="p">.</span><span class="n">post</span><span class="p">(</span><span class="n">host</span> <span class="o">+</span> <span class="n">path</span><span class="p">,</span> <span class="n">headers</span><span class="o">=</span><span class="n">headers</span><span class="p">,</span> <span class="n">data</span><span class="o">=</span><span class="n">body_str</span><span class="p">)</span>
    <span class="k">print</span><span class="p">(</span><span class="n">resp</span><span class="p">.</span><span class="n">status_code</span><span class="p">,</span> <span class="n">resp</span><span class="p">.</span><span class="n">text</span><span class="p">)</span>

<span class="n">test_post_api</span><span class="p">()</span>

</code></pre></div><div class="highlight"><pre class="highlight go tab-go"><code><span class="k">package</span> <span class="n">main</span>

<span class="k">import</span> <span class="p">(</span>
    <span class="s">"bytes"</span>
    <span class="s">"crypto/hmac"</span>
    <span class="s">"crypto/sha256"</span>
    <span class="s">"encoding/base64"</span>
    <span class="s">"fmt"</span>
    <span class="s">"net/http"</span>
    <span class="s">"time"</span>
    <span class="s">"strings"</span>
    <span class="s">"io/ioutil"</span>
<span class="p">)</span>

<span class="k">const</span> <span class="p">(</span>
    <span class="n">host</span>       <span class="o">=</span> <span class="s">"https://api-v2.uzx.com"</span>
    <span class="n">APIKey</span>     <span class="o">=</span> <span class="s">"{APIKey}"</span>
    <span class="n">SecretKey</span>  <span class="o">=</span> <span class="s">"{SecretKey}"</span>
    <span class="n">Passphrase</span> <span class="o">=</span> <span class="s">"{Passphrase}"</span>
<span class="p">)</span>

<span class="k">func</span> <span class="n">generateSignature</span><span class="p">(</span><span class="n">timestamp</span><span class="p">,</span> <span class="n">method</span><span class="p">,</span> <span class="n">path</span><span class="p">,</span> <span class="n">query</span><span class="p">,</span> <span class="n">body</span><span class="p">,</span> <span class="n">secret</span> <span class="kt">string</span><span class="p">)</span> <span class="kt">string</span> <span class="p">{</span>
    <span class="k">if</span> <span class="n">query</span> <span class="o">!=</span> <span class="s">""</span> <span class="p">{</span>
        <span class="n">query</span> <span class="o">=</span> <span class="s">"?"</span> <span class="o">+</span> <span class="n">query</span>
    <span class="p">}</span>
    <span class="n">preHash</span> <span class="o">:=</span> <span class="n">timestamp</span> <span class="o">+</span> <span class="n">strings</span><span class="o">.</span><span class="n">ToUpper</span><span class="p">(</span><span class="n">method</span><span class="p">)</span> <span class="o">+</span> <span class="n">path</span> <span class="o">+</span> <span class="n">query</span> <span class="o">+</span> <span class="n">body</span>
    <span class="n">mac</span> <span class="o">:=</span> <span class="n">hmac</span><span class="o">.</span><span class="n">New</span><span class="p">(</span><span class="n">sha256</span><span class="o">.</span><span class="n">New</span><span class="p">,</span> <span class="p">[]</span><span class="kt">byte</span><span class="p">(</span><span class="n">secret</span><span class="p">))</span>
    <span class="n">mac</span><span class="o">.</span><span class="n">Write</span><span class="p">([]</span><span class="kt">byte</span><span class="p">(</span><span class="n">preHash</span><span class="p">))</span>
    <span class="k">return</span> <span class="n">base64</span><span class="o">.</span><span class="n">StdEncoding</span><span class="o">.</span><span class="n">EncodeToString</span><span class="p">(</span><span class="n">mac</span><span class="o">.</span><span class="n">Sum</span><span class="p">(</span><span class="no">nil</span><span class="p">))</span>
<span class="p">}</span>

<span class="k">func</span> <span class="n">testPostApi</span><span class="p">()</span> <span class="p">{</span>
    <span class="n">timestamp</span> <span class="o">:=</span> <span class="n">fmt</span><span class="o">.</span><span class="n">Sprintf</span><span class="p">(</span><span class="s">"%d"</span><span class="p">,</span> <span class="n">time</span><span class="o">.</span><span class="n">Now</span><span class="p">()</span><span class="o">.</span><span class="n">Unix</span><span class="p">())</span>
    <span class="n">method</span> <span class="o">:=</span> <span class="s">"POST"</span>
    <span class="n">path</span> <span class="o">:=</span> <span class="s">"/v2/trade/spot/order"</span>
    <span class="n">body</span> <span class="o">:=</span> <span class="s">`{"product_name":"BTC-USDT","order_type":2,"price":"103000","amount":"1000","order_buy_or_sell":1}`</span>
    <span class="n">signature</span> <span class="o">:=</span> <span class="n">generateSignature</span><span class="p">(</span><span class="n">timestamp</span><span class="p">,</span> <span class="n">method</span><span class="p">,</span> <span class="n">path</span><span class="p">,</span> <span class="s">""</span><span class="p">,</span> <span class="n">body</span><span class="p">,</span> <span class="n">SecretKey</span><span class="p">)</span>

    <span class="n">req</span><span class="p">,</span> <span class="n">err</span> <span class="o">:=</span> <span class="n">http</span><span class="o">.</span><span class="n">NewRequest</span><span class="p">(</span><span class="n">method</span><span class="p">,</span> <span class="n">host</span><span class="o">+</span><span class="n">path</span><span class="p">,</span> <span class="n">bytes</span><span class="o">.</span><span class="n">NewBuffer</span><span class="p">([]</span><span class="kt">byte</span><span class="p">(</span><span class="n">body</span><span class="p">)))</span>
    <span class="k">if</span> <span class="n">err</span> <span class="o">!=</span> <span class="no">nil</span> <span class="p">{</span>
        <span class="nb">panic</span><span class="p">(</span><span class="n">err</span><span class="p">)</span>
    <span class="p">}</span>

    <span class="n">req</span><span class="o">.</span><span class="n">Header</span><span class="o">.</span><span class="n">Set</span><span class="p">(</span><span class="s">"Content-Type"</span><span class="p">,</span> <span class="s">"application/json"</span><span class="p">)</span>
    <span class="n">req</span><span class="o">.</span><span class="n">Header</span><span class="o">.</span><span class="n">Set</span><span class="p">(</span><span class="s">"UZX-ACCESS-KEY"</span><span class="p">,</span> <span class="n">APIKey</span><span class="p">)</span>
    <span class="n">req</span><span class="o">.</span><span class="n">Header</span><span class="o">.</span><span class="n">Set</span><span class="p">(</span><span class="s">"UZX-ACCESS-SIGN"</span><span class="p">,</span> <span class="n">signature</span><span class="p">)</span>
    <span class="n">req</span><span class="o">.</span><span class="n">Header</span><span class="o">.</span><span class="n">Set</span><span class="p">(</span><span class="s">"UZX-ACCESS-TIMESTAMP"</span><span class="p">,</span> <span class="n">timestamp</span><span class="p">)</span>
    <span class="n">req</span><span class="o">.</span><span class="n">Header</span><span class="o">.</span><span class="n">Set</span><span class="p">(</span><span class="s">"UZX-ACCESS-PASSPHRASE"</span><span class="p">,</span> <span class="n">Passphrase</span><span class="p">)</span>

    <span class="n">client</span> <span class="o">:=</span> <span class="o">&amp;</span><span class="n">http</span><span class="o">.</span><span class="n">Client</span><span class="p">{}</span>
    <span class="n">resp</span><span class="p">,</span> <span class="n">err</span> <span class="o">:=</span> <span class="n">client</span><span class="o">.</span><span class="n">Do</span><span class="p">(</span><span class="n">req</span><span class="p">)</span>
    <span class="k">if</span> <span class="n">err</span> <span class="o">!=</span> <span class="no">nil</span> <span class="p">{</span>
        <span class="nb">panic</span><span class="p">(</span><span class="n">err</span><span class="p">)</span>
    <span class="p">}</span>
    <span class="k">defer</span> <span class="n">resp</span><span class="o">.</span><span class="n">Body</span><span class="o">.</span><span class="n">Close</span><span class="p">()</span>
    <span class="n">bodyResp</span><span class="p">,</span> <span class="n">_</span> <span class="o">:=</span> <span class="n">ioutil</span><span class="o">.</span><span class="n">ReadAll</span><span class="p">(</span><span class="n">resp</span><span class="o">.</span><span class="n">Body</span><span class="p">)</span>
    <span class="n">fmt</span><span class="o">.</span><span class="n">Println</span><span class="p">(</span><span class="n">resp</span><span class="o">.</span><span class="n">StatusCode</span><span class="p">,</span> <span class="kt">string</span><span class="p">(</span><span class="n">bodyResp</span><span class="p">))</span>
<span class="p">}</span>

<span class="k">func</span> <span class="n">main</span><span class="p">()</span> <span class="p">{</span>
    <span class="n">testPostApi</span><span class="p">()</span>
<span class="p">}</span>
</code></pre></div>
<table><thead>
<tr>
<th>Name</th>
<th>Location</th>
<th>Type</th>
<th>Required</th>
<th>Explanation</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>body</td>
<td>body</td>
<td>object</td>
<td>No</td>
<td></td>
<td></td>
</tr>
<tr>
<td>» product_name</td>
<td>body</td>
<td>string</td>
<td>Yes</td>
<td>Product name</td>
<td></td>
</tr>
<tr>
<td>» order_type</td>
<td>body</td>
<td>integer</td>
<td>Yes</td>
<td>Order type</td>
<td>See enumeration</td>
</tr>
<tr>
<td>» price</td>
<td>body</td>
<td>string</td>
<td>Yes</td>
<td>Price</td>
<td></td>
</tr>
<tr>
<td>» amount</td>
<td>body</td>
<td>string</td>
<td>Yes</td>
<td>Order quantity</td>
<td></td>
</tr>
<tr>
<td>» order_buy_or_sell</td>
<td>body</td>
<td>integer</td>
<td>Yes</td>
<td>Buy or sell direction</td>
<td>1 for buy, 2 for sell</td>
</tr>
<tr>
<td>» trade_ccy</td>
<td>body</td>
<td>integer</td>
<td>Yes</td>
<td>Unit for market order</td>
<td>1 for trading currency, 2 for quoted currency</td>
</tr>
<tr>
<td>» attach_algo</td>
<td>body</td>
<td>array[object]</td>
<td>No</td>
<td>Take-profit and stop-loss information</td>
<td></td>
</tr>
<tr>
<td>»» tp_trigger_price</td>
<td>body</td>
<td>string</td>
<td>Yes</td>
<td>Take-profit trigger price</td>
<td></td>
</tr>
<tr>
<td>»» tp_ord_price</td>
<td>body</td>
<td>string</td>
<td>Yes</td>
<td>Take-profit order price</td>
<td>-1 for market price, &gt;0 for normal limit price</td>
</tr>
<tr>
<td>»» tp_ord_kind</td>
<td>body</td>
<td>string</td>
<td>Yes</td>
<td>Take-profit order type</td>
<td>1 for trigger order/conditional order, 2 for limit order</td>
</tr>
<tr>
<td>»» sl_trigger_price</td>
<td>body</td>
<td>string</td>
<td>Yes</td>
<td>Stop-loss trigger price</td>
<td></td>
</tr>
<tr>
<td>»» sl_ord_price</td>
<td>body</td>
<td>string</td>
<td>Yes</td>
<td>Stop-loss order price</td>
<td>-1 for market price, &gt;0 for normal limit price</td>
</tr>
</tbody></table>
<h4 id='a222a51evho3'>Response Parameters</h4>
<blockquote>
<p>Response Example</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"code"</span><span class="p">:</span><span class="w"> </span><span class="mi">200</span><span class="p">,</span><span class="w">
  </span><span class="nl">"msg"</span><span class="p">:</span><span class="w"> </span><span class="s2">"success"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"order_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2508810000100425939"</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<table><thead>
<tr>
<th>Name</th>
<th>Type</th>
<th>Explanation</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>» code</td>
<td>integer</td>
<td>Status code</td>
<td></td>
</tr>
<tr>
<td>» msg</td>
<td>string</td>
<td>Description</td>
<td></td>
</tr>
<tr>
<td>» data</td>
<td>object</td>
<td>Data</td>
<td></td>
</tr>
<tr>
<td>»» order_id</td>
<td>string</td>
<td>Order identifier</td>
<td></td>
</tr>
</tbody></table>
<h3 id='c0d5ca875he9'>Spot Batch Order Placement</h3><h4 id='e5e4e37djpq8'>Rate Limit: 3 requests per second</h4><h4 id='59ff88c8wdfi'>HTTP Request</h4>
<p><code>POST /v2/trade/spot/batch-orders</code></p>
<h4 id='22da1a0518zy'>Request Parameters</h4>
<blockquote>
<p>Request Example</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">[</span><span class="w">
  </span><span class="p">{</span><span class="w">
    </span><span class="nl">"product_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BTC-USDT"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"order_type"</span><span class="p">:</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w">
    </span><span class="nl">"price"</span><span class="p">:</span><span class="w"> </span><span class="s2">"103000"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"amount"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1000"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"order_buy_or_sell"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">]</span><span class="w">
</span></code></pre></div><div class="highlight"><pre class="highlight java tab-java"><code><span class="kn">import</span> <span class="nn">cn.hutool.http.HttpResponse</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">cn.hutool.http.HttpUtil</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">com.rometools.utils.Strings</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">com.createsgin.HmacAlgorithmEnum</span><span class="o">;</span>
<span class="kd">public</span> <span class="kd">class</span> <span class="nc">TestCase</span> <span class="o">{</span>

    <span class="kd">public</span> <span class="kd">static</span> <span class="nc">String</span> <span class="n">host</span><span class="o">=</span><span class="s">"https://api-v2.uzx.com"</span><span class="o">;</span>
    <span class="kd">public</span> <span class="kd">static</span> <span class="nc">String</span> <span class="no">UZXACCESSKEY2</span> <span class="o">=</span> <span class="s">"{APIKey}"</span><span class="o">;</span>
    <span class="kd">public</span> <span class="kd">static</span> <span class="nc">String</span> <span class="no">UZXACCESSSECRET2</span> <span class="o">=</span> <span class="s">"{SecretKey}"</span><span class="o">;</span>
    <span class="kd">public</span> <span class="kd">static</span> <span class="nc">String</span> <span class="no">UZXACCESSPASSPHRASE2</span> <span class="o">=</span> <span class="s">"{Passphrase}"</span><span class="o">;</span>

    <span class="kd">public</span> <span class="kd">static</span> <span class="kt">void</span> <span class="nf">testPostApi</span><span class="o">(){</span>
        <span class="nc">String</span> <span class="n">timestamp</span> <span class="o">=</span> <span class="nc">System</span><span class="o">.</span><span class="na">currentTimeMillis</span><span class="o">()/</span><span class="mi">1000</span> <span class="o">+</span><span class="s">""</span><span class="o">;</span>
        <span class="nc">String</span> <span class="n">method</span> <span class="o">=</span> <span class="s">"POST"</span><span class="o">;</span>
        <span class="nc">String</span> <span class="n">requestPath</span> <span class="o">=</span> <span class="s">"/v2/trade/spot/batch-orders"</span><span class="o">;</span>
        <span class="nc">String</span> <span class="n">body</span> <span class="o">=</span> <span class="s">"[{\"product_name\":\"BTC-USDT\",\"order_type\":2,\"price\":\"103000\",\"amount\":\"1000\",\"order_buy_or_sell\":1}]"</span><span class="o">;</span>
        <span class="nc">String</span> <span class="n">data</span> <span class="o">=</span> <span class="n">timestamp</span> <span class="o">+</span> <span class="n">method</span> <span class="o">+</span> <span class="n">requestPath</span>  <span class="o">+</span> <span class="n">body</span><span class="o">;</span>
        <span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="n">data</span><span class="o">);</span>
        <span class="nc">String</span> <span class="n">signature</span> <span class="o">=</span> <span class="nc">OpenAPiUtils</span><span class="o">.</span><span class="na">generate</span><span class="o">(</span><span class="n">timestamp</span><span class="o">,</span><span class="n">method</span><span class="o">,</span><span class="n">requestPath</span><span class="o">,</span><span class="kc">null</span><span class="o">,</span><span class="n">body</span><span class="o">,</span><span class="no">UZXACCESSSECRET2</span><span class="o">,</span><span class="nc">HmacAlgorithmEnum</span><span class="o">.</span><span class="na">HMAC_SHA_256</span><span class="o">);</span>
        <span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="n">signature</span><span class="o">);</span>


        <span class="nc">HttpResponse</span> <span class="n">resp</span> <span class="o">=</span> <span class="nc">HttpUtil</span><span class="o">.</span><span class="na">createPost</span><span class="o">(</span><span class="n">host</span><span class="o">+</span><span class="n">requestPath</span>  <span class="o">).</span><span class="na">body</span><span class="o">(</span><span class="n">body</span><span class="o">)</span>
                <span class="o">.</span><span class="na">header</span><span class="o">(</span><span class="s">"UZX-ACCESS-KEY"</span><span class="o">,</span><span class="no">UZXACCESSKEY2</span><span class="o">)</span>
                <span class="o">.</span><span class="na">header</span><span class="o">(</span><span class="s">"UZX-ACCESS-SIGN"</span><span class="o">,</span><span class="n">signature</span><span class="o">)</span>
                <span class="o">.</span><span class="na">header</span><span class="o">(</span><span class="s">"UZX-ACCESS-TIMESTAMP"</span><span class="o">,</span><span class="n">timestamp</span><span class="o">)</span>
                <span class="o">.</span><span class="na">header</span><span class="o">(</span><span class="s">"UZX-ACCESS-PASSPHRASE"</span><span class="o">,</span><span class="no">UZXACCESSPASSPHRASE2</span><span class="o">).</span><span class="na">execute</span><span class="o">();</span>
        <span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="n">resp</span><span class="o">.</span><span class="na">body</span><span class="o">());</span>
    <span class="o">}</span>

    <span class="kd">public</span> <span class="kd">static</span> <span class="kt">void</span> <span class="nf">main</span><span class="o">(</span><span class="nc">String</span><span class="o">[]</span> <span class="n">args</span><span class="o">)</span> <span class="o">{</span>
        <span class="n">testPostApi</span><span class="o">();</span>
    <span class="o">}</span>
<span class="o">}</span>
</code></pre></div><div class="highlight"><pre class="highlight python tab-python"><code><span class="kn">import</span> <span class="nn">time</span>
<span class="kn">import</span> <span class="nn">hmac</span>
<span class="kn">import</span> <span class="nn">hashlib</span>
<span class="kn">import</span> <span class="nn">base64</span>
<span class="kn">import</span> <span class="nn">requests</span>
<span class="kn">import</span> <span class="nn">json</span>

<span class="n">host</span> <span class="o">=</span> <span class="s">"https://api-v2.uzx.com"</span>
<span class="n">APIKey</span> <span class="o">=</span> <span class="s">"{APIKey}"</span>
<span class="n">SecretKey</span> <span class="o">=</span> <span class="s">"{SecretKey}"</span>
<span class="n">Passphrase</span> <span class="o">=</span> <span class="s">"{Passphrase}"</span>

<span class="k">def</span> <span class="nf">generate_signature</span><span class="p">(</span><span class="n">timestamp</span><span class="p">,</span> <span class="n">method</span><span class="p">,</span> <span class="n">path</span><span class="p">,</span> <span class="n">query</span><span class="p">,</span> <span class="n">body</span><span class="p">,</span> <span class="n">secret</span><span class="p">):</span>
    <span class="n">query</span> <span class="o">=</span> <span class="s">'?'</span> <span class="o">+</span> <span class="n">query</span> <span class="k">if</span> <span class="n">query</span> <span class="k">else</span> <span class="s">''</span>
    <span class="n">body</span> <span class="o">=</span> <span class="n">body</span> <span class="k">if</span> <span class="n">body</span> <span class="k">else</span> <span class="s">''</span>
    <span class="n">prehash</span> <span class="o">=</span> <span class="sa">f</span><span class="s">"</span><span class="si">{</span><span class="n">timestamp</span><span class="si">}{</span><span class="n">method</span><span class="p">.</span><span class="n">upper</span><span class="p">()</span><span class="si">}{</span><span class="n">path</span><span class="si">}{</span><span class="n">query</span><span class="si">}{</span><span class="n">body</span><span class="si">}</span><span class="s">"</span>
    <span class="n">signature</span> <span class="o">=</span> <span class="n">hmac</span><span class="p">.</span><span class="n">new</span><span class="p">(</span><span class="n">secret</span><span class="p">.</span><span class="n">encode</span><span class="p">(),</span> <span class="n">prehash</span><span class="p">.</span><span class="n">encode</span><span class="p">(),</span> <span class="n">hashlib</span><span class="p">.</span><span class="n">sha256</span><span class="p">).</span><span class="n">digest</span><span class="p">()</span>
    <span class="k">return</span> <span class="n">base64</span><span class="p">.</span><span class="n">b64encode</span><span class="p">(</span><span class="n">signature</span><span class="p">).</span><span class="n">decode</span><span class="p">()</span>

<span class="k">def</span> <span class="nf">test_post_api</span><span class="p">():</span>
    <span class="n">timestamp</span> <span class="o">=</span> <span class="nb">str</span><span class="p">(</span><span class="nb">int</span><span class="p">(</span><span class="n">time</span><span class="p">.</span><span class="n">time</span><span class="p">()))</span>
    <span class="n">method</span> <span class="o">=</span> <span class="s">"POST"</span>
    <span class="n">path</span> <span class="o">=</span> <span class="s">"/v2/trade/spot/batch-orders"</span>
    <span class="n">body</span> <span class="o">=</span> <span class="p">[</span>
        <span class="p">{</span>
            <span class="s">"product_name"</span><span class="p">:</span> <span class="s">"BTC-USDT"</span><span class="p">,</span>
            <span class="s">"order_type"</span><span class="p">:</span> <span class="mi">2</span><span class="p">,</span>
            <span class="s">"price"</span><span class="p">:</span> <span class="s">"103000"</span><span class="p">,</span>
            <span class="s">"amount"</span><span class="p">:</span> <span class="s">"1000"</span><span class="p">,</span> 
            <span class="s">"order_buy_or_sell"</span><span class="p">:</span> <span class="mi">1</span>
        <span class="p">}</span>
    <span class="p">]</span>
    <span class="n">body_str</span> <span class="o">=</span> <span class="n">json</span><span class="p">.</span><span class="n">dumps</span><span class="p">(</span><span class="n">body</span><span class="p">,</span> <span class="n">separators</span><span class="o">=</span><span class="p">(</span><span class="s">','</span><span class="p">,</span> <span class="s">':'</span><span class="p">))</span> 
    <span class="n">signature</span> <span class="o">=</span> <span class="n">generate_signature</span><span class="p">(</span><span class="n">timestamp</span><span class="p">,</span> <span class="n">method</span><span class="p">,</span> <span class="n">path</span><span class="p">,</span> <span class="bp">None</span><span class="p">,</span> <span class="n">body_str</span><span class="p">,</span> <span class="n">SecretKey</span><span class="p">)</span>

    <span class="n">headers</span> <span class="o">=</span> <span class="p">{</span>
        <span class="s">"UZX-ACCESS-KEY"</span><span class="p">:</span> <span class="n">APIKey</span><span class="p">,</span>
        <span class="s">"UZX-ACCESS-SIGN"</span><span class="p">:</span> <span class="n">signature</span><span class="p">,</span>
        <span class="s">"UZX-ACCESS-TIMESTAMP"</span><span class="p">:</span> <span class="n">timestamp</span><span class="p">,</span>
        <span class="s">"UZX-ACCESS-PASSPHRASE"</span><span class="p">:</span> <span class="n">Passphrase</span><span class="p">,</span>
        <span class="s">"Content-Type"</span><span class="p">:</span> <span class="s">"application/json"</span>
    <span class="p">}</span>

    <span class="n">resp</span> <span class="o">=</span> <span class="n">requests</span><span class="p">.</span><span class="n">post</span><span class="p">(</span><span class="n">host</span> <span class="o">+</span> <span class="n">path</span><span class="p">,</span> <span class="n">headers</span><span class="o">=</span><span class="n">headers</span><span class="p">,</span> <span class="n">data</span><span class="o">=</span><span class="n">body_str</span><span class="p">)</span>
    <span class="k">print</span><span class="p">(</span><span class="n">resp</span><span class="p">.</span><span class="n">status_code</span><span class="p">,</span> <span class="n">resp</span><span class="p">.</span><span class="n">text</span><span class="p">)</span>

<span class="n">test_post_api</span><span class="p">()</span>

</code></pre></div><div class="highlight"><pre class="highlight go tab-go"><code><span class="k">package</span> <span class="n">main</span>

<span class="k">import</span> <span class="p">(</span>
    <span class="s">"bytes"</span>
    <span class="s">"crypto/hmac"</span>
    <span class="s">"crypto/sha256"</span>
    <span class="s">"encoding/base64"</span>
    <span class="s">"fmt"</span>
    <span class="s">"net/http"</span>
    <span class="s">"time"</span>
    <span class="s">"strings"</span>
    <span class="s">"io/ioutil"</span>
<span class="p">)</span>

<span class="k">const</span> <span class="p">(</span>
    <span class="n">host</span>       <span class="o">=</span> <span class="s">"https://api-v2.uzx.com"</span>
    <span class="n">APIKey</span>     <span class="o">=</span> <span class="s">"{APIKey}"</span>
    <span class="n">SecretKey</span>  <span class="o">=</span> <span class="s">"{SecretKey}"</span>
    <span class="n">Passphrase</span> <span class="o">=</span> <span class="s">"{Passphrase}"</span>
<span class="p">)</span>

<span class="k">func</span> <span class="n">generateSignature</span><span class="p">(</span><span class="n">timestamp</span><span class="p">,</span> <span class="n">method</span><span class="p">,</span> <span class="n">path</span><span class="p">,</span> <span class="n">query</span><span class="p">,</span> <span class="n">body</span><span class="p">,</span> <span class="n">secret</span> <span class="kt">string</span><span class="p">)</span> <span class="kt">string</span> <span class="p">{</span>
    <span class="k">if</span> <span class="n">query</span> <span class="o">!=</span> <span class="s">""</span> <span class="p">{</span>
        <span class="n">query</span> <span class="o">=</span> <span class="s">"?"</span> <span class="o">+</span> <span class="n">query</span>
    <span class="p">}</span>
    <span class="n">preHash</span> <span class="o">:=</span> <span class="n">timestamp</span> <span class="o">+</span> <span class="n">strings</span><span class="o">.</span><span class="n">ToUpper</span><span class="p">(</span><span class="n">method</span><span class="p">)</span> <span class="o">+</span> <span class="n">path</span> <span class="o">+</span> <span class="n">query</span> <span class="o">+</span> <span class="n">body</span>
    <span class="n">mac</span> <span class="o">:=</span> <span class="n">hmac</span><span class="o">.</span><span class="n">New</span><span class="p">(</span><span class="n">sha256</span><span class="o">.</span><span class="n">New</span><span class="p">,</span> <span class="p">[]</span><span class="kt">byte</span><span class="p">(</span><span class="n">secret</span><span class="p">))</span>
    <span class="n">mac</span><span class="o">.</span><span class="n">Write</span><span class="p">([]</span><span class="kt">byte</span><span class="p">(</span><span class="n">preHash</span><span class="p">))</span>
    <span class="k">return</span> <span class="n">base64</span><span class="o">.</span><span class="n">StdEncoding</span><span class="o">.</span><span class="n">EncodeToString</span><span class="p">(</span><span class="n">mac</span><span class="o">.</span><span class="n">Sum</span><span class="p">(</span><span class="no">nil</span><span class="p">))</span>
<span class="p">}</span>

<span class="k">func</span> <span class="n">testPostApi</span><span class="p">()</span> <span class="p">{</span>
    <span class="n">timestamp</span> <span class="o">:=</span> <span class="n">fmt</span><span class="o">.</span><span class="n">Sprintf</span><span class="p">(</span><span class="s">"%d"</span><span class="p">,</span> <span class="n">time</span><span class="o">.</span><span class="n">Now</span><span class="p">()</span><span class="o">.</span><span class="n">Unix</span><span class="p">())</span>
    <span class="n">method</span> <span class="o">:=</span> <span class="s">"POST"</span>
    <span class="n">path</span> <span class="o">:=</span> <span class="s">"/v2/trade/spot/batch-orders"</span>
    <span class="n">body</span> <span class="o">:=</span> <span class="s">`[{"product_name":"BTC-USDT","order_type":2,"price":"103000","amount":"1000","order_buy_or_sell":1}]`</span>
    <span class="n">signature</span> <span class="o">:=</span> <span class="n">generateSignature</span><span class="p">(</span><span class="n">timestamp</span><span class="p">,</span> <span class="n">method</span><span class="p">,</span> <span class="n">path</span><span class="p">,</span> <span class="s">""</span><span class="p">,</span> <span class="n">body</span><span class="p">,</span> <span class="n">SecretKey</span><span class="p">)</span>

    <span class="n">req</span><span class="p">,</span> <span class="n">err</span> <span class="o">:=</span> <span class="n">http</span><span class="o">.</span><span class="n">NewRequest</span><span class="p">(</span><span class="n">method</span><span class="p">,</span> <span class="n">host</span><span class="o">+</span><span class="n">path</span><span class="p">,</span> <span class="n">bytes</span><span class="o">.</span><span class="n">NewBuffer</span><span class="p">([]</span><span class="kt">byte</span><span class="p">(</span><span class="n">body</span><span class="p">)))</span>
    <span class="k">if</span> <span class="n">err</span> <span class="o">!=</span> <span class="no">nil</span> <span class="p">{</span>
        <span class="nb">panic</span><span class="p">(</span><span class="n">err</span><span class="p">)</span>
    <span class="p">}</span>

    <span class="n">req</span><span class="o">.</span><span class="n">Header</span><span class="o">.</span><span class="n">Set</span><span class="p">(</span><span class="s">"Content-Type"</span><span class="p">,</span> <span class="s">"application/json"</span><span class="p">)</span>
    <span class="n">req</span><span class="o">.</span><span class="n">Header</span><span class="o">.</span><span class="n">Set</span><span class="p">(</span><span class="s">"UZX-ACCESS-KEY"</span><span class="p">,</span> <span class="n">APIKey</span><span class="p">)</span>
    <span class="n">req</span><span class="o">.</span><span class="n">Header</span><span class="o">.</span><span class="n">Set</span><span class="p">(</span><span class="s">"UZX-ACCESS-SIGN"</span><span class="p">,</span> <span class="n">signature</span><span class="p">)</span>
    <span class="n">req</span><span class="o">.</span><span class="n">Header</span><span class="o">.</span><span class="n">Set</span><span class="p">(</span><span class="s">"UZX-ACCESS-TIMESTAMP"</span><span class="p">,</span> <span class="n">timestamp</span><span class="p">)</span>
    <span class="n">req</span><span class="o">.</span><span class="n">Header</span><span class="o">.</span><span class="n">Set</span><span class="p">(</span><span class="s">"UZX-ACCESS-PASSPHRASE"</span><span class="p">,</span> <span class="n">Passphrase</span><span class="p">)</span>

    <span class="n">client</span> <span class="o">:=</span> <span class="o">&amp;</span><span class="n">http</span><span class="o">.</span><span class="n">Client</span><span class="p">{}</span>
    <span class="n">resp</span><span class="p">,</span> <span class="n">err</span> <span class="o">:=</span> <span class="n">client</span><span class="o">.</span><span class="n">Do</span><span class="p">(</span><span class="n">req</span><span class="p">)</span>
    <span class="k">if</span> <span class="n">err</span> <span class="o">!=</span> <span class="no">nil</span> <span class="p">{</span>
        <span class="nb">panic</span><span class="p">(</span><span class="n">err</span><span class="p">)</span>
    <span class="p">}</span>
    <span class="k">defer</span> <span class="n">resp</span><span class="o">.</span><span class="n">Body</span><span class="o">.</span><span class="n">Close</span><span class="p">()</span>
    <span class="n">bodyResp</span><span class="p">,</span> <span class="n">_</span> <span class="o">:=</span> <span class="n">ioutil</span><span class="o">.</span><span class="n">ReadAll</span><span class="p">(</span><span class="n">resp</span><span class="o">.</span><span class="n">Body</span><span class="p">)</span>
    <span class="n">fmt</span><span class="o">.</span><span class="n">Println</span><span class="p">(</span><span class="n">resp</span><span class="o">.</span><span class="n">StatusCode</span><span class="p">,</span> <span class="kt">string</span><span class="p">(</span><span class="n">bodyResp</span><span class="p">))</span>
<span class="p">}</span>

<span class="k">func</span> <span class="n">main</span><span class="p">()</span> <span class="p">{</span>
    <span class="n">testPostApi</span><span class="p">()</span>
<span class="p">}</span>
</code></pre></div>
<table><thead>
<tr>
<th>Name</th>
<th>Location</th>
<th>Type</th>
<th>Required</th>
<th>Explanation</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>body</td>
<td>body</td>
<td>array[object]</td>
<td>No</td>
<td>Array of orders</td>
<td></td>
</tr>
<tr>
<td>» product_name</td>
<td>body</td>
<td>string</td>
<td>Yes</td>
<td>Product name</td>
<td></td>
</tr>
<tr>
<td>» order_type</td>
<td>body</td>
<td>integer</td>
<td>Yes</td>
<td>Order type</td>
<td>See enumeration</td>
</tr>
<tr>
<td>» price</td>
<td>body</td>
<td>string</td>
<td>Yes</td>
<td>Price</td>
<td></td>
</tr>
<tr>
<td>» amount</td>
<td>body</td>
<td>string</td>
<td>Yes</td>
<td>Order quantity</td>
<td></td>
</tr>
<tr>
<td>» order_buy_or_sell</td>
<td>body</td>
<td>integer</td>
<td>Yes</td>
<td>Buy or sell direction</td>
<td>1 for buy, 2 for sell</td>
</tr>
<tr>
<td>» trade_ccy</td>
<td>body</td>
<td>integer</td>
<td>Yes</td>
<td>Unit for market order</td>
<td>1 for trading currency, 2 for quoted currency</td>
</tr>
<tr>
<td>» attach_algo</td>
<td>body</td>
<td>array[object]</td>
<td>No</td>
<td>Take-profit and stop-loss information</td>
<td></td>
</tr>
<tr>
<td>»» tp_trigger_price</td>
<td>body</td>
<td>string</td>
<td>Yes</td>
<td>Take-profit trigger price</td>
<td></td>
</tr>
<tr>
<td>»» tp_ord_price</td>
<td>body</td>
<td>string</td>
<td>Yes</td>
<td>Take-profit order price</td>
<td>-1 for market price, &gt;0 for normal limit price</td>
</tr>
<tr>
<td>»» tp_ord_kind</td>
<td>body</td>
<td>string</td>
<td>Yes</td>
<td>Take-profit order type</td>
<td>1 for trigger order/conditional order, 2 for limit order</td>
</tr>
<tr>
<td>»» sl_trigger_price</td>
<td>body</td>
<td>string</td>
<td>Yes</td>
<td>Stop-loss trigger price</td>
<td></td>
</tr>
<tr>
<td>»» sl_ord_price</td>
<td>body</td>
<td>string</td>
<td>Yes</td>
<td>Stop-loss order price</td>
<td>-1 for market price, &gt;0 for normal limit price</td>
</tr>
</tbody></table>
<h4 id='a222a51ewyr0'>Response Parameters</h4>
<blockquote>
<p>Response Example</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"code"</span><span class="p">:</span><span class="w"> </span><span class="mi">200</span><span class="p">,</span><span class="w">
  </span><span class="nl">"msg"</span><span class="p">:</span><span class="w"> </span><span class="s2">"success"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="nl">"code"</span><span class="p">:</span><span class="w"> </span><span class="mi">200</span><span class="p">,</span><span class="w">
      </span><span class="nl">"order_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2509820413501205367"</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<table><thead>
<tr>
<th>Name</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>» code</td>
<td>integer</td>
<td>Status code</td>
</tr>
<tr>
<td>» msg</td>
<td>string</td>
<td>Description message</td>
</tr>
<tr>
<td>» data</td>
<td>array[object]</td>
<td>Data array</td>
</tr>
<tr>
<td>»» code</td>
<td>integer</td>
<td>Status subcode</td>
</tr>
<tr>
<td>»» order_id</td>
<td>string</td>
<td>Order identifier</td>
</tr>
</tbody></table>
<h3 id='8eb906a2h6iz'>Place Swap Order</h3><h4 id='e5e4e37dptej'>Rate Limit: 3 requests per second</h4><h4 id='59ff88c8uv4s'>HTTP Request</h4>
<p><code>POST /v2/trade/swap/order</code></p>
<h4 id='22da1a05c16v'>Request Parameters</h4>
<blockquote>
<p>Request Example</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"product_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BTCUSDT"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"order_type"</span><span class="p">:</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w">
  </span><span class="nl">"number"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
  </span><span class="nl">"price"</span><span class="p">:</span><span class="w"> </span><span class="s2">"107000"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"amount"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"trade_ccy"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
  </span><span class="nl">"pos_side"</span><span class="p">:</span><span class="w"> </span><span class="s2">"LG"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"order_buy_or_sell"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div><div class="highlight"><pre class="highlight java tab-java"><code><span class="kn">import</span> <span class="nn">cn.hutool.http.HttpResponse</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">cn.hutool.http.HttpUtil</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">com.rometools.utils.Strings</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">com.createsgin.HmacAlgorithmEnum</span><span class="o">;</span>
<span class="kd">public</span> <span class="kd">class</span> <span class="nc">TestCase</span> <span class="o">{</span>

    <span class="kd">public</span> <span class="kd">static</span> <span class="nc">String</span> <span class="n">host</span><span class="o">=</span><span class="s">"https://api-v2.uzx.com"</span><span class="o">;</span>
    <span class="kd">public</span> <span class="kd">static</span> <span class="nc">String</span> <span class="no">UZXACCESSKEY2</span> <span class="o">=</span> <span class="s">"{APIKey}"</span><span class="o">;</span>
    <span class="kd">public</span> <span class="kd">static</span> <span class="nc">String</span> <span class="no">UZXACCESSSECRET2</span> <span class="o">=</span> <span class="s">"{SecretKey}"</span><span class="o">;</span>
    <span class="kd">public</span> <span class="kd">static</span> <span class="nc">String</span> <span class="no">UZXACCESSPASSPHRASE2</span> <span class="o">=</span> <span class="s">"{Passphrase}"</span><span class="o">;</span>

    <span class="kd">public</span> <span class="kd">static</span> <span class="kt">void</span> <span class="nf">testPostApi</span><span class="o">(){</span>
        <span class="nc">String</span> <span class="n">timestamp</span> <span class="o">=</span> <span class="nc">System</span><span class="o">.</span><span class="na">currentTimeMillis</span><span class="o">()/</span><span class="mi">1000</span> <span class="o">+</span><span class="s">""</span><span class="o">;</span>
        <span class="nc">String</span> <span class="n">method</span> <span class="o">=</span> <span class="s">"POST"</span><span class="o">;</span>
        <span class="nc">String</span> <span class="n">requestPath</span> <span class="o">=</span> <span class="s">"/v2/trade/swap/order"</span><span class="o">;</span>
        <span class="nc">String</span> <span class="n">body</span> <span class="o">=</span> <span class="s">"{\"product_name\":\"BTCUSDT\",\"order_type\":2,\"number\":1,\"price\":\"107000\",\"amount\":\"1\",\"trade_ccy\":1,\"pos_side\":\"LG\",\"order_buy_or_sell\":1}"</span><span class="o">;</span>
        <span class="nc">String</span> <span class="n">data</span> <span class="o">=</span> <span class="n">timestamp</span> <span class="o">+</span> <span class="n">method</span> <span class="o">+</span> <span class="n">requestPath</span>  <span class="o">+</span> <span class="n">body</span><span class="o">;</span>
        <span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="n">data</span><span class="o">);</span>
        <span class="nc">String</span> <span class="n">signature</span> <span class="o">=</span> <span class="nc">OpenAPiUtils</span><span class="o">.</span><span class="na">generate</span><span class="o">(</span><span class="n">timestamp</span><span class="o">,</span><span class="n">method</span><span class="o">,</span><span class="n">requestPath</span><span class="o">,</span><span class="kc">null</span><span class="o">,</span><span class="n">body</span><span class="o">,</span><span class="no">UZXACCESSSECRET2</span><span class="o">,</span><span class="nc">HmacAlgorithmEnum</span><span class="o">.</span><span class="na">HMAC_SHA_256</span><span class="o">);</span>
        <span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="n">signature</span><span class="o">);</span>


        <span class="nc">HttpResponse</span> <span class="n">resp</span> <span class="o">=</span> <span class="nc">HttpUtil</span><span class="o">.</span><span class="na">createPost</span><span class="o">(</span><span class="n">host</span><span class="o">+</span><span class="n">requestPath</span>  <span class="o">).</span><span class="na">body</span><span class="o">(</span><span class="n">body</span><span class="o">)</span>
                <span class="o">.</span><span class="na">header</span><span class="o">(</span><span class="s">"UZX-ACCESS-KEY"</span><span class="o">,</span><span class="no">UZXACCESSKEY2</span><span class="o">)</span>
                <span class="o">.</span><span class="na">header</span><span class="o">(</span><span class="s">"UZX-ACCESS-SIGN"</span><span class="o">,</span><span class="n">signature</span><span class="o">)</span>
                <span class="o">.</span><span class="na">header</span><span class="o">(</span><span class="s">"UZX-ACCESS-TIMESTAMP"</span><span class="o">,</span><span class="n">timestamp</span><span class="o">)</span>
                <span class="o">.</span><span class="na">header</span><span class="o">(</span><span class="s">"UZX-ACCESS-PASSPHRASE"</span><span class="o">,</span><span class="no">UZXACCESSPASSPHRASE2</span><span class="o">).</span><span class="na">execute</span><span class="o">();</span>
        <span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="n">resp</span><span class="o">.</span><span class="na">body</span><span class="o">());</span>
    <span class="o">}</span>

    <span class="kd">public</span> <span class="kd">static</span> <span class="kt">void</span> <span class="nf">main</span><span class="o">(</span><span class="nc">String</span><span class="o">[]</span> <span class="n">args</span><span class="o">)</span> <span class="o">{</span>
        <span class="n">testPostApi</span><span class="o">();</span>
    <span class="o">}</span>
<span class="o">}</span>
</code></pre></div><div class="highlight"><pre class="highlight python tab-python"><code><span class="kn">import</span> <span class="nn">time</span>
<span class="kn">import</span> <span class="nn">hmac</span>
<span class="kn">import</span> <span class="nn">hashlib</span>
<span class="kn">import</span> <span class="nn">base64</span>
<span class="kn">import</span> <span class="nn">requests</span>
<span class="kn">import</span> <span class="nn">json</span>

<span class="n">host</span> <span class="o">=</span> <span class="s">"https://api-v2.uzx.com"</span>
<span class="n">APIKey</span> <span class="o">=</span> <span class="s">"{APIKey}"</span>
<span class="n">SecretKey</span> <span class="o">=</span> <span class="s">"{SecretKey}"</span>
<span class="n">Passphrase</span> <span class="o">=</span> <span class="s">"{Passphrase}"</span>

<span class="k">def</span> <span class="nf">generate_signature</span><span class="p">(</span><span class="n">timestamp</span><span class="p">,</span> <span class="n">method</span><span class="p">,</span> <span class="n">path</span><span class="p">,</span> <span class="n">query</span><span class="p">,</span> <span class="n">body</span><span class="p">,</span> <span class="n">secret</span><span class="p">):</span>
    <span class="n">query</span> <span class="o">=</span> <span class="s">'?'</span> <span class="o">+</span> <span class="n">query</span> <span class="k">if</span> <span class="n">query</span> <span class="k">else</span> <span class="s">''</span>
    <span class="n">body</span> <span class="o">=</span> <span class="n">body</span> <span class="k">if</span> <span class="n">body</span> <span class="k">else</span> <span class="s">''</span>
    <span class="n">prehash</span> <span class="o">=</span> <span class="sa">f</span><span class="s">"</span><span class="si">{</span><span class="n">timestamp</span><span class="si">}{</span><span class="n">method</span><span class="p">.</span><span class="n">upper</span><span class="p">()</span><span class="si">}{</span><span class="n">path</span><span class="si">}{</span><span class="n">query</span><span class="si">}{</span><span class="n">body</span><span class="si">}</span><span class="s">"</span>
    <span class="n">signature</span> <span class="o">=</span> <span class="n">hmac</span><span class="p">.</span><span class="n">new</span><span class="p">(</span><span class="n">secret</span><span class="p">.</span><span class="n">encode</span><span class="p">(),</span> <span class="n">prehash</span><span class="p">.</span><span class="n">encode</span><span class="p">(),</span> <span class="n">hashlib</span><span class="p">.</span><span class="n">sha256</span><span class="p">).</span><span class="n">digest</span><span class="p">()</span>
    <span class="k">return</span> <span class="n">base64</span><span class="p">.</span><span class="n">b64encode</span><span class="p">(</span><span class="n">signature</span><span class="p">).</span><span class="n">decode</span><span class="p">()</span>

<span class="k">def</span> <span class="nf">test_post_api</span><span class="p">():</span>
    <span class="n">timestamp</span> <span class="o">=</span> <span class="nb">str</span><span class="p">(</span><span class="nb">int</span><span class="p">(</span><span class="n">time</span><span class="p">.</span><span class="n">time</span><span class="p">()))</span>
    <span class="n">method</span> <span class="o">=</span> <span class="s">"POST"</span>
    <span class="n">path</span> <span class="o">=</span> <span class="s">"/v2/trade/swap/order"</span>
    <span class="n">body</span> <span class="o">=</span> <span class="p">{</span>
      <span class="s">"product_name"</span><span class="p">:</span> <span class="s">"BTCUSDT"</span><span class="p">,</span>
      <span class="s">"order_type"</span><span class="p">:</span> <span class="mi">2</span><span class="p">,</span>
      <span class="s">"number"</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span>
      <span class="s">"price"</span><span class="p">:</span> <span class="s">"107000"</span><span class="p">,</span>
      <span class="s">"amount"</span><span class="p">:</span> <span class="s">"1"</span><span class="p">,</span>
      <span class="s">"trade_ccy"</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span>
      <span class="s">"pos_side"</span><span class="p">:</span> <span class="s">"LG"</span><span class="p">,</span>
      <span class="s">"order_buy_or_sell"</span><span class="p">:</span> <span class="mi">1</span>
    <span class="p">}</span>
    <span class="n">body_str</span> <span class="o">=</span> <span class="n">json</span><span class="p">.</span><span class="n">dumps</span><span class="p">(</span><span class="n">body</span><span class="p">,</span> <span class="n">separators</span><span class="o">=</span><span class="p">(</span><span class="s">','</span><span class="p">,</span> <span class="s">':'</span><span class="p">))</span> 
    <span class="n">signature</span> <span class="o">=</span> <span class="n">generate_signature</span><span class="p">(</span><span class="n">timestamp</span><span class="p">,</span> <span class="n">method</span><span class="p">,</span> <span class="n">path</span><span class="p">,</span> <span class="bp">None</span><span class="p">,</span> <span class="n">body_str</span><span class="p">,</span> <span class="n">SecretKey</span><span class="p">)</span>

    <span class="n">headers</span> <span class="o">=</span> <span class="p">{</span>
        <span class="s">"UZX-ACCESS-KEY"</span><span class="p">:</span> <span class="n">APIKey</span><span class="p">,</span>
        <span class="s">"UZX-ACCESS-SIGN"</span><span class="p">:</span> <span class="n">signature</span><span class="p">,</span>
        <span class="s">"UZX-ACCESS-TIMESTAMP"</span><span class="p">:</span> <span class="n">timestamp</span><span class="p">,</span>
        <span class="s">"UZX-ACCESS-PASSPHRASE"</span><span class="p">:</span> <span class="n">Passphrase</span><span class="p">,</span>
        <span class="s">"Content-Type"</span><span class="p">:</span> <span class="s">"application/json"</span>
    <span class="p">}</span>

    <span class="n">resp</span> <span class="o">=</span> <span class="n">requests</span><span class="p">.</span><span class="n">post</span><span class="p">(</span><span class="n">host</span> <span class="o">+</span> <span class="n">path</span><span class="p">,</span> <span class="n">headers</span><span class="o">=</span><span class="n">headers</span><span class="p">,</span> <span class="n">data</span><span class="o">=</span><span class="n">body_str</span><span class="p">)</span>
    <span class="k">print</span><span class="p">(</span><span class="n">resp</span><span class="p">.</span><span class="n">status_code</span><span class="p">,</span> <span class="n">resp</span><span class="p">.</span><span class="n">text</span><span class="p">)</span>

<span class="n">test_post_api</span><span class="p">()</span>

</code></pre></div><div class="highlight"><pre class="highlight go tab-go"><code><span class="k">package</span> <span class="n">main</span>

<span class="k">import</span> <span class="p">(</span>
    <span class="s">"bytes"</span>
    <span class="s">"crypto/hmac"</span>
    <span class="s">"crypto/sha256"</span>
    <span class="s">"encoding/base64"</span>
    <span class="s">"fmt"</span>
    <span class="s">"net/http"</span>
    <span class="s">"time"</span>
    <span class="s">"strings"</span>
    <span class="s">"io/ioutil"</span>
<span class="p">)</span>

<span class="k">const</span> <span class="p">(</span>
    <span class="n">host</span>       <span class="o">=</span> <span class="s">"https://api-v2.uzx.com"</span>
    <span class="n">APIKey</span>     <span class="o">=</span> <span class="s">"{APIKey}"</span>
    <span class="n">SecretKey</span>  <span class="o">=</span> <span class="s">"{SecretKey}"</span>
    <span class="n">Passphrase</span> <span class="o">=</span> <span class="s">"{Passphrase}"</span>
<span class="p">)</span>

<span class="k">func</span> <span class="n">generateSignature</span><span class="p">(</span><span class="n">timestamp</span><span class="p">,</span> <span class="n">method</span><span class="p">,</span> <span class="n">path</span><span class="p">,</span> <span class="n">query</span><span class="p">,</span> <span class="n">body</span><span class="p">,</span> <span class="n">secret</span> <span class="kt">string</span><span class="p">)</span> <span class="kt">string</span> <span class="p">{</span>
    <span class="k">if</span> <span class="n">query</span> <span class="o">!=</span> <span class="s">""</span> <span class="p">{</span>
        <span class="n">query</span> <span class="o">=</span> <span class="s">"?"</span> <span class="o">+</span> <span class="n">query</span>
    <span class="p">}</span>
    <span class="n">preHash</span> <span class="o">:=</span> <span class="n">timestamp</span> <span class="o">+</span> <span class="n">strings</span><span class="o">.</span><span class="n">ToUpper</span><span class="p">(</span><span class="n">method</span><span class="p">)</span> <span class="o">+</span> <span class="n">path</span> <span class="o">+</span> <span class="n">query</span> <span class="o">+</span> <span class="n">body</span>
    <span class="n">mac</span> <span class="o">:=</span> <span class="n">hmac</span><span class="o">.</span><span class="n">New</span><span class="p">(</span><span class="n">sha256</span><span class="o">.</span><span class="n">New</span><span class="p">,</span> <span class="p">[]</span><span class="kt">byte</span><span class="p">(</span><span class="n">secret</span><span class="p">))</span>
    <span class="n">mac</span><span class="o">.</span><span class="n">Write</span><span class="p">([]</span><span class="kt">byte</span><span class="p">(</span><span class="n">preHash</span><span class="p">))</span>
    <span class="k">return</span> <span class="n">base64</span><span class="o">.</span><span class="n">StdEncoding</span><span class="o">.</span><span class="n">EncodeToString</span><span class="p">(</span><span class="n">mac</span><span class="o">.</span><span class="n">Sum</span><span class="p">(</span><span class="no">nil</span><span class="p">))</span>
<span class="p">}</span>

<span class="k">func</span> <span class="n">testPostApi</span><span class="p">()</span> <span class="p">{</span>
    <span class="n">timestamp</span> <span class="o">:=</span> <span class="n">fmt</span><span class="o">.</span><span class="n">Sprintf</span><span class="p">(</span><span class="s">"%d"</span><span class="p">,</span> <span class="n">time</span><span class="o">.</span><span class="n">Now</span><span class="p">()</span><span class="o">.</span><span class="n">Unix</span><span class="p">())</span>
    <span class="n">method</span> <span class="o">:=</span> <span class="s">"POST"</span>
    <span class="n">path</span> <span class="o">:=</span> <span class="s">"/v2/trade/swap/order"</span>
    <span class="n">body</span> <span class="o">:=</span> <span class="s">`{"product_name":"BTCUSDT","order_type":2,"number":1,"price":"107000","amount":"1","trade_ccy":1,"pos_side":"LG","order_buy_or_sell":1}`</span>
    <span class="n">signature</span> <span class="o">:=</span> <span class="n">generateSignature</span><span class="p">(</span><span class="n">timestamp</span><span class="p">,</span> <span class="n">method</span><span class="p">,</span> <span class="n">path</span><span class="p">,</span> <span class="s">""</span><span class="p">,</span> <span class="n">body</span><span class="p">,</span> <span class="n">SecretKey</span><span class="p">)</span>

    <span class="n">req</span><span class="p">,</span> <span class="n">err</span> <span class="o">:=</span> <span class="n">http</span><span class="o">.</span><span class="n">NewRequest</span><span class="p">(</span><span class="n">method</span><span class="p">,</span> <span class="n">host</span><span class="o">+</span><span class="n">path</span><span class="p">,</span> <span class="n">bytes</span><span class="o">.</span><span class="n">NewBuffer</span><span class="p">([]</span><span class="kt">byte</span><span class="p">(</span><span class="n">body</span><span class="p">)))</span>
    <span class="k">if</span> <span class="n">err</span> <span class="o">!=</span> <span class="no">nil</span> <span class="p">{</span>
        <span class="nb">panic</span><span class="p">(</span><span class="n">err</span><span class="p">)</span>
    <span class="p">}</span>

    <span class="n">req</span><span class="o">.</span><span class="n">Header</span><span class="o">.</span><span class="n">Set</span><span class="p">(</span><span class="s">"Content-Type"</span><span class="p">,</span> <span class="s">"application/json"</span><span class="p">)</span>
    <span class="n">req</span><span class="o">.</span><span class="n">Header</span><span class="o">.</span><span class="n">Set</span><span class="p">(</span><span class="s">"UZX-ACCESS-KEY"</span><span class="p">,</span> <span class="n">APIKey</span><span class="p">)</span>
    <span class="n">req</span><span class="o">.</span><span class="n">Header</span><span class="o">.</span><span class="n">Set</span><span class="p">(</span><span class="s">"UZX-ACCESS-SIGN"</span><span class="p">,</span> <span class="n">signature</span><span class="p">)</span>
    <span class="n">req</span><span class="o">.</span><span class="n">Header</span><span class="o">.</span><span class="n">Set</span><span class="p">(</span><span class="s">"UZX-ACCESS-TIMESTAMP"</span><span class="p">,</span> <span class="n">timestamp</span><span class="p">)</span>
    <span class="n">req</span><span class="o">.</span><span class="n">Header</span><span class="o">.</span><span class="n">Set</span><span class="p">(</span><span class="s">"UZX-ACCESS-PASSPHRASE"</span><span class="p">,</span> <span class="n">Passphrase</span><span class="p">)</span>

    <span class="n">client</span> <span class="o">:=</span> <span class="o">&amp;</span><span class="n">http</span><span class="o">.</span><span class="n">Client</span><span class="p">{}</span>
    <span class="n">resp</span><span class="p">,</span> <span class="n">err</span> <span class="o">:=</span> <span class="n">client</span><span class="o">.</span><span class="n">Do</span><span class="p">(</span><span class="n">req</span><span class="p">)</span>
    <span class="k">if</span> <span class="n">err</span> <span class="o">!=</span> <span class="no">nil</span> <span class="p">{</span>
        <span class="nb">panic</span><span class="p">(</span><span class="n">err</span><span class="p">)</span>
    <span class="p">}</span>
    <span class="k">defer</span> <span class="n">resp</span><span class="o">.</span><span class="n">Body</span><span class="o">.</span><span class="n">Close</span><span class="p">()</span>
    <span class="n">bodyResp</span><span class="p">,</span> <span class="n">_</span> <span class="o">:=</span> <span class="n">ioutil</span><span class="o">.</span><span class="n">ReadAll</span><span class="p">(</span><span class="n">resp</span><span class="o">.</span><span class="n">Body</span><span class="p">)</span>
    <span class="n">fmt</span><span class="o">.</span><span class="n">Println</span><span class="p">(</span><span class="n">resp</span><span class="o">.</span><span class="n">StatusCode</span><span class="p">,</span> <span class="kt">string</span><span class="p">(</span><span class="n">bodyResp</span><span class="p">))</span>
<span class="p">}</span>

<span class="k">func</span> <span class="n">main</span><span class="p">()</span> <span class="p">{</span>
    <span class="n">testPostApi</span><span class="p">()</span>
<span class="p">}</span>
</code></pre></div>
<table><thead>
<tr>
<th>Name</th>
<th>Location</th>
<th>Type</th>
<th>Required</th>
<th>Explanation</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>body</td>
<td>body</td>
<td>object</td>
<td>No</td>
<td></td>
<td></td>
</tr>
<tr>
<td>» product_name</td>
<td>body</td>
<td>string</td>
<td>Yes</td>
<td>Product name</td>
<td></td>
</tr>
<tr>
<td>» order_type</td>
<td>body</td>
<td>integer</td>
<td>Yes</td>
<td>Order type</td>
<td>See enumeration</td>
</tr>
<tr>
<td>» number</td>
<td>body</td>
<td>integer</td>
<td>Yes</td>
<td>Contract quantity</td>
<td></td>
</tr>
<tr>
<td>» price</td>
<td>body</td>
<td>string</td>
<td>Yes</td>
<td>Price</td>
<td></td>
</tr>
<tr>
<td>» amount</td>
<td>body</td>
<td>string</td>
<td>No</td>
<td>Market order amount</td>
<td></td>
</tr>
<tr>
<td>» trade_ccy</td>
<td>body</td>
<td>integer</td>
<td>No</td>
<td>Unit for market order</td>
<td>1 for contract quantity, 2 for quoted currency</td>
</tr>
<tr>
<td>» pos_side</td>
<td>body</td>
<td>string</td>
<td>Yes</td>
<td>Position direction</td>
<td>LG for long, ST for short</td>
</tr>
<tr>
<td>» order_buy_or_sell</td>
<td>body</td>
<td>integer</td>
<td>Yes</td>
<td>Buy or sell direction</td>
<td>1 for buy, 2 for sell</td>
</tr>
<tr>
<td>» attach_algo</td>
<td>body</td>
<td>array[object]</td>
<td>No</td>
<td>Take-profit and stop-loss information</td>
<td></td>
</tr>
<tr>
<td>»» tp_trigger_price</td>
<td>body</td>
<td>string</td>
<td>Yes</td>
<td>Take-profit trigger price</td>
<td></td>
</tr>
<tr>
<td>»» tp_ord_price</td>
<td>body</td>
<td>string</td>
<td>Yes</td>
<td>Take-profit order price</td>
<td>-1 for market order, &gt;0 for normal limit price</td>
</tr>
<tr>
<td>»» tp_ord_kind</td>
<td>body</td>
<td>integer</td>
<td>Yes</td>
<td>Take-profit order type</td>
<td>1 for trigger order/conditional order, 2 for limit order</td>
</tr>
<tr>
<td>»» tp_compare</td>
<td>body</td>
<td>integer</td>
<td>Yes</td>
<td>Take-profit trigger price comparison</td>
<td>1: Index price, 2: Mark price, 3: Last traded price</td>
</tr>
<tr>
<td>»» sl_trigger_price</td>
<td>body</td>
<td>string</td>
<td>Yes</td>
<td>Stop-loss trigger price</td>
<td></td>
</tr>
<tr>
<td>»» sl_ord_price</td>
<td>body</td>
<td>string</td>
<td>Yes</td>
<td>Stop-loss order price</td>
<td>-1 for market order, &gt;0 for normal limit price</td>
</tr>
<tr>
<td>»» sl_compare</td>
<td>body</td>
<td>integer</td>
<td>Yes</td>
<td>Stop-loss trigger price comparison</td>
<td>1: Index price, 2: Mark price, 3: Last traded price</td>
</tr>
</tbody></table>
<h4 id='a222a51eqe4q'>Response Parameters</h4>
<blockquote>
<p>Response Example</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"code"</span><span class="p">:</span><span class="w"> </span><span class="mi">200</span><span class="p">,</span><span class="w">
  </span><span class="nl">"msg"</span><span class="p">:</span><span class="w"> </span><span class="s2">"success"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"order_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2517820683201827363"</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<table><thead>
<tr>
<th>Name</th>
<th>Type</th>
<th>Explanation</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>» code</td>
<td>integer</td>
<td>Status code</td>
<td></td>
</tr>
<tr>
<td>» msg</td>
<td>string</td>
<td>Description</td>
<td></td>
</tr>
<tr>
<td>» data</td>
<td>object</td>
<td>Data</td>
<td></td>
</tr>
<tr>
<td>»» order_id</td>
<td>string</td>
<td>Order identifier</td>
<td></td>
</tr>
</tbody></table>
<h3 id='ce1760877z8e'>Swap Batch Order Placement</h3><h4 id='e5e4e37dl8vg'>Rate Limit: 3 requests per second</h4><h4 id='59ff88c8afzh'>HTTP Request</h4>
<p><code>POST /v2/trade/swap/batch-orders</code></p>
<h4 id='22da1a05x1i7'>Request Parameters</h4>
<blockquote>
<p>Request Example</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">[</span><span class="w">
  </span><span class="p">{</span><span class="w">
    </span><span class="nl">"product_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BTCUSDT"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"order_type"</span><span class="p">:</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w">
    </span><span class="nl">"number"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
    </span><span class="nl">"price"</span><span class="p">:</span><span class="w"> </span><span class="s2">"102001"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"amount"</span><span class="p">:</span><span class="w"> </span><span class="s2">"316.89"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"pos_side"</span><span class="p">:</span><span class="w"> </span><span class="s2">"LG"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"order_buy_or_sell"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">]</span><span class="w">
</span></code></pre></div><div class="highlight"><pre class="highlight java tab-java"><code><span class="kn">import</span> <span class="nn">cn.hutool.http.HttpResponse</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">cn.hutool.http.HttpUtil</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">com.rometools.utils.Strings</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">com.createsgin.HmacAlgorithmEnum</span><span class="o">;</span>
<span class="kd">public</span> <span class="kd">class</span> <span class="nc">TestCase</span> <span class="o">{</span>

    <span class="kd">public</span> <span class="kd">static</span> <span class="nc">String</span> <span class="n">host</span><span class="o">=</span><span class="s">"https://api-v2.uzx.com"</span><span class="o">;</span>
    <span class="kd">public</span> <span class="kd">static</span> <span class="nc">String</span> <span class="no">UZXACCESSKEY2</span> <span class="o">=</span> <span class="s">"{APIKey}"</span><span class="o">;</span>
    <span class="kd">public</span> <span class="kd">static</span> <span class="nc">String</span> <span class="no">UZXACCESSSECRET2</span> <span class="o">=</span> <span class="s">"{SecretKey}"</span><span class="o">;</span>
    <span class="kd">public</span> <span class="kd">static</span> <span class="nc">String</span> <span class="no">UZXACCESSPASSPHRASE2</span> <span class="o">=</span> <span class="s">"{Passphrase}"</span><span class="o">;</span>

    <span class="kd">public</span> <span class="kd">static</span> <span class="kt">void</span> <span class="nf">testPostApi</span><span class="o">(){</span>
        <span class="nc">String</span> <span class="n">timestamp</span> <span class="o">=</span> <span class="nc">System</span><span class="o">.</span><span class="na">currentTimeMillis</span><span class="o">()/</span><span class="mi">1000</span> <span class="o">+</span><span class="s">""</span><span class="o">;</span>
        <span class="nc">String</span> <span class="n">method</span> <span class="o">=</span> <span class="s">"POST"</span><span class="o">;</span>
        <span class="nc">String</span> <span class="n">requestPath</span> <span class="o">=</span> <span class="s">"/v2/trade/swap/batch-orders"</span><span class="o">;</span>
        <span class="nc">String</span> <span class="n">body</span> <span class="o">=</span> <span class="s">"[{\"product_name\":\"BTCUSDT\",\"order_type\":2,\"number\":1,\"price\":\"102001\",\"amount\":\"316.89\",\"pos_side\":\"LG\",\"order_buy_or_sell\":1}]"</span><span class="o">;</span>
        <span class="nc">String</span> <span class="n">data</span> <span class="o">=</span> <span class="n">timestamp</span> <span class="o">+</span> <span class="n">method</span> <span class="o">+</span> <span class="n">requestPath</span>  <span class="o">+</span> <span class="n">body</span><span class="o">;</span>
        <span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="n">data</span><span class="o">);</span>
        <span class="nc">String</span> <span class="n">signature</span> <span class="o">=</span> <span class="nc">OpenAPiUtils</span><span class="o">.</span><span class="na">generate</span><span class="o">(</span><span class="n">timestamp</span><span class="o">,</span><span class="n">method</span><span class="o">,</span><span class="n">requestPath</span><span class="o">,</span><span class="kc">null</span><span class="o">,</span><span class="n">body</span><span class="o">,</span><span class="no">UZXACCESSSECRET2</span><span class="o">,</span><span class="nc">HmacAlgorithmEnum</span><span class="o">.</span><span class="na">HMAC_SHA_256</span><span class="o">);</span>
        <span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="n">signature</span><span class="o">);</span>


        <span class="nc">HttpResponse</span> <span class="n">resp</span> <span class="o">=</span> <span class="nc">HttpUtil</span><span class="o">.</span><span class="na">createPost</span><span class="o">(</span><span class="n">host</span><span class="o">+</span><span class="n">requestPath</span>  <span class="o">).</span><span class="na">body</span><span class="o">(</span><span class="n">body</span><span class="o">)</span>
                <span class="o">.</span><span class="na">header</span><span class="o">(</span><span class="s">"UZX-ACCESS-KEY"</span><span class="o">,</span><span class="no">UZXACCESSKEY2</span><span class="o">)</span>
                <span class="o">.</span><span class="na">header</span><span class="o">(</span><span class="s">"UZX-ACCESS-SIGN"</span><span class="o">,</span><span class="n">signature</span><span class="o">)</span>
                <span class="o">.</span><span class="na">header</span><span class="o">(</span><span class="s">"UZX-ACCESS-TIMESTAMP"</span><span class="o">,</span><span class="n">timestamp</span><span class="o">)</span>
                <span class="o">.</span><span class="na">header</span><span class="o">(</span><span class="s">"UZX-ACCESS-PASSPHRASE"</span><span class="o">,</span><span class="no">UZXACCESSPASSPHRASE2</span><span class="o">).</span><span class="na">execute</span><span class="o">();</span>
        <span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="n">resp</span><span class="o">.</span><span class="na">body</span><span class="o">());</span>
    <span class="o">}</span>

    <span class="kd">public</span> <span class="kd">static</span> <span class="kt">void</span> <span class="nf">main</span><span class="o">(</span><span class="nc">String</span><span class="o">[]</span> <span class="n">args</span><span class="o">)</span> <span class="o">{</span>
        <span class="n">testPostApi</span><span class="o">();</span>
    <span class="o">}</span>
<span class="o">}</span>
</code></pre></div><div class="highlight"><pre class="highlight python tab-python"><code><span class="kn">import</span> <span class="nn">time</span>
<span class="kn">import</span> <span class="nn">hmac</span>
<span class="kn">import</span> <span class="nn">hashlib</span>
<span class="kn">import</span> <span class="nn">base64</span>
<span class="kn">import</span> <span class="nn">requests</span>
<span class="kn">import</span> <span class="nn">json</span>

<span class="n">host</span> <span class="o">=</span> <span class="s">"https://api-v2.uzx.com"</span>
<span class="n">APIKey</span> <span class="o">=</span> <span class="s">"{APIKey}"</span>
<span class="n">SecretKey</span> <span class="o">=</span> <span class="s">"{SecretKey}"</span>
<span class="n">Passphrase</span> <span class="o">=</span> <span class="s">"{Passphrase}"</span>

<span class="k">def</span> <span class="nf">generate_signature</span><span class="p">(</span><span class="n">timestamp</span><span class="p">,</span> <span class="n">method</span><span class="p">,</span> <span class="n">path</span><span class="p">,</span> <span class="n">query</span><span class="p">,</span> <span class="n">body</span><span class="p">,</span> <span class="n">secret</span><span class="p">):</span>
    <span class="n">query</span> <span class="o">=</span> <span class="s">'?'</span> <span class="o">+</span> <span class="n">query</span> <span class="k">if</span> <span class="n">query</span> <span class="k">else</span> <span class="s">''</span>
    <span class="n">body</span> <span class="o">=</span> <span class="n">body</span> <span class="k">if</span> <span class="n">body</span> <span class="k">else</span> <span class="s">''</span>
    <span class="n">prehash</span> <span class="o">=</span> <span class="sa">f</span><span class="s">"</span><span class="si">{</span><span class="n">timestamp</span><span class="si">}{</span><span class="n">method</span><span class="p">.</span><span class="n">upper</span><span class="p">()</span><span class="si">}{</span><span class="n">path</span><span class="si">}{</span><span class="n">query</span><span class="si">}{</span><span class="n">body</span><span class="si">}</span><span class="s">"</span>
    <span class="n">signature</span> <span class="o">=</span> <span class="n">hmac</span><span class="p">.</span><span class="n">new</span><span class="p">(</span><span class="n">secret</span><span class="p">.</span><span class="n">encode</span><span class="p">(),</span> <span class="n">prehash</span><span class="p">.</span><span class="n">encode</span><span class="p">(),</span> <span class="n">hashlib</span><span class="p">.</span><span class="n">sha256</span><span class="p">).</span><span class="n">digest</span><span class="p">()</span>
    <span class="k">return</span> <span class="n">base64</span><span class="p">.</span><span class="n">b64encode</span><span class="p">(</span><span class="n">signature</span><span class="p">).</span><span class="n">decode</span><span class="p">()</span>

<span class="k">def</span> <span class="nf">test_post_api</span><span class="p">():</span>
    <span class="n">timestamp</span> <span class="o">=</span> <span class="nb">str</span><span class="p">(</span><span class="nb">int</span><span class="p">(</span><span class="n">time</span><span class="p">.</span><span class="n">time</span><span class="p">()))</span>
    <span class="n">method</span> <span class="o">=</span> <span class="s">"POST"</span>
    <span class="n">path</span> <span class="o">=</span> <span class="s">"/v2/trade/swap/batch-orders"</span>
    <span class="n">body</span> <span class="o">=</span> <span class="p">[</span>
      <span class="p">{</span>
        <span class="s">"product_name"</span><span class="p">:</span> <span class="s">"BTCUSDT"</span><span class="p">,</span>
        <span class="s">"order_type"</span><span class="p">:</span> <span class="mi">2</span><span class="p">,</span>
        <span class="s">"number"</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span>
        <span class="s">"price"</span><span class="p">:</span> <span class="s">"102001"</span><span class="p">,</span>
        <span class="s">"amount"</span><span class="p">:</span> <span class="s">"316.89"</span><span class="p">,</span>
        <span class="s">"pos_side"</span><span class="p">:</span> <span class="s">"LG"</span><span class="p">,</span>
        <span class="s">"order_buy_or_sell"</span><span class="p">:</span> <span class="mi">1</span>
      <span class="p">}</span>
    <span class="p">]</span>
    <span class="n">body_str</span> <span class="o">=</span> <span class="n">json</span><span class="p">.</span><span class="n">dumps</span><span class="p">(</span><span class="n">body</span><span class="p">,</span> <span class="n">separators</span><span class="o">=</span><span class="p">(</span><span class="s">','</span><span class="p">,</span> <span class="s">':'</span><span class="p">))</span> 
    <span class="n">signature</span> <span class="o">=</span> <span class="n">generate_signature</span><span class="p">(</span><span class="n">timestamp</span><span class="p">,</span> <span class="n">method</span><span class="p">,</span> <span class="n">path</span><span class="p">,</span> <span class="bp">None</span><span class="p">,</span> <span class="n">body_str</span><span class="p">,</span> <span class="n">SecretKey</span><span class="p">)</span>

    <span class="n">headers</span> <span class="o">=</span> <span class="p">{</span>
        <span class="s">"UZX-ACCESS-KEY"</span><span class="p">:</span> <span class="n">APIKey</span><span class="p">,</span>
        <span class="s">"UZX-ACCESS-SIGN"</span><span class="p">:</span> <span class="n">signature</span><span class="p">,</span>
        <span class="s">"UZX-ACCESS-TIMESTAMP"</span><span class="p">:</span> <span class="n">timestamp</span><span class="p">,</span>
        <span class="s">"UZX-ACCESS-PASSPHRASE"</span><span class="p">:</span> <span class="n">Passphrase</span><span class="p">,</span>
        <span class="s">"Content-Type"</span><span class="p">:</span> <span class="s">"application/json"</span>
    <span class="p">}</span>

    <span class="n">resp</span> <span class="o">=</span> <span class="n">requests</span><span class="p">.</span><span class="n">post</span><span class="p">(</span><span class="n">host</span> <span class="o">+</span> <span class="n">path</span><span class="p">,</span> <span class="n">headers</span><span class="o">=</span><span class="n">headers</span><span class="p">,</span> <span class="n">data</span><span class="o">=</span><span class="n">body_str</span><span class="p">)</span>
    <span class="k">print</span><span class="p">(</span><span class="n">resp</span><span class="p">.</span><span class="n">status_code</span><span class="p">,</span> <span class="n">resp</span><span class="p">.</span><span class="n">text</span><span class="p">)</span>

<span class="n">test_post_api</span><span class="p">()</span>

</code></pre></div><div class="highlight"><pre class="highlight go tab-go"><code><span class="k">package</span> <span class="n">main</span>

<span class="k">import</span> <span class="p">(</span>
    <span class="s">"bytes"</span>
    <span class="s">"crypto/hmac"</span>
    <span class="s">"crypto/sha256"</span>
    <span class="s">"encoding/base64"</span>
    <span class="s">"fmt"</span>
    <span class="s">"net/http"</span>
    <span class="s">"time"</span>
    <span class="s">"strings"</span>
    <span class="s">"io/ioutil"</span>
<span class="p">)</span>

<span class="k">const</span> <span class="p">(</span>
    <span class="n">host</span>       <span class="o">=</span> <span class="s">"https://api-v2.uzx.com"</span>
    <span class="n">APIKey</span>     <span class="o">=</span> <span class="s">"{APIKey}"</span>
    <span class="n">SecretKey</span>  <span class="o">=</span> <span class="s">"{SecretKey}"</span>
    <span class="n">Passphrase</span> <span class="o">=</span> <span class="s">"{Passphrase}"</span>
<span class="p">)</span>

<span class="k">func</span> <span class="n">generateSignature</span><span class="p">(</span><span class="n">timestamp</span><span class="p">,</span> <span class="n">method</span><span class="p">,</span> <span class="n">path</span><span class="p">,</span> <span class="n">query</span><span class="p">,</span> <span class="n">body</span><span class="p">,</span> <span class="n">secret</span> <span class="kt">string</span><span class="p">)</span> <span class="kt">string</span> <span class="p">{</span>
    <span class="k">if</span> <span class="n">query</span> <span class="o">!=</span> <span class="s">""</span> <span class="p">{</span>
        <span class="n">query</span> <span class="o">=</span> <span class="s">"?"</span> <span class="o">+</span> <span class="n">query</span>
    <span class="p">}</span>
    <span class="n">preHash</span> <span class="o">:=</span> <span class="n">timestamp</span> <span class="o">+</span> <span class="n">strings</span><span class="o">.</span><span class="n">ToUpper</span><span class="p">(</span><span class="n">method</span><span class="p">)</span> <span class="o">+</span> <span class="n">path</span> <span class="o">+</span> <span class="n">query</span> <span class="o">+</span> <span class="n">body</span>
    <span class="n">mac</span> <span class="o">:=</span> <span class="n">hmac</span><span class="o">.</span><span class="n">New</span><span class="p">(</span><span class="n">sha256</span><span class="o">.</span><span class="n">New</span><span class="p">,</span> <span class="p">[]</span><span class="kt">byte</span><span class="p">(</span><span class="n">secret</span><span class="p">))</span>
    <span class="n">mac</span><span class="o">.</span><span class="n">Write</span><span class="p">([]</span><span class="kt">byte</span><span class="p">(</span><span class="n">preHash</span><span class="p">))</span>
    <span class="k">return</span> <span class="n">base64</span><span class="o">.</span><span class="n">StdEncoding</span><span class="o">.</span><span class="n">EncodeToString</span><span class="p">(</span><span class="n">mac</span><span class="o">.</span><span class="n">Sum</span><span class="p">(</span><span class="no">nil</span><span class="p">))</span>
<span class="p">}</span>

<span class="k">func</span> <span class="n">testPostApi</span><span class="p">()</span> <span class="p">{</span>
    <span class="n">timestamp</span> <span class="o">:=</span> <span class="n">fmt</span><span class="o">.</span><span class="n">Sprintf</span><span class="p">(</span><span class="s">"%d"</span><span class="p">,</span> <span class="n">time</span><span class="o">.</span><span class="n">Now</span><span class="p">()</span><span class="o">.</span><span class="n">Unix</span><span class="p">())</span>
    <span class="n">method</span> <span class="o">:=</span> <span class="s">"POST"</span>
    <span class="n">path</span> <span class="o">:=</span> <span class="s">"/v2/trade/swap/batch-orders"</span>
    <span class="n">body</span> <span class="o">:=</span> <span class="s">`[{"product_name":"BTCUSDT","order_type":2,"number":1,"price":"102001","amount":"316.89","pos_side":"LG","order_buy_or_sell":1}]`</span>
    <span class="n">signature</span> <span class="o">:=</span> <span class="n">generateSignature</span><span class="p">(</span><span class="n">timestamp</span><span class="p">,</span> <span class="n">method</span><span class="p">,</span> <span class="n">path</span><span class="p">,</span> <span class="s">""</span><span class="p">,</span> <span class="n">body</span><span class="p">,</span> <span class="n">SecretKey</span><span class="p">)</span>

    <span class="n">req</span><span class="p">,</span> <span class="n">err</span> <span class="o">:=</span> <span class="n">http</span><span class="o">.</span><span class="n">NewRequest</span><span class="p">(</span><span class="n">method</span><span class="p">,</span> <span class="n">host</span><span class="o">+</span><span class="n">path</span><span class="p">,</span> <span class="n">bytes</span><span class="o">.</span><span class="n">NewBuffer</span><span class="p">([]</span><span class="kt">byte</span><span class="p">(</span><span class="n">body</span><span class="p">)))</span>
    <span class="k">if</span> <span class="n">err</span> <span class="o">!=</span> <span class="no">nil</span> <span class="p">{</span>
        <span class="nb">panic</span><span class="p">(</span><span class="n">err</span><span class="p">)</span>
    <span class="p">}</span>

    <span class="n">req</span><span class="o">.</span><span class="n">Header</span><span class="o">.</span><span class="n">Set</span><span class="p">(</span><span class="s">"Content-Type"</span><span class="p">,</span> <span class="s">"application/json"</span><span class="p">)</span>
    <span class="n">req</span><span class="o">.</span><span class="n">Header</span><span class="o">.</span><span class="n">Set</span><span class="p">(</span><span class="s">"UZX-ACCESS-KEY"</span><span class="p">,</span> <span class="n">APIKey</span><span class="p">)</span>
    <span class="n">req</span><span class="o">.</span><span class="n">Header</span><span class="o">.</span><span class="n">Set</span><span class="p">(</span><span class="s">"UZX-ACCESS-SIGN"</span><span class="p">,</span> <span class="n">signature</span><span class="p">)</span>
    <span class="n">req</span><span class="o">.</span><span class="n">Header</span><span class="o">.</span><span class="n">Set</span><span class="p">(</span><span class="s">"UZX-ACCESS-TIMESTAMP"</span><span class="p">,</span> <span class="n">timestamp</span><span class="p">)</span>
    <span class="n">req</span><span class="o">.</span><span class="n">Header</span><span class="o">.</span><span class="n">Set</span><span class="p">(</span><span class="s">"UZX-ACCESS-PASSPHRASE"</span><span class="p">,</span> <span class="n">Passphrase</span><span class="p">)</span>

    <span class="n">client</span> <span class="o">:=</span> <span class="o">&amp;</span><span class="n">http</span><span class="o">.</span><span class="n">Client</span><span class="p">{}</span>
    <span class="n">resp</span><span class="p">,</span> <span class="n">err</span> <span class="o">:=</span> <span class="n">client</span><span class="o">.</span><span class="n">Do</span><span class="p">(</span><span class="n">req</span><span class="p">)</span>
    <span class="k">if</span> <span class="n">err</span> <span class="o">!=</span> <span class="no">nil</span> <span class="p">{</span>
        <span class="nb">panic</span><span class="p">(</span><span class="n">err</span><span class="p">)</span>
    <span class="p">}</span>
    <span class="k">defer</span> <span class="n">resp</span><span class="o">.</span><span class="n">Body</span><span class="o">.</span><span class="n">Close</span><span class="p">()</span>
    <span class="n">bodyResp</span><span class="p">,</span> <span class="n">_</span> <span class="o">:=</span> <span class="n">ioutil</span><span class="o">.</span><span class="n">ReadAll</span><span class="p">(</span><span class="n">resp</span><span class="o">.</span><span class="n">Body</span><span class="p">)</span>
    <span class="n">fmt</span><span class="o">.</span><span class="n">Println</span><span class="p">(</span><span class="n">resp</span><span class="o">.</span><span class="n">StatusCode</span><span class="p">,</span> <span class="kt">string</span><span class="p">(</span><span class="n">bodyResp</span><span class="p">))</span>
<span class="p">}</span>

<span class="k">func</span> <span class="n">main</span><span class="p">()</span> <span class="p">{</span>
    <span class="n">testPostApi</span><span class="p">()</span>
<span class="p">}</span>
</code></pre></div>
<table><thead>
<tr>
<th>Name</th>
<th>Location</th>
<th>Type</th>
<th>Required</th>
<th>Explanation</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>body</td>
<td>body</td>
<td>array[object]</td>
<td>No</td>
<td>Array of orders</td>
<td></td>
</tr>
<tr>
<td>» product_name</td>
<td>body</td>
<td>string</td>
<td>Yes</td>
<td>Product name</td>
<td></td>
</tr>
<tr>
<td>» order_type</td>
<td>body</td>
<td>integer</td>
<td>Yes</td>
<td>Order type</td>
<td>See enumeration</td>
</tr>
<tr>
<td>» number</td>
<td>body</td>
<td>integer</td>
<td>Yes</td>
<td>Contract quantity</td>
<td></td>
</tr>
<tr>
<td>» price</td>
<td>body</td>
<td>string</td>
<td>Yes</td>
<td>Price</td>
<td></td>
</tr>
<tr>
<td>» amount</td>
<td>body</td>
<td>string</td>
<td>No</td>
<td>Market order amount</td>
<td></td>
</tr>
<tr>
<td>» trade_ccy</td>
<td>body</td>
<td>integer</td>
<td>No</td>
<td>Unit for market order</td>
<td>1 for contract quantity, 2 for quoted currency</td>
</tr>
<tr>
<td>» pos_side</td>
<td>body</td>
<td>string</td>
<td>Yes</td>
<td>Position direction</td>
<td>LG for long, ST for short</td>
</tr>
<tr>
<td>» order_buy_or_sell</td>
<td>body</td>
<td>integer</td>
<td>Yes</td>
<td>Buy or sell direction</td>
<td>1 for buy, 2 for sell</td>
</tr>
<tr>
<td>» attach_algo</td>
<td>body</td>
<td>array[object]</td>
<td>No</td>
<td>Take-profit and stop-loss information</td>
<td></td>
</tr>
<tr>
<td>»» tp_trigger_price</td>
<td>body</td>
<td>string</td>
<td>Yes</td>
<td>Take-profit trigger price</td>
<td></td>
</tr>
<tr>
<td>»» tp_ord_price</td>
<td>body</td>
<td>string</td>
<td>Yes</td>
<td>Take-profit order price</td>
<td>-1 for market order, &gt;0 for normal limit price</td>
</tr>
<tr>
<td>»» tp_ord_kind</td>
<td>body</td>
<td>integer</td>
<td>Yes</td>
<td>Take-profit order type</td>
<td>1 for trigger order/conditional order, 2 for limit order</td>
</tr>
<tr>
<td>»» tp_compare</td>
<td>body</td>
<td>integer</td>
<td>Yes</td>
<td>Take-profit trigger price comparison</td>
<td>1: Index price, 2: Mark price, 3: Last traded price</td>
</tr>
<tr>
<td>»» sl_trigger_price</td>
<td>body</td>
<td>string</td>
<td>Yes</td>
<td>Stop-loss trigger price</td>
<td></td>
</tr>
<tr>
<td>»» sl_ord_price</td>
<td>body</td>
<td>string</td>
<td>Yes</td>
<td>Stop-loss order price</td>
<td>-1 for market order, &gt;0 for normal limit price</td>
</tr>
<tr>
<td>»» sl_compare</td>
<td>body</td>
<td>integer</td>
<td>Yes</td>
<td>Stop-loss trigger price comparison</td>
<td>1: Index price, 2: Mark price, 3: Last traded price</td>
</tr>
</tbody></table>
<h4 id='a222a51edlkr'>Response Parameters</h4>
<blockquote>
<p>Response Example</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"code"</span><span class="p">:</span><span class="w"> </span><span class="mi">200</span><span class="p">,</span><span class="w">
  </span><span class="nl">"msg"</span><span class="p">:</span><span class="w"> </span><span class="s2">"success"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="nl">"order_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2517720561802636780"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="nl">"order_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2517720561802636781"</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<table><thead>
<tr>
<th>Name</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>» code</td>
<td>integer</td>
<td>Status code</td>
</tr>
<tr>
<td>» msg</td>
<td>string</td>
<td>Description message</td>
</tr>
<tr>
<td>» data</td>
<td>array[object]</td>
<td>Data array</td>
</tr>
<tr>
<td>»» code</td>
<td>integer</td>
<td>Status subcode</td>
</tr>
<tr>
<td>»» order_id</td>
<td>string</td>
<td>Order identifier</td>
</tr>
</tbody></table>
<h3 id='69c0da91oe0c'>Close Swap Positions</h3><h4 id='e5e4e37dc8o1'>Rate Limit: 3 requests per second</h4><h4 id='59ff88c8b51p'>HTTP Request</h4>
<p><code>PUT /v2/trade/swap/close-position</code></p>
<h4 id='22da1a05tql5'>Request Parameters</h4>
<blockquote>
<p>Request Example</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"product_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BTCUSDT"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"pos_side"</span><span class="p">:</span><span class="w"> </span><span class="s2">"LG"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div><div class="highlight"><pre class="highlight java tab-java"><code><span class="kn">import</span> <span class="nn">javax.crypto.Mac</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">javax.crypto.spec.SecretKeySpec</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">java.io.BufferedReader</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">java.io.InputStreamReader</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">java.io.OutputStream</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">java.net.HttpURLConnection</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">java.net.URL</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">java.nio.charset.StandardCharsets</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">java.util.Base64</span><span class="o">;</span>

<span class="kd">public</span> <span class="kd">class</span> <span class="nc">TestCase</span> <span class="o">{</span>
    <span class="kd">public</span> <span class="kd">static</span> <span class="nc">String</span> <span class="n">host</span> <span class="o">=</span> <span class="s">"https://api-v2.uzx.com"</span><span class="o">;</span>
    <span class="kd">public</span> <span class="kd">static</span> <span class="nc">String</span> <span class="no">UZXACCESSKEY2</span> <span class="o">=</span> <span class="s">"{APIKey}"</span><span class="o">;</span>
    <span class="kd">public</span> <span class="kd">static</span> <span class="nc">String</span> <span class="no">UZXACCESSSECRET2</span> <span class="o">=</span> <span class="s">"{SecretKey}"</span><span class="o">;</span>
    <span class="kd">public</span> <span class="kd">static</span> <span class="nc">String</span> <span class="no">UZXACCESSPASSPHRASE2</span> <span class="o">=</span> <span class="s">"{Passphrase}"</span><span class="o">;</span>

    <span class="kd">public</span> <span class="kd">enum</span> <span class="nc">HmacAlgorithmEnum</span> <span class="o">{</span>
        <span class="no">HMAC_SHA_256</span><span class="o">(</span><span class="s">"HmacSHA256"</span><span class="o">),</span>
        <span class="no">HMAC_SHA_512</span><span class="o">(</span><span class="s">"HmacSHA512"</span><span class="o">);</span>

        <span class="kd">private</span> <span class="kd">final</span> <span class="nc">String</span> <span class="n">algorithmName</span><span class="o">;</span>

        <span class="nc">HmacAlgorithmEnum</span><span class="o">(</span><span class="nc">String</span> <span class="n">algorithmName</span><span class="o">)</span> <span class="o">{</span>
            <span class="k">this</span><span class="o">.</span><span class="na">algorithmName</span> <span class="o">=</span> <span class="n">algorithmName</span><span class="o">;</span>
        <span class="o">}</span>

        <span class="kd">public</span> <span class="nc">String</span> <span class="nf">getAlgorithmName</span><span class="o">()</span> <span class="o">{</span>
            <span class="k">return</span> <span class="n">algorithmName</span><span class="o">;</span>
        <span class="o">}</span>
    <span class="o">}</span>

    <span class="kd">public</span> <span class="kd">static</span> <span class="nc">String</span> <span class="nf">generate</span><span class="o">(</span><span class="nc">String</span> <span class="n">timestamp</span><span class="o">,</span> <span class="nc">String</span> <span class="n">method</span><span class="o">,</span> <span class="nc">String</span> <span class="n">requestPath</span><span class="o">,</span>
                                 <span class="nc">String</span> <span class="n">queryString</span><span class="o">,</span> <span class="nc">String</span> <span class="n">body</span><span class="o">,</span> <span class="nc">String</span> <span class="n">secret</span><span class="o">,</span>
                                 <span class="nc">HmacAlgorithmEnum</span> <span class="n">algorithm</span><span class="o">)</span> <span class="kd">throws</span> <span class="nc">Exception</span> <span class="o">{</span>
        <span class="nc">String</span> <span class="n">data</span> <span class="o">=</span> <span class="n">timestamp</span> <span class="o">+</span> <span class="n">method</span> <span class="o">+</span> <span class="n">requestPath</span> <span class="o">+</span> <span class="o">(</span><span class="n">queryString</span> <span class="o">!=</span> <span class="kc">null</span> <span class="o">?</span> <span class="n">queryString</span> <span class="o">:</span> <span class="s">""</span><span class="o">)</span> <span class="o">+</span> <span class="n">body</span><span class="o">;</span>

        <span class="nc">Mac</span> <span class="n">mac</span> <span class="o">=</span> <span class="nc">Mac</span><span class="o">.</span><span class="na">getInstance</span><span class="o">(</span><span class="n">algorithm</span><span class="o">.</span><span class="na">getAlgorithmName</span><span class="o">());</span>
        <span class="nc">SecretKeySpec</span> <span class="n">secretKeySpec</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">SecretKeySpec</span><span class="o">(</span><span class="n">secret</span><span class="o">.</span><span class="na">getBytes</span><span class="o">(</span><span class="nc">StandardCharsets</span><span class="o">.</span><span class="na">UTF_8</span><span class="o">),</span> <span class="n">algorithm</span><span class="o">.</span><span class="na">getAlgorithmName</span><span class="o">());</span>
        <span class="n">mac</span><span class="o">.</span><span class="na">init</span><span class="o">(</span><span class="n">secretKeySpec</span><span class="o">);</span>

        <span class="kt">byte</span><span class="o">[]</span> <span class="n">hash</span> <span class="o">=</span> <span class="n">mac</span><span class="o">.</span><span class="na">doFinal</span><span class="o">(</span><span class="n">data</span><span class="o">.</span><span class="na">getBytes</span><span class="o">(</span><span class="nc">StandardCharsets</span><span class="o">.</span><span class="na">UTF_8</span><span class="o">));</span>
        <span class="k">return</span> <span class="nc">Base64</span><span class="o">.</span><span class="na">getEncoder</span><span class="o">().</span><span class="na">encodeToString</span><span class="o">(</span><span class="n">hash</span><span class="o">);</span>
    <span class="o">}</span>

    <span class="kd">public</span> <span class="kd">static</span> <span class="kt">void</span> <span class="nf">testPutApi</span><span class="o">()</span> <span class="kd">throws</span> <span class="nc">Exception</span> <span class="o">{</span>
        <span class="nc">String</span> <span class="n">timestamp</span> <span class="o">=</span> <span class="nc">System</span><span class="o">.</span><span class="na">currentTimeMillis</span><span class="o">()</span> <span class="o">/</span> <span class="mi">1000</span> <span class="o">+</span> <span class="s">""</span><span class="o">;</span>
        <span class="nc">String</span> <span class="n">method</span> <span class="o">=</span> <span class="s">"PUT"</span><span class="o">;</span>
        <span class="nc">String</span> <span class="n">requestPath</span> <span class="o">=</span> <span class="s">"/v2/trade/swap/close-position"</span><span class="o">;</span>
        <span class="nc">String</span> <span class="n">body</span> <span class="o">=</span> <span class="s">"{\"product_name\":\"BTCUSDT\",\"pos_side\":\"LG\"}"</span><span class="o">;</span>
        <span class="nc">String</span> <span class="n">data</span> <span class="o">=</span> <span class="n">timestamp</span> <span class="o">+</span> <span class="n">method</span> <span class="o">+</span> <span class="n">requestPath</span> <span class="o">+</span> <span class="n">body</span><span class="o">;</span>
        <span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="n">data</span><span class="o">);</span>

        <span class="nc">String</span> <span class="n">signature</span> <span class="o">=</span> <span class="n">generate</span><span class="o">(</span><span class="n">timestamp</span><span class="o">,</span> <span class="n">method</span><span class="o">,</span> <span class="n">requestPath</span><span class="o">,</span> <span class="kc">null</span><span class="o">,</span> <span class="n">body</span><span class="o">,</span> <span class="no">UZXACCESSSECRET2</span><span class="o">,</span> <span class="nc">HmacAlgorithmEnum</span><span class="o">.</span><span class="na">HMAC_SHA_256</span><span class="o">);</span>
        <span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="n">signature</span><span class="o">);</span>

        <span class="no">URL</span> <span class="n">url</span> <span class="o">=</span> <span class="k">new</span> <span class="no">URL</span><span class="o">(</span><span class="n">host</span> <span class="o">+</span> <span class="n">requestPath</span><span class="o">);</span>
        <span class="nc">HttpURLConnection</span> <span class="n">conn</span> <span class="o">=</span> <span class="o">(</span><span class="nc">HttpURLConnection</span><span class="o">)</span> <span class="n">url</span><span class="o">.</span><span class="na">openConnection</span><span class="o">();</span>
        <span class="n">conn</span><span class="o">.</span><span class="na">setRequestMethod</span><span class="o">(</span><span class="s">"PUT"</span><span class="o">);</span>
        <span class="n">conn</span><span class="o">.</span><span class="na">setRequestProperty</span><span class="o">(</span><span class="s">"Content-Type"</span><span class="o">,</span> <span class="s">"application/json"</span><span class="o">);</span>
        <span class="n">conn</span><span class="o">.</span><span class="na">setRequestProperty</span><span class="o">(</span><span class="s">"UZX-ACCESS-KEY"</span><span class="o">,</span> <span class="no">UZXACCESSKEY2</span><span class="o">);</span>
        <span class="n">conn</span><span class="o">.</span><span class="na">setRequestProperty</span><span class="o">(</span><span class="s">"UZX-ACCESS-SIGN"</span><span class="o">,</span> <span class="n">signature</span><span class="o">);</span>
        <span class="n">conn</span><span class="o">.</span><span class="na">setRequestProperty</span><span class="o">(</span><span class="s">"UZX-ACCESS-TIMESTAMP"</span><span class="o">,</span> <span class="n">timestamp</span><span class="o">);</span>
        <span class="n">conn</span><span class="o">.</span><span class="na">setRequestProperty</span><span class="o">(</span><span class="s">"UZX-ACCESS-PASSPHRASE"</span><span class="o">,</span> <span class="no">UZXACCESSPASSPHRASE2</span><span class="o">);</span>
        <span class="n">conn</span><span class="o">.</span><span class="na">setDoOutput</span><span class="o">(</span><span class="kc">true</span><span class="o">);</span>

        <span class="k">try</span> <span class="o">(</span><span class="nc">OutputStream</span> <span class="n">os</span> <span class="o">=</span> <span class="n">conn</span><span class="o">.</span><span class="na">getOutputStream</span><span class="o">())</span> <span class="o">{</span>
            <span class="kt">byte</span><span class="o">[]</span> <span class="n">input</span> <span class="o">=</span> <span class="n">body</span><span class="o">.</span><span class="na">getBytes</span><span class="o">(</span><span class="nc">StandardCharsets</span><span class="o">.</span><span class="na">UTF_8</span><span class="o">);</span>
            <span class="n">os</span><span class="o">.</span><span class="na">write</span><span class="o">(</span><span class="n">input</span><span class="o">,</span> <span class="mi">0</span><span class="o">,</span> <span class="n">input</span><span class="o">.</span><span class="na">length</span><span class="o">);</span>
        <span class="o">}</span>

        <span class="k">try</span> <span class="o">(</span><span class="nc">BufferedReader</span> <span class="n">br</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">BufferedReader</span><span class="o">(</span>
                <span class="k">new</span> <span class="nf">InputStreamReader</span><span class="o">(</span><span class="n">conn</span><span class="o">.</span><span class="na">getInputStream</span><span class="o">(),</span> <span class="nc">StandardCharsets</span><span class="o">.</span><span class="na">UTF_8</span><span class="o">)))</span> <span class="o">{</span>
            <span class="nc">StringBuilder</span> <span class="n">response</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">StringBuilder</span><span class="o">();</span>
            <span class="nc">String</span> <span class="n">responseLine</span><span class="o">;</span>
            <span class="k">while</span> <span class="o">((</span><span class="n">responseLine</span> <span class="o">=</span> <span class="n">br</span><span class="o">.</span><span class="na">readLine</span><span class="o">())</span> <span class="o">!=</span> <span class="kc">null</span><span class="o">)</span> <span class="o">{</span>
                <span class="n">response</span><span class="o">.</span><span class="na">append</span><span class="o">(</span><span class="n">responseLine</span><span class="o">.</span><span class="na">trim</span><span class="o">());</span>
            <span class="o">}</span>
            <span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="n">response</span><span class="o">.</span><span class="na">toString</span><span class="o">());</span>
        <span class="o">}</span>
    <span class="o">}</span>

    <span class="kd">public</span> <span class="kd">static</span> <span class="kt">void</span> <span class="nf">main</span><span class="o">(</span><span class="nc">String</span><span class="o">[]</span> <span class="n">args</span><span class="o">)</span> <span class="o">{</span>
        <span class="k">try</span> <span class="o">{</span>
            <span class="n">testPutApi</span><span class="o">();</span>
        <span class="o">}</span> <span class="k">catch</span> <span class="o">(</span><span class="nc">Exception</span> <span class="n">e</span><span class="o">)</span> <span class="o">{</span>
            <span class="n">e</span><span class="o">.</span><span class="na">printStackTrace</span><span class="o">();</span>
        <span class="o">}</span>
    <span class="o">}</span>
<span class="o">}</span>
</code></pre></div><div class="highlight"><pre class="highlight python tab-python"><code><span class="kn">import</span> <span class="nn">time</span>
<span class="kn">import</span> <span class="nn">hmac</span>
<span class="kn">import</span> <span class="nn">hashlib</span>
<span class="kn">import</span> <span class="nn">base64</span>
<span class="kn">import</span> <span class="nn">requests</span>
<span class="kn">import</span> <span class="nn">json</span>

<span class="n">host</span> <span class="o">=</span> <span class="s">"https://api-v2.uzx.com"</span>
<span class="n">APIKey</span> <span class="o">=</span> <span class="s">"{APIKey}"</span>
<span class="n">SecretKey</span> <span class="o">=</span> <span class="s">"{SecretKey}"</span>
<span class="n">Passphrase</span> <span class="o">=</span> <span class="s">"{Passphrase}"</span>

<span class="k">def</span> <span class="nf">generate_signature</span><span class="p">(</span><span class="n">timestamp</span><span class="p">,</span> <span class="n">method</span><span class="p">,</span> <span class="n">path</span><span class="p">,</span> <span class="n">query</span><span class="p">,</span> <span class="n">body</span><span class="p">,</span> <span class="n">secret</span><span class="p">):</span>
    <span class="n">query</span> <span class="o">=</span> <span class="s">'?'</span> <span class="o">+</span> <span class="n">query</span> <span class="k">if</span> <span class="n">query</span> <span class="k">else</span> <span class="s">''</span>
    <span class="n">body</span> <span class="o">=</span> <span class="n">body</span> <span class="k">if</span> <span class="n">body</span> <span class="k">else</span> <span class="s">''</span>
    <span class="n">prehash</span> <span class="o">=</span> <span class="sa">f</span><span class="s">"</span><span class="si">{</span><span class="n">timestamp</span><span class="si">}{</span><span class="n">method</span><span class="p">.</span><span class="n">upper</span><span class="p">()</span><span class="si">}{</span><span class="n">path</span><span class="si">}{</span><span class="n">query</span><span class="si">}{</span><span class="n">body</span><span class="si">}</span><span class="s">"</span>
    <span class="n">signature</span> <span class="o">=</span> <span class="n">hmac</span><span class="p">.</span><span class="n">new</span><span class="p">(</span><span class="n">secret</span><span class="p">.</span><span class="n">encode</span><span class="p">(),</span> <span class="n">prehash</span><span class="p">.</span><span class="n">encode</span><span class="p">(),</span> <span class="n">hashlib</span><span class="p">.</span><span class="n">sha256</span><span class="p">).</span><span class="n">digest</span><span class="p">()</span>
    <span class="k">return</span> <span class="n">base64</span><span class="p">.</span><span class="n">b64encode</span><span class="p">(</span><span class="n">signature</span><span class="p">).</span><span class="n">decode</span><span class="p">()</span>

<span class="k">def</span> <span class="nf">test_put_api</span><span class="p">():</span>
    <span class="n">timestamp</span> <span class="o">=</span> <span class="nb">str</span><span class="p">(</span><span class="nb">int</span><span class="p">(</span><span class="n">time</span><span class="p">.</span><span class="n">time</span><span class="p">()))</span>
    <span class="n">method</span> <span class="o">=</span> <span class="s">"PUT"</span>
    <span class="n">path</span> <span class="o">=</span> <span class="s">"/v2/trade/swap/close-position"</span>
    <span class="n">body</span> <span class="o">=</span> <span class="p">{</span>
      <span class="s">"product_name"</span><span class="p">:</span> <span class="s">"BTCUSDT"</span><span class="p">,</span>
      <span class="s">"pos_side"</span><span class="p">:</span> <span class="s">"LG"</span>
    <span class="p">}</span>
    <span class="n">body_str</span> <span class="o">=</span> <span class="n">json</span><span class="p">.</span><span class="n">dumps</span><span class="p">(</span><span class="n">body</span><span class="p">,</span> <span class="n">separators</span><span class="o">=</span><span class="p">(</span><span class="s">','</span><span class="p">,</span> <span class="s">':'</span><span class="p">))</span> 
    <span class="n">signature</span> <span class="o">=</span> <span class="n">generate_signature</span><span class="p">(</span><span class="n">timestamp</span><span class="p">,</span> <span class="n">method</span><span class="p">,</span> <span class="n">path</span><span class="p">,</span> <span class="bp">None</span><span class="p">,</span> <span class="n">body_str</span><span class="p">,</span> <span class="n">SecretKey</span><span class="p">)</span>

    <span class="n">headers</span> <span class="o">=</span> <span class="p">{</span>
        <span class="s">"UZX-ACCESS-KEY"</span><span class="p">:</span> <span class="n">APIKey</span><span class="p">,</span>
        <span class="s">"UZX-ACCESS-SIGN"</span><span class="p">:</span> <span class="n">signature</span><span class="p">,</span>
        <span class="s">"UZX-ACCESS-TIMESTAMP"</span><span class="p">:</span> <span class="n">timestamp</span><span class="p">,</span>
        <span class="s">"UZX-ACCESS-PASSPHRASE"</span><span class="p">:</span> <span class="n">Passphrase</span><span class="p">,</span>
        <span class="s">"Content-Type"</span><span class="p">:</span> <span class="s">"application/json"</span>
    <span class="p">}</span>

    <span class="n">resp</span> <span class="o">=</span> <span class="n">requests</span><span class="p">.</span><span class="n">put</span><span class="p">(</span><span class="n">host</span> <span class="o">+</span> <span class="n">path</span><span class="p">,</span> <span class="n">headers</span><span class="o">=</span><span class="n">headers</span><span class="p">,</span> <span class="n">data</span><span class="o">=</span><span class="n">body_str</span><span class="p">)</span>
    <span class="k">print</span><span class="p">(</span><span class="n">resp</span><span class="p">.</span><span class="n">status_code</span><span class="p">,</span> <span class="n">resp</span><span class="p">.</span><span class="n">text</span><span class="p">)</span>

<span class="n">test_put_api</span><span class="p">()</span>

</code></pre></div><div class="highlight"><pre class="highlight go tab-go"><code><span class="k">package</span> <span class="n">main</span>

<span class="k">import</span> <span class="p">(</span>
    <span class="s">"bytes"</span>
    <span class="s">"crypto/hmac"</span>
    <span class="s">"crypto/sha256"</span>
    <span class="s">"encoding/base64"</span>
    <span class="s">"fmt"</span>
    <span class="s">"net/http"</span>
    <span class="s">"time"</span>
    <span class="s">"strings"</span>
    <span class="s">"io/ioutil"</span>
<span class="p">)</span>

<span class="k">const</span> <span class="p">(</span>
    <span class="n">host</span>       <span class="o">=</span> <span class="s">"https://api-v2.uzx.com"</span>
    <span class="n">APIKey</span>     <span class="o">=</span> <span class="s">"{APIKey}"</span>
    <span class="n">SecretKey</span>  <span class="o">=</span> <span class="s">"{SecretKey}"</span>
    <span class="n">Passphrase</span> <span class="o">=</span> <span class="s">"{Passphrase}"</span>
<span class="p">)</span>

<span class="k">func</span> <span class="n">generateSignature</span><span class="p">(</span><span class="n">timestamp</span><span class="p">,</span> <span class="n">method</span><span class="p">,</span> <span class="n">path</span><span class="p">,</span> <span class="n">query</span><span class="p">,</span> <span class="n">body</span><span class="p">,</span> <span class="n">secret</span> <span class="kt">string</span><span class="p">)</span> <span class="kt">string</span> <span class="p">{</span>
    <span class="k">if</span> <span class="n">query</span> <span class="o">!=</span> <span class="s">""</span> <span class="p">{</span>
        <span class="n">query</span> <span class="o">=</span> <span class="s">"?"</span> <span class="o">+</span> <span class="n">query</span>
    <span class="p">}</span>
    <span class="n">preHash</span> <span class="o">:=</span> <span class="n">timestamp</span> <span class="o">+</span> <span class="n">strings</span><span class="o">.</span><span class="n">ToUpper</span><span class="p">(</span><span class="n">method</span><span class="p">)</span> <span class="o">+</span> <span class="n">path</span> <span class="o">+</span> <span class="n">query</span> <span class="o">+</span> <span class="n">body</span>
    <span class="n">mac</span> <span class="o">:=</span> <span class="n">hmac</span><span class="o">.</span><span class="n">New</span><span class="p">(</span><span class="n">sha256</span><span class="o">.</span><span class="n">New</span><span class="p">,</span> <span class="p">[]</span><span class="kt">byte</span><span class="p">(</span><span class="n">secret</span><span class="p">))</span>
    <span class="n">mac</span><span class="o">.</span><span class="n">Write</span><span class="p">([]</span><span class="kt">byte</span><span class="p">(</span><span class="n">preHash</span><span class="p">))</span>
    <span class="k">return</span> <span class="n">base64</span><span class="o">.</span><span class="n">StdEncoding</span><span class="o">.</span><span class="n">EncodeToString</span><span class="p">(</span><span class="n">mac</span><span class="o">.</span><span class="n">Sum</span><span class="p">(</span><span class="no">nil</span><span class="p">))</span>
<span class="p">}</span>

<span class="k">func</span> <span class="n">testPutApi</span><span class="p">()</span> <span class="p">{</span>
    <span class="n">timestamp</span> <span class="o">:=</span> <span class="n">fmt</span><span class="o">.</span><span class="n">Sprintf</span><span class="p">(</span><span class="s">"%d"</span><span class="p">,</span> <span class="n">time</span><span class="o">.</span><span class="n">Now</span><span class="p">()</span><span class="o">.</span><span class="n">Unix</span><span class="p">())</span>
    <span class="n">method</span> <span class="o">:=</span> <span class="s">"PUT"</span>
    <span class="n">path</span> <span class="o">:=</span> <span class="s">"/v2/trade/swap/close-position"</span>
    <span class="n">body</span> <span class="o">:=</span> <span class="s">`{"product_name":"BTCUSDT","pos_side":"LG"}`</span>
    <span class="n">signature</span> <span class="o">:=</span> <span class="n">generateSignature</span><span class="p">(</span><span class="n">timestamp</span><span class="p">,</span> <span class="n">method</span><span class="p">,</span> <span class="n">path</span><span class="p">,</span> <span class="s">""</span><span class="p">,</span> <span class="n">body</span><span class="p">,</span> <span class="n">SecretKey</span><span class="p">)</span>

    <span class="n">req</span><span class="p">,</span> <span class="n">err</span> <span class="o">:=</span> <span class="n">http</span><span class="o">.</span><span class="n">NewRequest</span><span class="p">(</span><span class="n">method</span><span class="p">,</span> <span class="n">host</span><span class="o">+</span><span class="n">path</span><span class="p">,</span> <span class="n">bytes</span><span class="o">.</span><span class="n">NewBuffer</span><span class="p">([]</span><span class="kt">byte</span><span class="p">(</span><span class="n">body</span><span class="p">)))</span>
    <span class="k">if</span> <span class="n">err</span> <span class="o">!=</span> <span class="no">nil</span> <span class="p">{</span>
        <span class="nb">panic</span><span class="p">(</span><span class="n">err</span><span class="p">)</span>
    <span class="p">}</span>

    <span class="n">req</span><span class="o">.</span><span class="n">Header</span><span class="o">.</span><span class="n">Set</span><span class="p">(</span><span class="s">"Content-Type"</span><span class="p">,</span> <span class="s">"application/json"</span><span class="p">)</span>
    <span class="n">req</span><span class="o">.</span><span class="n">Header</span><span class="o">.</span><span class="n">Set</span><span class="p">(</span><span class="s">"UZX-ACCESS-KEY"</span><span class="p">,</span> <span class="n">APIKey</span><span class="p">)</span>
    <span class="n">req</span><span class="o">.</span><span class="n">Header</span><span class="o">.</span><span class="n">Set</span><span class="p">(</span><span class="s">"UZX-ACCESS-SIGN"</span><span class="p">,</span> <span class="n">signature</span><span class="p">)</span>
    <span class="n">req</span><span class="o">.</span><span class="n">Header</span><span class="o">.</span><span class="n">Set</span><span class="p">(</span><span class="s">"UZX-ACCESS-TIMESTAMP"</span><span class="p">,</span> <span class="n">timestamp</span><span class="p">)</span>
    <span class="n">req</span><span class="o">.</span><span class="n">Header</span><span class="o">.</span><span class="n">Set</span><span class="p">(</span><span class="s">"UZX-ACCESS-PASSPHRASE"</span><span class="p">,</span> <span class="n">Passphrase</span><span class="p">)</span>

    <span class="n">client</span> <span class="o">:=</span> <span class="o">&amp;</span><span class="n">http</span><span class="o">.</span><span class="n">Client</span><span class="p">{}</span>
    <span class="n">resp</span><span class="p">,</span> <span class="n">err</span> <span class="o">:=</span> <span class="n">client</span><span class="o">.</span><span class="n">Do</span><span class="p">(</span><span class="n">req</span><span class="p">)</span>
    <span class="k">if</span> <span class="n">err</span> <span class="o">!=</span> <span class="no">nil</span> <span class="p">{</span>
        <span class="nb">panic</span><span class="p">(</span><span class="n">err</span><span class="p">)</span>
    <span class="p">}</span>
    <span class="k">defer</span> <span class="n">resp</span><span class="o">.</span><span class="n">Body</span><span class="o">.</span><span class="n">Close</span><span class="p">()</span>
    <span class="n">bodyResp</span><span class="p">,</span> <span class="n">_</span> <span class="o">:=</span> <span class="n">ioutil</span><span class="o">.</span><span class="n">ReadAll</span><span class="p">(</span><span class="n">resp</span><span class="o">.</span><span class="n">Body</span><span class="p">)</span>
    <span class="n">fmt</span><span class="o">.</span><span class="n">Println</span><span class="p">(</span><span class="n">resp</span><span class="o">.</span><span class="n">StatusCode</span><span class="p">,</span> <span class="kt">string</span><span class="p">(</span><span class="n">bodyResp</span><span class="p">))</span>
<span class="p">}</span>

<span class="k">func</span> <span class="n">main</span><span class="p">()</span> <span class="p">{</span>
    <span class="n">testPutApi</span><span class="p">()</span>
<span class="p">}</span>
</code></pre></div>
<table><thead>
<tr>
<th>Name</th>
<th>Location</th>
<th>Type</th>
<th>Required</th>
<th>Description</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>body</td>
<td>body</td>
<td>object</td>
<td>No</td>
<td></td>
<td></td>
</tr>
<tr>
<td>» product_name</td>
<td>body</td>
<td>string</td>
<td>Yes</td>
<td>Product name</td>
<td></td>
</tr>
<tr>
<td>» pos_side</td>
<td>body</td>
<td>string</td>
<td>Yes</td>
<td>Position direction</td>
<td>LG for long, ST for short</td>
</tr>
</tbody></table>
<h4 id='a222a51egtl5'>Response Parameters</h4>
<blockquote>
<p>Response Example</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"code"</span><span class="p">:</span><span class="w"> </span><span class="mi">200</span><span class="p">,</span><span class="w">
  </span><span class="nl">"msg"</span><span class="p">:</span><span class="w"> </span><span class="s2">"string"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">{}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<table><thead>
<tr>
<th>Name</th>
<th>Type</th>
<th>Required</th>
<th>Constraints</th>
<th>Explanation</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>code</td>
<td>integer</td>
<td>true</td>
<td>none</td>
<td>Status code</td>
<td></td>
</tr>
<tr>
<td>msg</td>
<td>string</td>
<td>true</td>
<td>none</td>
<td>Description</td>
<td></td>
</tr>
<tr>
<td>data</td>
<td>object</td>
<td>true</td>
<td>none</td>
<td>Data</td>
<td></td>
</tr>
</tbody></table>
<h3 id='ff225f2840xz'>Adjust Swap Position Leverage</h3><h4 id='e5e4e37dlaet'>Rate Limit: 3 requests per second</h4><h4 id='59ff88c870zf'>HTTP Request</h4>
<p><code>PUT /v2/trade/swap/position/set-leverage</code></p>
<h4 id='22da1a057ulq'>Request Parameters</h4>
<blockquote>
<p>Request Example</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"product_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BTCUSDT"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"leverage"</span><span class="p">:</span><span class="w"> </span><span class="mi">10</span><span class="p">,</span><span class="w">
  </span><span class="nl">"pos_side"</span><span class="p">:</span><span class="w"> </span><span class="s2">"LG"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"mgn_mode"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div><div class="highlight"><pre class="highlight java tab-java"><code><span class="kn">import</span> <span class="nn">javax.crypto.Mac</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">javax.crypto.spec.SecretKeySpec</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">java.io.BufferedReader</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">java.io.InputStreamReader</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">java.io.OutputStream</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">java.net.HttpURLConnection</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">java.net.URL</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">java.nio.charset.StandardCharsets</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">java.util.Base64</span><span class="o">;</span>

<span class="kd">public</span> <span class="kd">class</span> <span class="nc">TestCase</span> <span class="o">{</span>
    <span class="kd">public</span> <span class="kd">static</span> <span class="nc">String</span> <span class="n">host</span> <span class="o">=</span> <span class="s">"https://api-v2.uzx.com"</span><span class="o">;</span>
    <span class="kd">public</span> <span class="kd">static</span> <span class="nc">String</span> <span class="no">UZXACCESSKEY2</span> <span class="o">=</span> <span class="s">"{APIKey}"</span><span class="o">;</span>
    <span class="kd">public</span> <span class="kd">static</span> <span class="nc">String</span> <span class="no">UZXACCESSSECRET2</span> <span class="o">=</span> <span class="s">"{SecretKey}"</span><span class="o">;</span>
    <span class="kd">public</span> <span class="kd">static</span> <span class="nc">String</span> <span class="no">UZXACCESSPASSPHRASE2</span> <span class="o">=</span> <span class="s">"{Passphrase}"</span><span class="o">;</span>

    <span class="kd">public</span> <span class="kd">enum</span> <span class="nc">HmacAlgorithmEnum</span> <span class="o">{</span>
        <span class="no">HMAC_SHA_256</span><span class="o">(</span><span class="s">"HmacSHA256"</span><span class="o">),</span>
        <span class="no">HMAC_SHA_512</span><span class="o">(</span><span class="s">"HmacSHA512"</span><span class="o">);</span>

        <span class="kd">private</span> <span class="kd">final</span> <span class="nc">String</span> <span class="n">algorithmName</span><span class="o">;</span>

        <span class="nc">HmacAlgorithmEnum</span><span class="o">(</span><span class="nc">String</span> <span class="n">algorithmName</span><span class="o">)</span> <span class="o">{</span>
            <span class="k">this</span><span class="o">.</span><span class="na">algorithmName</span> <span class="o">=</span> <span class="n">algorithmName</span><span class="o">;</span>
        <span class="o">}</span>

        <span class="kd">public</span> <span class="nc">String</span> <span class="nf">getAlgorithmName</span><span class="o">()</span> <span class="o">{</span>
            <span class="k">return</span> <span class="n">algorithmName</span><span class="o">;</span>
        <span class="o">}</span>
    <span class="o">}</span>

    <span class="kd">public</span> <span class="kd">static</span> <span class="nc">String</span> <span class="nf">generate</span><span class="o">(</span><span class="nc">String</span> <span class="n">timestamp</span><span class="o">,</span> <span class="nc">String</span> <span class="n">method</span><span class="o">,</span> <span class="nc">String</span> <span class="n">requestPath</span><span class="o">,</span>
                                 <span class="nc">String</span> <span class="n">queryString</span><span class="o">,</span> <span class="nc">String</span> <span class="n">body</span><span class="o">,</span> <span class="nc">String</span> <span class="n">secret</span><span class="o">,</span>
                                 <span class="nc">HmacAlgorithmEnum</span> <span class="n">algorithm</span><span class="o">)</span> <span class="kd">throws</span> <span class="nc">Exception</span> <span class="o">{</span>
        <span class="nc">String</span> <span class="n">data</span> <span class="o">=</span> <span class="n">timestamp</span> <span class="o">+</span> <span class="n">method</span> <span class="o">+</span> <span class="n">requestPath</span> <span class="o">+</span> <span class="o">(</span><span class="n">queryString</span> <span class="o">!=</span> <span class="kc">null</span> <span class="o">?</span> <span class="n">queryString</span> <span class="o">:</span> <span class="s">""</span><span class="o">)</span> <span class="o">+</span> <span class="n">body</span><span class="o">;</span>

        <span class="nc">Mac</span> <span class="n">mac</span> <span class="o">=</span> <span class="nc">Mac</span><span class="o">.</span><span class="na">getInstance</span><span class="o">(</span><span class="n">algorithm</span><span class="o">.</span><span class="na">getAlgorithmName</span><span class="o">());</span>
        <span class="nc">SecretKeySpec</span> <span class="n">secretKeySpec</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">SecretKeySpec</span><span class="o">(</span><span class="n">secret</span><span class="o">.</span><span class="na">getBytes</span><span class="o">(</span><span class="nc">StandardCharsets</span><span class="o">.</span><span class="na">UTF_8</span><span class="o">),</span> <span class="n">algorithm</span><span class="o">.</span><span class="na">getAlgorithmName</span><span class="o">());</span>
        <span class="n">mac</span><span class="o">.</span><span class="na">init</span><span class="o">(</span><span class="n">secretKeySpec</span><span class="o">);</span>

        <span class="kt">byte</span><span class="o">[]</span> <span class="n">hash</span> <span class="o">=</span> <span class="n">mac</span><span class="o">.</span><span class="na">doFinal</span><span class="o">(</span><span class="n">data</span><span class="o">.</span><span class="na">getBytes</span><span class="o">(</span><span class="nc">StandardCharsets</span><span class="o">.</span><span class="na">UTF_8</span><span class="o">));</span>
        <span class="k">return</span> <span class="nc">Base64</span><span class="o">.</span><span class="na">getEncoder</span><span class="o">().</span><span class="na">encodeToString</span><span class="o">(</span><span class="n">hash</span><span class="o">);</span>
    <span class="o">}</span>

    <span class="kd">public</span> <span class="kd">static</span> <span class="kt">void</span> <span class="nf">testPutApi</span><span class="o">()</span> <span class="kd">throws</span> <span class="nc">Exception</span> <span class="o">{</span>
        <span class="nc">String</span> <span class="n">timestamp</span> <span class="o">=</span> <span class="nc">System</span><span class="o">.</span><span class="na">currentTimeMillis</span><span class="o">()</span> <span class="o">/</span> <span class="mi">1000</span> <span class="o">+</span> <span class="s">""</span><span class="o">;</span>
        <span class="nc">String</span> <span class="n">method</span> <span class="o">=</span> <span class="s">"PUT"</span><span class="o">;</span>
        <span class="nc">String</span> <span class="n">requestPath</span> <span class="o">=</span> <span class="s">"/v2/trade/swap/position/set-leverage"</span><span class="o">;</span>
        <span class="nc">String</span> <span class="n">body</span> <span class="o">=</span> <span class="s">"{\"product_name\":\"BTCUSDT\",\"leverage\":10,\"pos_side\":\"LG\",\"mgn_mode\":1}"</span><span class="o">;</span>
        <span class="nc">String</span> <span class="n">data</span> <span class="o">=</span> <span class="n">timestamp</span> <span class="o">+</span> <span class="n">method</span> <span class="o">+</span> <span class="n">requestPath</span> <span class="o">+</span> <span class="n">body</span><span class="o">;</span>
        <span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="n">data</span><span class="o">);</span>

        <span class="nc">String</span> <span class="n">signature</span> <span class="o">=</span> <span class="n">generate</span><span class="o">(</span><span class="n">timestamp</span><span class="o">,</span> <span class="n">method</span><span class="o">,</span> <span class="n">requestPath</span><span class="o">,</span> <span class="kc">null</span><span class="o">,</span> <span class="n">body</span><span class="o">,</span> <span class="no">UZXACCESSSECRET2</span><span class="o">,</span> <span class="nc">HmacAlgorithmEnum</span><span class="o">.</span><span class="na">HMAC_SHA_256</span><span class="o">);</span>
        <span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="n">signature</span><span class="o">);</span>

        <span class="no">URL</span> <span class="n">url</span> <span class="o">=</span> <span class="k">new</span> <span class="no">URL</span><span class="o">(</span><span class="n">host</span> <span class="o">+</span> <span class="n">requestPath</span><span class="o">);</span>
        <span class="nc">HttpURLConnection</span> <span class="n">conn</span> <span class="o">=</span> <span class="o">(</span><span class="nc">HttpURLConnection</span><span class="o">)</span> <span class="n">url</span><span class="o">.</span><span class="na">openConnection</span><span class="o">();</span>
        <span class="n">conn</span><span class="o">.</span><span class="na">setRequestMethod</span><span class="o">(</span><span class="s">"PUT"</span><span class="o">);</span>
        <span class="n">conn</span><span class="o">.</span><span class="na">setRequestProperty</span><span class="o">(</span><span class="s">"Content-Type"</span><span class="o">,</span> <span class="s">"application/json"</span><span class="o">);</span>
        <span class="n">conn</span><span class="o">.</span><span class="na">setRequestProperty</span><span class="o">(</span><span class="s">"UZX-ACCESS-KEY"</span><span class="o">,</span> <span class="no">UZXACCESSKEY2</span><span class="o">);</span>
        <span class="n">conn</span><span class="o">.</span><span class="na">setRequestProperty</span><span class="o">(</span><span class="s">"UZX-ACCESS-SIGN"</span><span class="o">,</span> <span class="n">signature</span><span class="o">);</span>
        <span class="n">conn</span><span class="o">.</span><span class="na">setRequestProperty</span><span class="o">(</span><span class="s">"UZX-ACCESS-TIMESTAMP"</span><span class="o">,</span> <span class="n">timestamp</span><span class="o">);</span>
        <span class="n">conn</span><span class="o">.</span><span class="na">setRequestProperty</span><span class="o">(</span><span class="s">"UZX-ACCESS-PASSPHRASE"</span><span class="o">,</span> <span class="no">UZXACCESSPASSPHRASE2</span><span class="o">);</span>
        <span class="n">conn</span><span class="o">.</span><span class="na">setDoOutput</span><span class="o">(</span><span class="kc">true</span><span class="o">);</span>

        <span class="k">try</span> <span class="o">(</span><span class="nc">OutputStream</span> <span class="n">os</span> <span class="o">=</span> <span class="n">conn</span><span class="o">.</span><span class="na">getOutputStream</span><span class="o">())</span> <span class="o">{</span>
            <span class="kt">byte</span><span class="o">[]</span> <span class="n">input</span> <span class="o">=</span> <span class="n">body</span><span class="o">.</span><span class="na">getBytes</span><span class="o">(</span><span class="nc">StandardCharsets</span><span class="o">.</span><span class="na">UTF_8</span><span class="o">);</span>
            <span class="n">os</span><span class="o">.</span><span class="na">write</span><span class="o">(</span><span class="n">input</span><span class="o">,</span> <span class="mi">0</span><span class="o">,</span> <span class="n">input</span><span class="o">.</span><span class="na">length</span><span class="o">);</span>
        <span class="o">}</span>

        <span class="k">try</span> <span class="o">(</span><span class="nc">BufferedReader</span> <span class="n">br</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">BufferedReader</span><span class="o">(</span>
                <span class="k">new</span> <span class="nf">InputStreamReader</span><span class="o">(</span><span class="n">conn</span><span class="o">.</span><span class="na">getInputStream</span><span class="o">(),</span> <span class="nc">StandardCharsets</span><span class="o">.</span><span class="na">UTF_8</span><span class="o">)))</span> <span class="o">{</span>
            <span class="nc">StringBuilder</span> <span class="n">response</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">StringBuilder</span><span class="o">();</span>
            <span class="nc">String</span> <span class="n">responseLine</span><span class="o">;</span>
            <span class="k">while</span> <span class="o">((</span><span class="n">responseLine</span> <span class="o">=</span> <span class="n">br</span><span class="o">.</span><span class="na">readLine</span><span class="o">())</span> <span class="o">!=</span> <span class="kc">null</span><span class="o">)</span> <span class="o">{</span>
                <span class="n">response</span><span class="o">.</span><span class="na">append</span><span class="o">(</span><span class="n">responseLine</span><span class="o">.</span><span class="na">trim</span><span class="o">());</span>
            <span class="o">}</span>
            <span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="n">response</span><span class="o">.</span><span class="na">toString</span><span class="o">());</span>
        <span class="o">}</span>
    <span class="o">}</span>

    <span class="kd">public</span> <span class="kd">static</span> <span class="kt">void</span> <span class="nf">main</span><span class="o">(</span><span class="nc">String</span><span class="o">[]</span> <span class="n">args</span><span class="o">)</span> <span class="o">{</span>
        <span class="k">try</span> <span class="o">{</span>
            <span class="n">testPutApi</span><span class="o">();</span>
        <span class="o">}</span> <span class="k">catch</span> <span class="o">(</span><span class="nc">Exception</span> <span class="n">e</span><span class="o">)</span> <span class="o">{</span>
            <span class="n">e</span><span class="o">.</span><span class="na">printStackTrace</span><span class="o">();</span>
        <span class="o">}</span>
    <span class="o">}</span>
<span class="o">}</span>

</code></pre></div><div class="highlight"><pre class="highlight python tab-python"><code><span class="kn">import</span> <span class="nn">time</span>
<span class="kn">import</span> <span class="nn">hmac</span>
<span class="kn">import</span> <span class="nn">hashlib</span>
<span class="kn">import</span> <span class="nn">base64</span>
<span class="kn">import</span> <span class="nn">requests</span>
<span class="kn">import</span> <span class="nn">json</span>

<span class="n">host</span> <span class="o">=</span> <span class="s">"https://api-v2.uzx.com"</span>
<span class="n">APIKey</span> <span class="o">=</span> <span class="s">"{APIKey}"</span>
<span class="n">SecretKey</span> <span class="o">=</span> <span class="s">"{SecretKey}"</span>
<span class="n">Passphrase</span> <span class="o">=</span> <span class="s">"{Passphrase}"</span>

<span class="k">def</span> <span class="nf">generate_signature</span><span class="p">(</span><span class="n">timestamp</span><span class="p">,</span> <span class="n">method</span><span class="p">,</span> <span class="n">path</span><span class="p">,</span> <span class="n">query</span><span class="p">,</span> <span class="n">body</span><span class="p">,</span> <span class="n">secret</span><span class="p">):</span>
    <span class="n">query</span> <span class="o">=</span> <span class="s">'?'</span> <span class="o">+</span> <span class="n">query</span> <span class="k">if</span> <span class="n">query</span> <span class="k">else</span> <span class="s">''</span>
    <span class="n">body</span> <span class="o">=</span> <span class="n">body</span> <span class="k">if</span> <span class="n">body</span> <span class="k">else</span> <span class="s">''</span>
    <span class="n">prehash</span> <span class="o">=</span> <span class="sa">f</span><span class="s">"</span><span class="si">{</span><span class="n">timestamp</span><span class="si">}{</span><span class="n">method</span><span class="p">.</span><span class="n">upper</span><span class="p">()</span><span class="si">}{</span><span class="n">path</span><span class="si">}{</span><span class="n">query</span><span class="si">}{</span><span class="n">body</span><span class="si">}</span><span class="s">"</span>
    <span class="n">signature</span> <span class="o">=</span> <span class="n">hmac</span><span class="p">.</span><span class="n">new</span><span class="p">(</span><span class="n">secret</span><span class="p">.</span><span class="n">encode</span><span class="p">(),</span> <span class="n">prehash</span><span class="p">.</span><span class="n">encode</span><span class="p">(),</span> <span class="n">hashlib</span><span class="p">.</span><span class="n">sha256</span><span class="p">).</span><span class="n">digest</span><span class="p">()</span>
    <span class="k">return</span> <span class="n">base64</span><span class="p">.</span><span class="n">b64encode</span><span class="p">(</span><span class="n">signature</span><span class="p">).</span><span class="n">decode</span><span class="p">()</span>

<span class="k">def</span> <span class="nf">test_put_api</span><span class="p">():</span>
    <span class="n">timestamp</span> <span class="o">=</span> <span class="nb">str</span><span class="p">(</span><span class="nb">int</span><span class="p">(</span><span class="n">time</span><span class="p">.</span><span class="n">time</span><span class="p">()))</span>
    <span class="n">method</span> <span class="o">=</span> <span class="s">"PUT"</span>
    <span class="n">path</span> <span class="o">=</span> <span class="s">"/v2/trade/swap/position/set-leverage"</span>
    <span class="n">body</span> <span class="o">=</span> <span class="p">{</span>
      <span class="s">"product_name"</span><span class="p">:</span> <span class="s">"BTCUSDT"</span><span class="p">,</span>
      <span class="s">"leverage"</span><span class="p">:</span> <span class="mi">10</span><span class="p">,</span>
      <span class="s">"pos_side"</span><span class="p">:</span> <span class="s">"LG"</span><span class="p">,</span>
      <span class="s">"mgn_mode"</span><span class="p">:</span> <span class="mi">1</span>
    <span class="p">}</span>
    <span class="n">body_str</span> <span class="o">=</span> <span class="n">json</span><span class="p">.</span><span class="n">dumps</span><span class="p">(</span><span class="n">body</span><span class="p">,</span> <span class="n">separators</span><span class="o">=</span><span class="p">(</span><span class="s">','</span><span class="p">,</span> <span class="s">':'</span><span class="p">))</span> 
    <span class="n">signature</span> <span class="o">=</span> <span class="n">generate_signature</span><span class="p">(</span><span class="n">timestamp</span><span class="p">,</span> <span class="n">method</span><span class="p">,</span> <span class="n">path</span><span class="p">,</span> <span class="bp">None</span><span class="p">,</span> <span class="n">body_str</span><span class="p">,</span> <span class="n">SecretKey</span><span class="p">)</span>

    <span class="n">headers</span> <span class="o">=</span> <span class="p">{</span>
        <span class="s">"UZX-ACCESS-KEY"</span><span class="p">:</span> <span class="n">APIKey</span><span class="p">,</span>
        <span class="s">"UZX-ACCESS-SIGN"</span><span class="p">:</span> <span class="n">signature</span><span class="p">,</span>
        <span class="s">"UZX-ACCESS-TIMESTAMP"</span><span class="p">:</span> <span class="n">timestamp</span><span class="p">,</span>
        <span class="s">"UZX-ACCESS-PASSPHRASE"</span><span class="p">:</span> <span class="n">Passphrase</span><span class="p">,</span>
        <span class="s">"Content-Type"</span><span class="p">:</span> <span class="s">"application/json"</span>
    <span class="p">}</span>

    <span class="n">resp</span> <span class="o">=</span> <span class="n">requests</span><span class="p">.</span><span class="n">put</span><span class="p">(</span><span class="n">host</span> <span class="o">+</span> <span class="n">path</span><span class="p">,</span> <span class="n">headers</span><span class="o">=</span><span class="n">headers</span><span class="p">,</span> <span class="n">data</span><span class="o">=</span><span class="n">body_str</span><span class="p">)</span>
    <span class="k">print</span><span class="p">(</span><span class="n">resp</span><span class="p">.</span><span class="n">status_code</span><span class="p">,</span> <span class="n">resp</span><span class="p">.</span><span class="n">text</span><span class="p">)</span>

<span class="n">test_put_api</span><span class="p">()</span>

</code></pre></div><div class="highlight"><pre class="highlight go tab-go"><code><span class="k">package</span> <span class="n">main</span>

<span class="k">import</span> <span class="p">(</span>
    <span class="s">"bytes"</span>
    <span class="s">"crypto/hmac"</span>
    <span class="s">"crypto/sha256"</span>
    <span class="s">"encoding/base64"</span>
    <span class="s">"fmt"</span>
    <span class="s">"net/http"</span>
    <span class="s">"time"</span>
    <span class="s">"strings"</span>
    <span class="s">"io/ioutil"</span>
<span class="p">)</span>

<span class="k">const</span> <span class="p">(</span>
    <span class="n">host</span>       <span class="o">=</span> <span class="s">"https://api-v2.uzx.com"</span>
    <span class="n">APIKey</span>     <span class="o">=</span> <span class="s">"{APIKey}"</span>
    <span class="n">SecretKey</span>  <span class="o">=</span> <span class="s">"{SecretKey}"</span>
    <span class="n">Passphrase</span> <span class="o">=</span> <span class="s">"{Passphrase}"</span>
<span class="p">)</span>

<span class="k">func</span> <span class="n">generateSignature</span><span class="p">(</span><span class="n">timestamp</span><span class="p">,</span> <span class="n">method</span><span class="p">,</span> <span class="n">path</span><span class="p">,</span> <span class="n">query</span><span class="p">,</span> <span class="n">body</span><span class="p">,</span> <span class="n">secret</span> <span class="kt">string</span><span class="p">)</span> <span class="kt">string</span> <span class="p">{</span>
    <span class="k">if</span> <span class="n">query</span> <span class="o">!=</span> <span class="s">""</span> <span class="p">{</span>
        <span class="n">query</span> <span class="o">=</span> <span class="s">"?"</span> <span class="o">+</span> <span class="n">query</span>
    <span class="p">}</span>
    <span class="n">preHash</span> <span class="o">:=</span> <span class="n">timestamp</span> <span class="o">+</span> <span class="n">strings</span><span class="o">.</span><span class="n">ToUpper</span><span class="p">(</span><span class="n">method</span><span class="p">)</span> <span class="o">+</span> <span class="n">path</span> <span class="o">+</span> <span class="n">query</span> <span class="o">+</span> <span class="n">body</span>
    <span class="n">mac</span> <span class="o">:=</span> <span class="n">hmac</span><span class="o">.</span><span class="n">New</span><span class="p">(</span><span class="n">sha256</span><span class="o">.</span><span class="n">New</span><span class="p">,</span> <span class="p">[]</span><span class="kt">byte</span><span class="p">(</span><span class="n">secret</span><span class="p">))</span>
    <span class="n">mac</span><span class="o">.</span><span class="n">Write</span><span class="p">([]</span><span class="kt">byte</span><span class="p">(</span><span class="n">preHash</span><span class="p">))</span>
    <span class="k">return</span> <span class="n">base64</span><span class="o">.</span><span class="n">StdEncoding</span><span class="o">.</span><span class="n">EncodeToString</span><span class="p">(</span><span class="n">mac</span><span class="o">.</span><span class="n">Sum</span><span class="p">(</span><span class="no">nil</span><span class="p">))</span>
<span class="p">}</span>

<span class="k">func</span> <span class="n">testPutApi</span><span class="p">()</span> <span class="p">{</span>
    <span class="n">timestamp</span> <span class="o">:=</span> <span class="n">fmt</span><span class="o">.</span><span class="n">Sprintf</span><span class="p">(</span><span class="s">"%d"</span><span class="p">,</span> <span class="n">time</span><span class="o">.</span><span class="n">Now</span><span class="p">()</span><span class="o">.</span><span class="n">Unix</span><span class="p">())</span>
    <span class="n">method</span> <span class="o">:=</span> <span class="s">"PUT"</span>
    <span class="n">path</span> <span class="o">:=</span> <span class="s">"/v2/trade/swap/position/set-leverage"</span>
    <span class="n">body</span> <span class="o">:=</span> <span class="s">`{"product_name":"BTCUSDT","leverage":10,"pos_side":"LG","mgn_mode":1}`</span>
    <span class="n">signature</span> <span class="o">:=</span> <span class="n">generateSignature</span><span class="p">(</span><span class="n">timestamp</span><span class="p">,</span> <span class="n">method</span><span class="p">,</span> <span class="n">path</span><span class="p">,</span> <span class="s">""</span><span class="p">,</span> <span class="n">body</span><span class="p">,</span> <span class="n">SecretKey</span><span class="p">)</span>

    <span class="n">req</span><span class="p">,</span> <span class="n">err</span> <span class="o">:=</span> <span class="n">http</span><span class="o">.</span><span class="n">NewRequest</span><span class="p">(</span><span class="n">method</span><span class="p">,</span> <span class="n">host</span><span class="o">+</span><span class="n">path</span><span class="p">,</span> <span class="n">bytes</span><span class="o">.</span><span class="n">NewBuffer</span><span class="p">([]</span><span class="kt">byte</span><span class="p">(</span><span class="n">body</span><span class="p">)))</span>
    <span class="k">if</span> <span class="n">err</span> <span class="o">!=</span> <span class="no">nil</span> <span class="p">{</span>
        <span class="nb">panic</span><span class="p">(</span><span class="n">err</span><span class="p">)</span>
    <span class="p">}</span>

    <span class="n">req</span><span class="o">.</span><span class="n">Header</span><span class="o">.</span><span class="n">Set</span><span class="p">(</span><span class="s">"Content-Type"</span><span class="p">,</span> <span class="s">"application/json"</span><span class="p">)</span>
    <span class="n">req</span><span class="o">.</span><span class="n">Header</span><span class="o">.</span><span class="n">Set</span><span class="p">(</span><span class="s">"UZX-ACCESS-KEY"</span><span class="p">,</span> <span class="n">APIKey</span><span class="p">)</span>
    <span class="n">req</span><span class="o">.</span><span class="n">Header</span><span class="o">.</span><span class="n">Set</span><span class="p">(</span><span class="s">"UZX-ACCESS-SIGN"</span><span class="p">,</span> <span class="n">signature</span><span class="p">)</span>
    <span class="n">req</span><span class="o">.</span><span class="n">Header</span><span class="o">.</span><span class="n">Set</span><span class="p">(</span><span class="s">"UZX-ACCESS-TIMESTAMP"</span><span class="p">,</span> <span class="n">timestamp</span><span class="p">)</span>
    <span class="n">req</span><span class="o">.</span><span class="n">Header</span><span class="o">.</span><span class="n">Set</span><span class="p">(</span><span class="s">"UZX-ACCESS-PASSPHRASE"</span><span class="p">,</span> <span class="n">Passphrase</span><span class="p">)</span>

    <span class="n">client</span> <span class="o">:=</span> <span class="o">&amp;</span><span class="n">http</span><span class="o">.</span><span class="n">Client</span><span class="p">{}</span>
    <span class="n">resp</span><span class="p">,</span> <span class="n">err</span> <span class="o">:=</span> <span class="n">client</span><span class="o">.</span><span class="n">Do</span><span class="p">(</span><span class="n">req</span><span class="p">)</span>
    <span class="k">if</span> <span class="n">err</span> <span class="o">!=</span> <span class="no">nil</span> <span class="p">{</span>
        <span class="nb">panic</span><span class="p">(</span><span class="n">err</span><span class="p">)</span>
    <span class="p">}</span>
    <span class="k">defer</span> <span class="n">resp</span><span class="o">.</span><span class="n">Body</span><span class="o">.</span><span class="n">Close</span><span class="p">()</span>
    <span class="n">bodyResp</span><span class="p">,</span> <span class="n">_</span> <span class="o">:=</span> <span class="n">ioutil</span><span class="o">.</span><span class="n">ReadAll</span><span class="p">(</span><span class="n">resp</span><span class="o">.</span><span class="n">Body</span><span class="p">)</span>
    <span class="n">fmt</span><span class="o">.</span><span class="n">Println</span><span class="p">(</span><span class="n">resp</span><span class="o">.</span><span class="n">StatusCode</span><span class="p">,</span> <span class="kt">string</span><span class="p">(</span><span class="n">bodyResp</span><span class="p">))</span>
<span class="p">}</span>

<span class="k">func</span> <span class="n">main</span><span class="p">()</span> <span class="p">{</span>
    <span class="n">testPutApi</span><span class="p">()</span>
<span class="p">}</span>
</code></pre></div>
<table><thead>
<tr>
<th>Name</th>
<th>Location</th>
<th>Type</th>
<th>Required</th>
<th>Description</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>body</td>
<td>body</td>
<td>object</td>
<td>No</td>
<td></td>
<td></td>
</tr>
<tr>
<td>» product_name</td>
<td>body</td>
<td>string</td>
<td>Yes</td>
<td>Product name</td>
<td></td>
</tr>
<tr>
<td>» leverage</td>
<td>body</td>
<td>integer</td>
<td>Yes</td>
<td>New leverage</td>
<td></td>
</tr>
<tr>
<td>» pos_side</td>
<td>body</td>
<td>string</td>
<td>Yes</td>
<td>Position direction</td>
<td>LG for long, ST for short</td>
</tr>
<tr>
<td>» mgn_mode</td>
<td>body</td>
<td>integer</td>
<td>Yes</td>
<td>Margin mode</td>
<td>1 for isolated, 2 for cross</td>
</tr>
</tbody></table>
<h4 id='a222a51etrhp'>Response Parameters</h4>
<blockquote>
<p>Response Example</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"code"</span><span class="p">:</span><span class="w"> </span><span class="mi">200</span><span class="p">,</span><span class="w">
  </span><span class="nl">"msg"</span><span class="p">:</span><span class="w"> </span><span class="s2">"string"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">{}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<table><thead>
<tr>
<th>Name</th>
<th>Type</th>
<th>Required</th>
<th>Explanation</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>code</td>
<td>integer</td>
<td>true</td>
<td>Status code</td>
<td></td>
</tr>
<tr>
<td>msg</td>
<td>string</td>
<td>true</td>
<td>Description</td>
<td></td>
</tr>
<tr>
<td>data</td>
<td>object</td>
<td>false</td>
<td>Response payload</td>
<td></td>
</tr>
</tbody></table>
<h3 id='458151dfyuih'>Adjust Swap Position Margin</h3><h4 id='e5e4e37d2mkt'>Rate Limit: 3 requests per second</h4><h4 id='59ff88c8luza'>HTTP Request</h4>
<p><code>PUT /v2/trade/swap/position/margin-balance</code></p>
<h4 id='22da1a05n623'>Request Parameters</h4>
<blockquote>
<p>Request Example</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"product_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BTCUSDT"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"add"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"pos_side"</span><span class="p">:</span><span class="w"> </span><span class="s2">"LG"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"amount"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div><div class="highlight"><pre class="highlight java tab-java"><code><span class="kn">import</span> <span class="nn">javax.crypto.Mac</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">javax.crypto.spec.SecretKeySpec</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">java.io.BufferedReader</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">java.io.InputStreamReader</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">java.io.OutputStream</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">java.net.HttpURLConnection</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">java.net.URL</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">java.nio.charset.StandardCharsets</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">java.util.Base64</span><span class="o">;</span>

<span class="kd">public</span> <span class="kd">class</span> <span class="nc">TestCase</span> <span class="o">{</span>
    <span class="kd">public</span> <span class="kd">static</span> <span class="nc">String</span> <span class="n">host</span> <span class="o">=</span> <span class="s">"https://api-v2.uzx.com"</span><span class="o">;</span>
    <span class="kd">public</span> <span class="kd">static</span> <span class="nc">String</span> <span class="no">UZXACCESSKEY2</span> <span class="o">=</span> <span class="s">"{APIKey}"</span><span class="o">;</span>
    <span class="kd">public</span> <span class="kd">static</span> <span class="nc">String</span> <span class="no">UZXACCESSSECRET2</span> <span class="o">=</span> <span class="s">"{SecretKey}"</span><span class="o">;</span>
    <span class="kd">public</span> <span class="kd">static</span> <span class="nc">String</span> <span class="no">UZXACCESSPASSPHRASE2</span> <span class="o">=</span> <span class="s">"{Passphrase}"</span><span class="o">;</span>

    <span class="kd">public</span> <span class="kd">enum</span> <span class="nc">HmacAlgorithmEnum</span> <span class="o">{</span>
        <span class="no">HMAC_SHA_256</span><span class="o">(</span><span class="s">"HmacSHA256"</span><span class="o">),</span>
        <span class="no">HMAC_SHA_512</span><span class="o">(</span><span class="s">"HmacSHA512"</span><span class="o">);</span>

        <span class="kd">private</span> <span class="kd">final</span> <span class="nc">String</span> <span class="n">algorithmName</span><span class="o">;</span>

        <span class="nc">HmacAlgorithmEnum</span><span class="o">(</span><span class="nc">String</span> <span class="n">algorithmName</span><span class="o">)</span> <span class="o">{</span>
            <span class="k">this</span><span class="o">.</span><span class="na">algorithmName</span> <span class="o">=</span> <span class="n">algorithmName</span><span class="o">;</span>
        <span class="o">}</span>

        <span class="kd">public</span> <span class="nc">String</span> <span class="nf">getAlgorithmName</span><span class="o">()</span> <span class="o">{</span>
            <span class="k">return</span> <span class="n">algorithmName</span><span class="o">;</span>
        <span class="o">}</span>
    <span class="o">}</span>

    <span class="kd">public</span> <span class="kd">static</span> <span class="nc">String</span> <span class="nf">generate</span><span class="o">(</span><span class="nc">String</span> <span class="n">timestamp</span><span class="o">,</span> <span class="nc">String</span> <span class="n">method</span><span class="o">,</span> <span class="nc">String</span> <span class="n">requestPath</span><span class="o">,</span>
                                 <span class="nc">String</span> <span class="n">queryString</span><span class="o">,</span> <span class="nc">String</span> <span class="n">body</span><span class="o">,</span> <span class="nc">String</span> <span class="n">secret</span><span class="o">,</span>
                                 <span class="nc">HmacAlgorithmEnum</span> <span class="n">algorithm</span><span class="o">)</span> <span class="kd">throws</span> <span class="nc">Exception</span> <span class="o">{</span>
        <span class="nc">String</span> <span class="n">data</span> <span class="o">=</span> <span class="n">timestamp</span> <span class="o">+</span> <span class="n">method</span> <span class="o">+</span> <span class="n">requestPath</span> <span class="o">+</span> <span class="o">(</span><span class="n">queryString</span> <span class="o">!=</span> <span class="kc">null</span> <span class="o">?</span> <span class="n">queryString</span> <span class="o">:</span> <span class="s">""</span><span class="o">)</span> <span class="o">+</span> <span class="n">body</span><span class="o">;</span>

        <span class="nc">Mac</span> <span class="n">mac</span> <span class="o">=</span> <span class="nc">Mac</span><span class="o">.</span><span class="na">getInstance</span><span class="o">(</span><span class="n">algorithm</span><span class="o">.</span><span class="na">getAlgorithmName</span><span class="o">());</span>
        <span class="nc">SecretKeySpec</span> <span class="n">secretKeySpec</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">SecretKeySpec</span><span class="o">(</span><span class="n">secret</span><span class="o">.</span><span class="na">getBytes</span><span class="o">(</span><span class="nc">StandardCharsets</span><span class="o">.</span><span class="na">UTF_8</span><span class="o">),</span> <span class="n">algorithm</span><span class="o">.</span><span class="na">getAlgorithmName</span><span class="o">());</span>
        <span class="n">mac</span><span class="o">.</span><span class="na">init</span><span class="o">(</span><span class="n">secretKeySpec</span><span class="o">);</span>

        <span class="kt">byte</span><span class="o">[]</span> <span class="n">hash</span> <span class="o">=</span> <span class="n">mac</span><span class="o">.</span><span class="na">doFinal</span><span class="o">(</span><span class="n">data</span><span class="o">.</span><span class="na">getBytes</span><span class="o">(</span><span class="nc">StandardCharsets</span><span class="o">.</span><span class="na">UTF_8</span><span class="o">));</span>
        <span class="k">return</span> <span class="nc">Base64</span><span class="o">.</span><span class="na">getEncoder</span><span class="o">().</span><span class="na">encodeToString</span><span class="o">(</span><span class="n">hash</span><span class="o">);</span>
    <span class="o">}</span>

    <span class="kd">public</span> <span class="kd">static</span> <span class="kt">void</span> <span class="nf">testPutApi</span><span class="o">()</span> <span class="kd">throws</span> <span class="nc">Exception</span> <span class="o">{</span>
        <span class="nc">String</span> <span class="n">timestamp</span> <span class="o">=</span> <span class="nc">System</span><span class="o">.</span><span class="na">currentTimeMillis</span><span class="o">()</span> <span class="o">/</span> <span class="mi">1000</span> <span class="o">+</span> <span class="s">""</span><span class="o">;</span>
        <span class="nc">String</span> <span class="n">method</span> <span class="o">=</span> <span class="s">"PUT"</span><span class="o">;</span>
        <span class="nc">String</span> <span class="n">requestPath</span> <span class="o">=</span> <span class="s">"/v2/trade/swap/position/margin-balance"</span><span class="o">;</span>
        <span class="nc">String</span> <span class="n">body</span> <span class="o">=</span> <span class="s">"{\"product_name\":\"BTCUSDT\",\"type\":\"add\",\"pos_side\":\"LG\",\"amount\":\"1\"}"</span><span class="o">;</span>
        <span class="nc">String</span> <span class="n">data</span> <span class="o">=</span> <span class="n">timestamp</span> <span class="o">+</span> <span class="n">method</span> <span class="o">+</span> <span class="n">requestPath</span> <span class="o">+</span> <span class="n">body</span><span class="o">;</span>
        <span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="n">data</span><span class="o">);</span>

        <span class="nc">String</span> <span class="n">signature</span> <span class="o">=</span> <span class="n">generate</span><span class="o">(</span><span class="n">timestamp</span><span class="o">,</span> <span class="n">method</span><span class="o">,</span> <span class="n">requestPath</span><span class="o">,</span> <span class="kc">null</span><span class="o">,</span> <span class="n">body</span><span class="o">,</span> <span class="no">UZXACCESSSECRET2</span><span class="o">,</span> <span class="nc">HmacAlgorithmEnum</span><span class="o">.</span><span class="na">HMAC_SHA_256</span><span class="o">);</span>
        <span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="n">signature</span><span class="o">);</span>

        <span class="no">URL</span> <span class="n">url</span> <span class="o">=</span> <span class="k">new</span> <span class="no">URL</span><span class="o">(</span><span class="n">host</span> <span class="o">+</span> <span class="n">requestPath</span><span class="o">);</span>
        <span class="nc">HttpURLConnection</span> <span class="n">conn</span> <span class="o">=</span> <span class="o">(</span><span class="nc">HttpURLConnection</span><span class="o">)</span> <span class="n">url</span><span class="o">.</span><span class="na">openConnection</span><span class="o">();</span>
        <span class="n">conn</span><span class="o">.</span><span class="na">setRequestMethod</span><span class="o">(</span><span class="s">"PUT"</span><span class="o">);</span>
        <span class="n">conn</span><span class="o">.</span><span class="na">setRequestProperty</span><span class="o">(</span><span class="s">"Content-Type"</span><span class="o">,</span> <span class="s">"application/json"</span><span class="o">);</span>
        <span class="n">conn</span><span class="o">.</span><span class="na">setRequestProperty</span><span class="o">(</span><span class="s">"UZX-ACCESS-KEY"</span><span class="o">,</span> <span class="no">UZXACCESSKEY2</span><span class="o">);</span>
        <span class="n">conn</span><span class="o">.</span><span class="na">setRequestProperty</span><span class="o">(</span><span class="s">"UZX-ACCESS-SIGN"</span><span class="o">,</span> <span class="n">signature</span><span class="o">);</span>
        <span class="n">conn</span><span class="o">.</span><span class="na">setRequestProperty</span><span class="o">(</span><span class="s">"UZX-ACCESS-TIMESTAMP"</span><span class="o">,</span> <span class="n">timestamp</span><span class="o">);</span>
        <span class="n">conn</span><span class="o">.</span><span class="na">setRequestProperty</span><span class="o">(</span><span class="s">"UZX-ACCESS-PASSPHRASE"</span><span class="o">,</span> <span class="no">UZXACCESSPASSPHRASE2</span><span class="o">);</span>
        <span class="n">conn</span><span class="o">.</span><span class="na">setDoOutput</span><span class="o">(</span><span class="kc">true</span><span class="o">);</span>

        <span class="k">try</span> <span class="o">(</span><span class="nc">OutputStream</span> <span class="n">os</span> <span class="o">=</span> <span class="n">conn</span><span class="o">.</span><span class="na">getOutputStream</span><span class="o">())</span> <span class="o">{</span>
            <span class="kt">byte</span><span class="o">[]</span> <span class="n">input</span> <span class="o">=</span> <span class="n">body</span><span class="o">.</span><span class="na">getBytes</span><span class="o">(</span><span class="nc">StandardCharsets</span><span class="o">.</span><span class="na">UTF_8</span><span class="o">);</span>
            <span class="n">os</span><span class="o">.</span><span class="na">write</span><span class="o">(</span><span class="n">input</span><span class="o">,</span> <span class="mi">0</span><span class="o">,</span> <span class="n">input</span><span class="o">.</span><span class="na">length</span><span class="o">);</span>
        <span class="o">}</span>

        <span class="k">try</span> <span class="o">(</span><span class="nc">BufferedReader</span> <span class="n">br</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">BufferedReader</span><span class="o">(</span>
                <span class="k">new</span> <span class="nf">InputStreamReader</span><span class="o">(</span><span class="n">conn</span><span class="o">.</span><span class="na">getInputStream</span><span class="o">(),</span> <span class="nc">StandardCharsets</span><span class="o">.</span><span class="na">UTF_8</span><span class="o">)))</span> <span class="o">{</span>
            <span class="nc">StringBuilder</span> <span class="n">response</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">StringBuilder</span><span class="o">();</span>
            <span class="nc">String</span> <span class="n">responseLine</span><span class="o">;</span>
            <span class="k">while</span> <span class="o">((</span><span class="n">responseLine</span> <span class="o">=</span> <span class="n">br</span><span class="o">.</span><span class="na">readLine</span><span class="o">())</span> <span class="o">!=</span> <span class="kc">null</span><span class="o">)</span> <span class="o">{</span>
                <span class="n">response</span><span class="o">.</span><span class="na">append</span><span class="o">(</span><span class="n">responseLine</span><span class="o">.</span><span class="na">trim</span><span class="o">());</span>
            <span class="o">}</span>
            <span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="n">response</span><span class="o">.</span><span class="na">toString</span><span class="o">());</span>
        <span class="o">}</span>
    <span class="o">}</span>

    <span class="kd">public</span> <span class="kd">static</span> <span class="kt">void</span> <span class="nf">main</span><span class="o">(</span><span class="nc">String</span><span class="o">[]</span> <span class="n">args</span><span class="o">)</span> <span class="o">{</span>
        <span class="k">try</span> <span class="o">{</span>
            <span class="n">testPutApi</span><span class="o">();</span>
        <span class="o">}</span> <span class="k">catch</span> <span class="o">(</span><span class="nc">Exception</span> <span class="n">e</span><span class="o">)</span> <span class="o">{</span>
            <span class="n">e</span><span class="o">.</span><span class="na">printStackTrace</span><span class="o">();</span>
        <span class="o">}</span>
    <span class="o">}</span>
<span class="o">}</span>

</code></pre></div><div class="highlight"><pre class="highlight python tab-python"><code><span class="kn">import</span> <span class="nn">time</span>
<span class="kn">import</span> <span class="nn">hmac</span>
<span class="kn">import</span> <span class="nn">hashlib</span>
<span class="kn">import</span> <span class="nn">base64</span>
<span class="kn">import</span> <span class="nn">requests</span>
<span class="kn">import</span> <span class="nn">json</span>

<span class="n">host</span> <span class="o">=</span> <span class="s">"https://api-v2.uzx.com"</span>
<span class="n">APIKey</span> <span class="o">=</span> <span class="s">"{APIKey}"</span>
<span class="n">SecretKey</span> <span class="o">=</span> <span class="s">"{SecretKey}"</span>
<span class="n">Passphrase</span> <span class="o">=</span> <span class="s">"{Passphrase}"</span>

<span class="k">def</span> <span class="nf">generate_signature</span><span class="p">(</span><span class="n">timestamp</span><span class="p">,</span> <span class="n">method</span><span class="p">,</span> <span class="n">path</span><span class="p">,</span> <span class="n">query</span><span class="p">,</span> <span class="n">body</span><span class="p">,</span> <span class="n">secret</span><span class="p">):</span>
    <span class="n">query</span> <span class="o">=</span> <span class="s">'?'</span> <span class="o">+</span> <span class="n">query</span> <span class="k">if</span> <span class="n">query</span> <span class="k">else</span> <span class="s">''</span>
    <span class="n">body</span> <span class="o">=</span> <span class="n">body</span> <span class="k">if</span> <span class="n">body</span> <span class="k">else</span> <span class="s">''</span>
    <span class="n">prehash</span> <span class="o">=</span> <span class="sa">f</span><span class="s">"</span><span class="si">{</span><span class="n">timestamp</span><span class="si">}{</span><span class="n">method</span><span class="p">.</span><span class="n">upper</span><span class="p">()</span><span class="si">}{</span><span class="n">path</span><span class="si">}{</span><span class="n">query</span><span class="si">}{</span><span class="n">body</span><span class="si">}</span><span class="s">"</span>
    <span class="n">signature</span> <span class="o">=</span> <span class="n">hmac</span><span class="p">.</span><span class="n">new</span><span class="p">(</span><span class="n">secret</span><span class="p">.</span><span class="n">encode</span><span class="p">(),</span> <span class="n">prehash</span><span class="p">.</span><span class="n">encode</span><span class="p">(),</span> <span class="n">hashlib</span><span class="p">.</span><span class="n">sha256</span><span class="p">).</span><span class="n">digest</span><span class="p">()</span>
    <span class="k">return</span> <span class="n">base64</span><span class="p">.</span><span class="n">b64encode</span><span class="p">(</span><span class="n">signature</span><span class="p">).</span><span class="n">decode</span><span class="p">()</span>

<span class="k">def</span> <span class="nf">test_put_api</span><span class="p">():</span>
    <span class="n">timestamp</span> <span class="o">=</span> <span class="nb">str</span><span class="p">(</span><span class="nb">int</span><span class="p">(</span><span class="n">time</span><span class="p">.</span><span class="n">time</span><span class="p">()))</span>
    <span class="n">method</span> <span class="o">=</span> <span class="s">"PUT"</span>
    <span class="n">path</span> <span class="o">=</span> <span class="s">"/v2/trade/swap/position/margin-balance"</span>
    <span class="n">body</span> <span class="o">=</span> <span class="p">{</span>
      <span class="s">"product_name"</span><span class="p">:</span> <span class="s">"BTCUSDT"</span><span class="p">,</span>
      <span class="s">"type"</span><span class="p">:</span> <span class="s">"add"</span><span class="p">,</span>
      <span class="s">"pos_side"</span><span class="p">:</span> <span class="s">"LG"</span><span class="p">,</span>
      <span class="s">"amount"</span><span class="p">:</span> <span class="s">"1"</span>
    <span class="p">}</span>
    <span class="n">body_str</span> <span class="o">=</span> <span class="n">json</span><span class="p">.</span><span class="n">dumps</span><span class="p">(</span><span class="n">body</span><span class="p">,</span> <span class="n">separators</span><span class="o">=</span><span class="p">(</span><span class="s">','</span><span class="p">,</span> <span class="s">':'</span><span class="p">))</span> 
    <span class="n">signature</span> <span class="o">=</span> <span class="n">generate_signature</span><span class="p">(</span><span class="n">timestamp</span><span class="p">,</span> <span class="n">method</span><span class="p">,</span> <span class="n">path</span><span class="p">,</span> <span class="bp">None</span><span class="p">,</span> <span class="n">body_str</span><span class="p">,</span> <span class="n">SecretKey</span><span class="p">)</span>

    <span class="n">headers</span> <span class="o">=</span> <span class="p">{</span>
        <span class="s">"UZX-ACCESS-KEY"</span><span class="p">:</span> <span class="n">APIKey</span><span class="p">,</span>
        <span class="s">"UZX-ACCESS-SIGN"</span><span class="p">:</span> <span class="n">signature</span><span class="p">,</span>
        <span class="s">"UZX-ACCESS-TIMESTAMP"</span><span class="p">:</span> <span class="n">timestamp</span><span class="p">,</span>
        <span class="s">"UZX-ACCESS-PASSPHRASE"</span><span class="p">:</span> <span class="n">Passphrase</span><span class="p">,</span>
        <span class="s">"Content-Type"</span><span class="p">:</span> <span class="s">"application/json"</span>
    <span class="p">}</span>

    <span class="n">resp</span> <span class="o">=</span> <span class="n">requests</span><span class="p">.</span><span class="n">put</span><span class="p">(</span><span class="n">host</span> <span class="o">+</span> <span class="n">path</span><span class="p">,</span> <span class="n">headers</span><span class="o">=</span><span class="n">headers</span><span class="p">,</span> <span class="n">data</span><span class="o">=</span><span class="n">body_str</span><span class="p">)</span>
    <span class="k">print</span><span class="p">(</span><span class="n">resp</span><span class="p">.</span><span class="n">status_code</span><span class="p">,</span> <span class="n">resp</span><span class="p">.</span><span class="n">text</span><span class="p">)</span>

<span class="n">test_put_api</span><span class="p">()</span>

</code></pre></div><div class="highlight"><pre class="highlight go tab-go"><code><span class="k">package</span> <span class="n">main</span>

<span class="k">import</span> <span class="p">(</span>
    <span class="s">"bytes"</span>
    <span class="s">"crypto/hmac"</span>
    <span class="s">"crypto/sha256"</span>
    <span class="s">"encoding/base64"</span>
    <span class="s">"fmt"</span>
    <span class="s">"net/http"</span>
    <span class="s">"time"</span>
    <span class="s">"strings"</span>
    <span class="s">"io/ioutil"</span>
<span class="p">)</span>

<span class="k">const</span> <span class="p">(</span>
    <span class="n">host</span>       <span class="o">=</span> <span class="s">"https://api-v2.uzx.com"</span>
    <span class="n">APIKey</span>     <span class="o">=</span> <span class="s">"{APIKey}"</span>
    <span class="n">SecretKey</span>  <span class="o">=</span> <span class="s">"{SecretKey}"</span>
    <span class="n">Passphrase</span> <span class="o">=</span> <span class="s">"{Passphrase}"</span>
<span class="p">)</span>

<span class="k">func</span> <span class="n">generateSignature</span><span class="p">(</span><span class="n">timestamp</span><span class="p">,</span> <span class="n">method</span><span class="p">,</span> <span class="n">path</span><span class="p">,</span> <span class="n">query</span><span class="p">,</span> <span class="n">body</span><span class="p">,</span> <span class="n">secret</span> <span class="kt">string</span><span class="p">)</span> <span class="kt">string</span> <span class="p">{</span>
    <span class="k">if</span> <span class="n">query</span> <span class="o">!=</span> <span class="s">""</span> <span class="p">{</span>
        <span class="n">query</span> <span class="o">=</span> <span class="s">"?"</span> <span class="o">+</span> <span class="n">query</span>
    <span class="p">}</span>
    <span class="n">preHash</span> <span class="o">:=</span> <span class="n">timestamp</span> <span class="o">+</span> <span class="n">strings</span><span class="o">.</span><span class="n">ToUpper</span><span class="p">(</span><span class="n">method</span><span class="p">)</span> <span class="o">+</span> <span class="n">path</span> <span class="o">+</span> <span class="n">query</span> <span class="o">+</span> <span class="n">body</span>
    <span class="n">mac</span> <span class="o">:=</span> <span class="n">hmac</span><span class="o">.</span><span class="n">New</span><span class="p">(</span><span class="n">sha256</span><span class="o">.</span><span class="n">New</span><span class="p">,</span> <span class="p">[]</span><span class="kt">byte</span><span class="p">(</span><span class="n">secret</span><span class="p">))</span>
    <span class="n">mac</span><span class="o">.</span><span class="n">Write</span><span class="p">([]</span><span class="kt">byte</span><span class="p">(</span><span class="n">preHash</span><span class="p">))</span>
    <span class="k">return</span> <span class="n">base64</span><span class="o">.</span><span class="n">StdEncoding</span><span class="o">.</span><span class="n">EncodeToString</span><span class="p">(</span><span class="n">mac</span><span class="o">.</span><span class="n">Sum</span><span class="p">(</span><span class="no">nil</span><span class="p">))</span>
<span class="p">}</span>

<span class="k">func</span> <span class="n">testPutApi</span><span class="p">()</span> <span class="p">{</span>
    <span class="n">timestamp</span> <span class="o">:=</span> <span class="n">fmt</span><span class="o">.</span><span class="n">Sprintf</span><span class="p">(</span><span class="s">"%d"</span><span class="p">,</span> <span class="n">time</span><span class="o">.</span><span class="n">Now</span><span class="p">()</span><span class="o">.</span><span class="n">Unix</span><span class="p">())</span>
    <span class="n">method</span> <span class="o">:=</span> <span class="s">"PUT"</span>
    <span class="n">path</span> <span class="o">:=</span> <span class="s">"/v2/trade/swap/position/margin-balance"</span>
    <span class="n">body</span> <span class="o">:=</span> <span class="s">`{"product_name":"BTCUSDT","type":"add","pos_side":"LG","amount":"1"}`</span>
    <span class="n">signature</span> <span class="o">:=</span> <span class="n">generateSignature</span><span class="p">(</span><span class="n">timestamp</span><span class="p">,</span> <span class="n">method</span><span class="p">,</span> <span class="n">path</span><span class="p">,</span> <span class="s">""</span><span class="p">,</span> <span class="n">body</span><span class="p">,</span> <span class="n">SecretKey</span><span class="p">)</span>

    <span class="n">req</span><span class="p">,</span> <span class="n">err</span> <span class="o">:=</span> <span class="n">http</span><span class="o">.</span><span class="n">NewRequest</span><span class="p">(</span><span class="n">method</span><span class="p">,</span> <span class="n">host</span><span class="o">+</span><span class="n">path</span><span class="p">,</span> <span class="n">bytes</span><span class="o">.</span><span class="n">NewBuffer</span><span class="p">([]</span><span class="kt">byte</span><span class="p">(</span><span class="n">body</span><span class="p">)))</span>
    <span class="k">if</span> <span class="n">err</span> <span class="o">!=</span> <span class="no">nil</span> <span class="p">{</span>
        <span class="nb">panic</span><span class="p">(</span><span class="n">err</span><span class="p">)</span>
    <span class="p">}</span>

    <span class="n">req</span><span class="o">.</span><span class="n">Header</span><span class="o">.</span><span class="n">Set</span><span class="p">(</span><span class="s">"Content-Type"</span><span class="p">,</span> <span class="s">"application/json"</span><span class="p">)</span>
    <span class="n">req</span><span class="o">.</span><span class="n">Header</span><span class="o">.</span><span class="n">Set</span><span class="p">(</span><span class="s">"UZX-ACCESS-KEY"</span><span class="p">,</span> <span class="n">APIKey</span><span class="p">)</span>
    <span class="n">req</span><span class="o">.</span><span class="n">Header</span><span class="o">.</span><span class="n">Set</span><span class="p">(</span><span class="s">"UZX-ACCESS-SIGN"</span><span class="p">,</span> <span class="n">signature</span><span class="p">)</span>
    <span class="n">req</span><span class="o">.</span><span class="n">Header</span><span class="o">.</span><span class="n">Set</span><span class="p">(</span><span class="s">"UZX-ACCESS-TIMESTAMP"</span><span class="p">,</span> <span class="n">timestamp</span><span class="p">)</span>
    <span class="n">req</span><span class="o">.</span><span class="n">Header</span><span class="o">.</span><span class="n">Set</span><span class="p">(</span><span class="s">"UZX-ACCESS-PASSPHRASE"</span><span class="p">,</span> <span class="n">Passphrase</span><span class="p">)</span>

    <span class="n">client</span> <span class="o">:=</span> <span class="o">&amp;</span><span class="n">http</span><span class="o">.</span><span class="n">Client</span><span class="p">{}</span>
    <span class="n">resp</span><span class="p">,</span> <span class="n">err</span> <span class="o">:=</span> <span class="n">client</span><span class="o">.</span><span class="n">Do</span><span class="p">(</span><span class="n">req</span><span class="p">)</span>
    <span class="k">if</span> <span class="n">err</span> <span class="o">!=</span> <span class="no">nil</span> <span class="p">{</span>
        <span class="nb">panic</span><span class="p">(</span><span class="n">err</span><span class="p">)</span>
    <span class="p">}</span>
    <span class="k">defer</span> <span class="n">resp</span><span class="o">.</span><span class="n">Body</span><span class="o">.</span><span class="n">Close</span><span class="p">()</span>
    <span class="n">bodyResp</span><span class="p">,</span> <span class="n">_</span> <span class="o">:=</span> <span class="n">ioutil</span><span class="o">.</span><span class="n">ReadAll</span><span class="p">(</span><span class="n">resp</span><span class="o">.</span><span class="n">Body</span><span class="p">)</span>
    <span class="n">fmt</span><span class="o">.</span><span class="n">Println</span><span class="p">(</span><span class="n">resp</span><span class="o">.</span><span class="n">StatusCode</span><span class="p">,</span> <span class="kt">string</span><span class="p">(</span><span class="n">bodyResp</span><span class="p">))</span>
<span class="p">}</span>

<span class="k">func</span> <span class="n">main</span><span class="p">()</span> <span class="p">{</span>
    <span class="n">testPutApi</span><span class="p">()</span>
<span class="p">}</span>
</code></pre></div>
<table><thead>
<tr>
<th>Name</th>
<th>Location</th>
<th>Type</th>
<th>Required</th>
<th>Description</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>body</td>
<td>body</td>
<td>object</td>
<td>No</td>
<td></td>
<td></td>
</tr>
<tr>
<td>» product_name</td>
<td>body</td>
<td>string</td>
<td>Yes</td>
<td>Product name</td>
<td></td>
</tr>
<tr>
<td>» type</td>
<td>body</td>
<td>string</td>
<td>Yes</td>
<td>Type</td>
<td>add for increase, reduce for decrease</td>
</tr>
<tr>
<td>» amount</td>
<td>body</td>
<td>string</td>
<td>Yes</td>
<td>Margin amount</td>
<td></td>
</tr>
<tr>
<td>» pos_side</td>
<td>body</td>
<td>string</td>
<td>Yes</td>
<td>Position direction</td>
<td>LG for long, ST for short</td>
</tr>
</tbody></table>
<h4 id='a222a51e2212'>Response Parameters</h4>
<blockquote>
<p>Response Example</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"code"</span><span class="p">:</span><span class="w"> </span><span class="mi">200</span><span class="p">,</span><span class="w">
  </span><span class="nl">"msg"</span><span class="p">:</span><span class="w"> </span><span class="s2">"string"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">{}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<table><thead>
<tr>
<th>Name</th>
<th>Type</th>
<th>Required</th>
<th>Explanation</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>code</td>
<td>integer</td>
<td>true</td>
<td>Status code</td>
<td></td>
</tr>
<tr>
<td>msg</td>
<td>string</td>
<td>true</td>
<td>Description</td>
<td></td>
</tr>
<tr>
<td>data</td>
<td>object</td>
<td>false</td>
<td>Response payload</td>
<td></td>
</tr>
</tbody></table>
<h3 id='7186362eb352'>Modify Swap User Leverage Configuration</h3><h4 id='e5e4e37dke9t'>Rate Limit: 3 requests per second</h4><h4 id='59ff88c8diqg'>HTTP Request</h4>
<p><code>PUT /v2/trade/swap/config/set-leverage</code></p>
<h4 id='22da1a053b09'>Request Parameters</h4>
<p><strong>Note</strong>:
- If <code>pos_mode</code> is <code>1</code>, both <code>long_leverage</code> and <code>short_leverage</code> must be provided.
- If <code>pos_mode</code> is <code>2</code>, <code>one_way_leverage</code> must be provided.</p>

<blockquote>
<p>Request Example</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"product_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BTCUSDT"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"long_leverage"</span><span class="p">:</span><span class="w"> </span><span class="mi">5</span><span class="p">,</span><span class="w">
  </span><span class="nl">"short_leverage"</span><span class="p">:</span><span class="w"> </span><span class="mi">5</span><span class="p">,</span><span class="w">
  </span><span class="nl">"one_way_leverage"</span><span class="p">:</span><span class="w"> </span><span class="mi">5</span><span class="p">,</span><span class="w">
  </span><span class="nl">"pos_mode"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
  </span><span class="nl">"mgn_mode"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div><div class="highlight"><pre class="highlight java tab-java"><code><span class="kn">import</span> <span class="nn">javax.crypto.Mac</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">javax.crypto.spec.SecretKeySpec</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">java.io.BufferedReader</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">java.io.InputStreamReader</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">java.io.OutputStream</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">java.net.HttpURLConnection</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">java.net.URL</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">java.nio.charset.StandardCharsets</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">java.util.Base64</span><span class="o">;</span>

<span class="kd">public</span> <span class="kd">class</span> <span class="nc">TestCase</span> <span class="o">{</span>
    <span class="kd">public</span> <span class="kd">static</span> <span class="nc">String</span> <span class="n">host</span> <span class="o">=</span> <span class="s">"https://api-v2.uzx.com"</span><span class="o">;</span>
    <span class="kd">public</span> <span class="kd">static</span> <span class="nc">String</span> <span class="no">UZXACCESSKEY2</span> <span class="o">=</span> <span class="s">"{APIKey}"</span><span class="o">;</span>
    <span class="kd">public</span> <span class="kd">static</span> <span class="nc">String</span> <span class="no">UZXACCESSSECRET2</span> <span class="o">=</span> <span class="s">"{SecretKey}"</span><span class="o">;</span>
    <span class="kd">public</span> <span class="kd">static</span> <span class="nc">String</span> <span class="no">UZXACCESSPASSPHRASE2</span> <span class="o">=</span> <span class="s">"{Passphrase}"</span><span class="o">;</span>

    <span class="kd">public</span> <span class="kd">enum</span> <span class="nc">HmacAlgorithmEnum</span> <span class="o">{</span>
        <span class="no">HMAC_SHA_256</span><span class="o">(</span><span class="s">"HmacSHA256"</span><span class="o">),</span>
        <span class="no">HMAC_SHA_512</span><span class="o">(</span><span class="s">"HmacSHA512"</span><span class="o">);</span>

        <span class="kd">private</span> <span class="kd">final</span> <span class="nc">String</span> <span class="n">algorithmName</span><span class="o">;</span>

        <span class="nc">HmacAlgorithmEnum</span><span class="o">(</span><span class="nc">String</span> <span class="n">algorithmName</span><span class="o">)</span> <span class="o">{</span>
            <span class="k">this</span><span class="o">.</span><span class="na">algorithmName</span> <span class="o">=</span> <span class="n">algorithmName</span><span class="o">;</span>
        <span class="o">}</span>

        <span class="kd">public</span> <span class="nc">String</span> <span class="nf">getAlgorithmName</span><span class="o">()</span> <span class="o">{</span>
            <span class="k">return</span> <span class="n">algorithmName</span><span class="o">;</span>
        <span class="o">}</span>
    <span class="o">}</span>

    <span class="kd">public</span> <span class="kd">static</span> <span class="nc">String</span> <span class="nf">generate</span><span class="o">(</span><span class="nc">String</span> <span class="n">timestamp</span><span class="o">,</span> <span class="nc">String</span> <span class="n">method</span><span class="o">,</span> <span class="nc">String</span> <span class="n">requestPath</span><span class="o">,</span>
                                 <span class="nc">String</span> <span class="n">queryString</span><span class="o">,</span> <span class="nc">String</span> <span class="n">body</span><span class="o">,</span> <span class="nc">String</span> <span class="n">secret</span><span class="o">,</span>
                                 <span class="nc">HmacAlgorithmEnum</span> <span class="n">algorithm</span><span class="o">)</span> <span class="kd">throws</span> <span class="nc">Exception</span> <span class="o">{</span>
        <span class="nc">String</span> <span class="n">data</span> <span class="o">=</span> <span class="n">timestamp</span> <span class="o">+</span> <span class="n">method</span> <span class="o">+</span> <span class="n">requestPath</span> <span class="o">+</span> <span class="o">(</span><span class="n">queryString</span> <span class="o">!=</span> <span class="kc">null</span> <span class="o">?</span> <span class="n">queryString</span> <span class="o">:</span> <span class="s">""</span><span class="o">)</span> <span class="o">+</span> <span class="n">body</span><span class="o">;</span>

        <span class="nc">Mac</span> <span class="n">mac</span> <span class="o">=</span> <span class="nc">Mac</span><span class="o">.</span><span class="na">getInstance</span><span class="o">(</span><span class="n">algorithm</span><span class="o">.</span><span class="na">getAlgorithmName</span><span class="o">());</span>
        <span class="nc">SecretKeySpec</span> <span class="n">secretKeySpec</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">SecretKeySpec</span><span class="o">(</span><span class="n">secret</span><span class="o">.</span><span class="na">getBytes</span><span class="o">(</span><span class="nc">StandardCharsets</span><span class="o">.</span><span class="na">UTF_8</span><span class="o">),</span> <span class="n">algorithm</span><span class="o">.</span><span class="na">getAlgorithmName</span><span class="o">());</span>
        <span class="n">mac</span><span class="o">.</span><span class="na">init</span><span class="o">(</span><span class="n">secretKeySpec</span><span class="o">);</span>

        <span class="kt">byte</span><span class="o">[]</span> <span class="n">hash</span> <span class="o">=</span> <span class="n">mac</span><span class="o">.</span><span class="na">doFinal</span><span class="o">(</span><span class="n">data</span><span class="o">.</span><span class="na">getBytes</span><span class="o">(</span><span class="nc">StandardCharsets</span><span class="o">.</span><span class="na">UTF_8</span><span class="o">));</span>
        <span class="k">return</span> <span class="nc">Base64</span><span class="o">.</span><span class="na">getEncoder</span><span class="o">().</span><span class="na">encodeToString</span><span class="o">(</span><span class="n">hash</span><span class="o">);</span>
    <span class="o">}</span>

    <span class="kd">public</span> <span class="kd">static</span> <span class="kt">void</span> <span class="nf">testPutApi</span><span class="o">()</span> <span class="kd">throws</span> <span class="nc">Exception</span> <span class="o">{</span>
        <span class="nc">String</span> <span class="n">timestamp</span> <span class="o">=</span> <span class="nc">System</span><span class="o">.</span><span class="na">currentTimeMillis</span><span class="o">()</span> <span class="o">/</span> <span class="mi">1000</span> <span class="o">+</span> <span class="s">""</span><span class="o">;</span>
        <span class="nc">String</span> <span class="n">method</span> <span class="o">=</span> <span class="s">"PUT"</span><span class="o">;</span>
        <span class="nc">String</span> <span class="n">requestPath</span> <span class="o">=</span> <span class="s">"/v2/trade/swap/config/set-leverage"</span><span class="o">;</span>
        <span class="nc">String</span> <span class="n">body</span> <span class="o">=</span> <span class="s">"{\"product_name\":\"BTCUSDT\",\"long_leverage\":5,\"short_leverage\":5,\"one_way_leverage\":5,\"pos_mode\":1,\"mgn_mode\":1}"</span><span class="o">;</span>
        <span class="nc">String</span> <span class="n">data</span> <span class="o">=</span> <span class="n">timestamp</span> <span class="o">+</span> <span class="n">method</span> <span class="o">+</span> <span class="n">requestPath</span> <span class="o">+</span> <span class="n">body</span><span class="o">;</span>
        <span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="n">data</span><span class="o">);</span>

        <span class="nc">String</span> <span class="n">signature</span> <span class="o">=</span> <span class="n">generate</span><span class="o">(</span><span class="n">timestamp</span><span class="o">,</span> <span class="n">method</span><span class="o">,</span> <span class="n">requestPath</span><span class="o">,</span> <span class="kc">null</span><span class="o">,</span> <span class="n">body</span><span class="o">,</span> <span class="no">UZXACCESSSECRET2</span><span class="o">,</span> <span class="nc">HmacAlgorithmEnum</span><span class="o">.</span><span class="na">HMAC_SHA_256</span><span class="o">);</span>
        <span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="n">signature</span><span class="o">);</span>

        <span class="no">URL</span> <span class="n">url</span> <span class="o">=</span> <span class="k">new</span> <span class="no">URL</span><span class="o">(</span><span class="n">host</span> <span class="o">+</span> <span class="n">requestPath</span><span class="o">);</span>
        <span class="nc">HttpURLConnection</span> <span class="n">conn</span> <span class="o">=</span> <span class="o">(</span><span class="nc">HttpURLConnection</span><span class="o">)</span> <span class="n">url</span><span class="o">.</span><span class="na">openConnection</span><span class="o">();</span>
        <span class="n">conn</span><span class="o">.</span><span class="na">setRequestMethod</span><span class="o">(</span><span class="s">"PUT"</span><span class="o">);</span>
        <span class="n">conn</span><span class="o">.</span><span class="na">setRequestProperty</span><span class="o">(</span><span class="s">"Content-Type"</span><span class="o">,</span> <span class="s">"application/json"</span><span class="o">);</span>
        <span class="n">conn</span><span class="o">.</span><span class="na">setRequestProperty</span><span class="o">(</span><span class="s">"UZX-ACCESS-KEY"</span><span class="o">,</span> <span class="no">UZXACCESSKEY2</span><span class="o">);</span>
        <span class="n">conn</span><span class="o">.</span><span class="na">setRequestProperty</span><span class="o">(</span><span class="s">"UZX-ACCESS-SIGN"</span><span class="o">,</span> <span class="n">signature</span><span class="o">);</span>
        <span class="n">conn</span><span class="o">.</span><span class="na">setRequestProperty</span><span class="o">(</span><span class="s">"UZX-ACCESS-TIMESTAMP"</span><span class="o">,</span> <span class="n">timestamp</span><span class="o">);</span>
        <span class="n">conn</span><span class="o">.</span><span class="na">setRequestProperty</span><span class="o">(</span><span class="s">"UZX-ACCESS-PASSPHRASE"</span><span class="o">,</span> <span class="no">UZXACCESSPASSPHRASE2</span><span class="o">);</span>
        <span class="n">conn</span><span class="o">.</span><span class="na">setDoOutput</span><span class="o">(</span><span class="kc">true</span><span class="o">);</span>

        <span class="k">try</span> <span class="o">(</span><span class="nc">OutputStream</span> <span class="n">os</span> <span class="o">=</span> <span class="n">conn</span><span class="o">.</span><span class="na">getOutputStream</span><span class="o">())</span> <span class="o">{</span>
            <span class="kt">byte</span><span class="o">[]</span> <span class="n">input</span> <span class="o">=</span> <span class="n">body</span><span class="o">.</span><span class="na">getBytes</span><span class="o">(</span><span class="nc">StandardCharsets</span><span class="o">.</span><span class="na">UTF_8</span><span class="o">);</span>
            <span class="n">os</span><span class="o">.</span><span class="na">write</span><span class="o">(</span><span class="n">input</span><span class="o">,</span> <span class="mi">0</span><span class="o">,</span> <span class="n">input</span><span class="o">.</span><span class="na">length</span><span class="o">);</span>
        <span class="o">}</span>

        <span class="k">try</span> <span class="o">(</span><span class="nc">BufferedReader</span> <span class="n">br</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">BufferedReader</span><span class="o">(</span>
                <span class="k">new</span> <span class="nf">InputStreamReader</span><span class="o">(</span><span class="n">conn</span><span class="o">.</span><span class="na">getInputStream</span><span class="o">(),</span> <span class="nc">StandardCharsets</span><span class="o">.</span><span class="na">UTF_8</span><span class="o">)))</span> <span class="o">{</span>
            <span class="nc">StringBuilder</span> <span class="n">response</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">StringBuilder</span><span class="o">();</span>
            <span class="nc">String</span> <span class="n">responseLine</span><span class="o">;</span>
            <span class="k">while</span> <span class="o">((</span><span class="n">responseLine</span> <span class="o">=</span> <span class="n">br</span><span class="o">.</span><span class="na">readLine</span><span class="o">())</span> <span class="o">!=</span> <span class="kc">null</span><span class="o">)</span> <span class="o">{</span>
                <span class="n">response</span><span class="o">.</span><span class="na">append</span><span class="o">(</span><span class="n">responseLine</span><span class="o">.</span><span class="na">trim</span><span class="o">());</span>
            <span class="o">}</span>
            <span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="n">response</span><span class="o">.</span><span class="na">toString</span><span class="o">());</span>
        <span class="o">}</span>
    <span class="o">}</span>

    <span class="kd">public</span> <span class="kd">static</span> <span class="kt">void</span> <span class="nf">main</span><span class="o">(</span><span class="nc">String</span><span class="o">[]</span> <span class="n">args</span><span class="o">)</span> <span class="o">{</span>
        <span class="k">try</span> <span class="o">{</span>
            <span class="n">testPutApi</span><span class="o">();</span>
        <span class="o">}</span> <span class="k">catch</span> <span class="o">(</span><span class="nc">Exception</span> <span class="n">e</span><span class="o">)</span> <span class="o">{</span>
            <span class="n">e</span><span class="o">.</span><span class="na">printStackTrace</span><span class="o">();</span>
        <span class="o">}</span>
    <span class="o">}</span>
<span class="o">}</span>

</code></pre></div><div class="highlight"><pre class="highlight python tab-python"><code><span class="kn">import</span> <span class="nn">time</span>
<span class="kn">import</span> <span class="nn">hmac</span>
<span class="kn">import</span> <span class="nn">hashlib</span>
<span class="kn">import</span> <span class="nn">base64</span>
<span class="kn">import</span> <span class="nn">requests</span>
<span class="kn">import</span> <span class="nn">json</span>

<span class="n">host</span> <span class="o">=</span> <span class="s">"https://api-v2.uzx.com"</span>
<span class="n">APIKey</span> <span class="o">=</span> <span class="s">"{APIKey}"</span>
<span class="n">SecretKey</span> <span class="o">=</span> <span class="s">"{SecretKey}"</span>
<span class="n">Passphrase</span> <span class="o">=</span> <span class="s">"{Passphrase}"</span>

<span class="k">def</span> <span class="nf">generate_signature</span><span class="p">(</span><span class="n">timestamp</span><span class="p">,</span> <span class="n">method</span><span class="p">,</span> <span class="n">path</span><span class="p">,</span> <span class="n">query</span><span class="p">,</span> <span class="n">body</span><span class="p">,</span> <span class="n">secret</span><span class="p">):</span>
    <span class="n">query</span> <span class="o">=</span> <span class="s">'?'</span> <span class="o">+</span> <span class="n">query</span> <span class="k">if</span> <span class="n">query</span> <span class="k">else</span> <span class="s">''</span>
    <span class="n">body</span> <span class="o">=</span> <span class="n">body</span> <span class="k">if</span> <span class="n">body</span> <span class="k">else</span> <span class="s">''</span>
    <span class="n">prehash</span> <span class="o">=</span> <span class="sa">f</span><span class="s">"</span><span class="si">{</span><span class="n">timestamp</span><span class="si">}{</span><span class="n">method</span><span class="p">.</span><span class="n">upper</span><span class="p">()</span><span class="si">}{</span><span class="n">path</span><span class="si">}{</span><span class="n">query</span><span class="si">}{</span><span class="n">body</span><span class="si">}</span><span class="s">"</span>
    <span class="n">signature</span> <span class="o">=</span> <span class="n">hmac</span><span class="p">.</span><span class="n">new</span><span class="p">(</span><span class="n">secret</span><span class="p">.</span><span class="n">encode</span><span class="p">(),</span> <span class="n">prehash</span><span class="p">.</span><span class="n">encode</span><span class="p">(),</span> <span class="n">hashlib</span><span class="p">.</span><span class="n">sha256</span><span class="p">).</span><span class="n">digest</span><span class="p">()</span>
    <span class="k">return</span> <span class="n">base64</span><span class="p">.</span><span class="n">b64encode</span><span class="p">(</span><span class="n">signature</span><span class="p">).</span><span class="n">decode</span><span class="p">()</span>

<span class="k">def</span> <span class="nf">test_put_api</span><span class="p">():</span>
    <span class="n">timestamp</span> <span class="o">=</span> <span class="nb">str</span><span class="p">(</span><span class="nb">int</span><span class="p">(</span><span class="n">time</span><span class="p">.</span><span class="n">time</span><span class="p">()))</span>
    <span class="n">method</span> <span class="o">=</span> <span class="s">"PUT"</span>
    <span class="n">path</span> <span class="o">=</span> <span class="s">"/v2/trade/swap/config/set-leverage"</span>
    <span class="n">body</span> <span class="o">=</span> <span class="p">{</span>
      <span class="s">"product_name"</span><span class="p">:</span> <span class="s">"BTCUSDT"</span><span class="p">,</span>
      <span class="s">"long_leverage"</span><span class="p">:</span> <span class="mi">5</span><span class="p">,</span>
      <span class="s">"short_leverage"</span><span class="p">:</span> <span class="mi">5</span><span class="p">,</span>
      <span class="s">"one_way_leverage"</span><span class="p">:</span> <span class="mi">5</span><span class="p">,</span>
      <span class="s">"pos_mode"</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span>
      <span class="s">"mgn_mode"</span><span class="p">:</span> <span class="mi">1</span>
    <span class="p">}</span>
    <span class="n">body_str</span> <span class="o">=</span> <span class="n">json</span><span class="p">.</span><span class="n">dumps</span><span class="p">(</span><span class="n">body</span><span class="p">,</span> <span class="n">separators</span><span class="o">=</span><span class="p">(</span><span class="s">','</span><span class="p">,</span> <span class="s">':'</span><span class="p">))</span> 
    <span class="n">signature</span> <span class="o">=</span> <span class="n">generate_signature</span><span class="p">(</span><span class="n">timestamp</span><span class="p">,</span> <span class="n">method</span><span class="p">,</span> <span class="n">path</span><span class="p">,</span> <span class="bp">None</span><span class="p">,</span> <span class="n">body_str</span><span class="p">,</span> <span class="n">SecretKey</span><span class="p">)</span>

    <span class="n">headers</span> <span class="o">=</span> <span class="p">{</span>
        <span class="s">"UZX-ACCESS-KEY"</span><span class="p">:</span> <span class="n">APIKey</span><span class="p">,</span>
        <span class="s">"UZX-ACCESS-SIGN"</span><span class="p">:</span> <span class="n">signature</span><span class="p">,</span>
        <span class="s">"UZX-ACCESS-TIMESTAMP"</span><span class="p">:</span> <span class="n">timestamp</span><span class="p">,</span>
        <span class="s">"UZX-ACCESS-PASSPHRASE"</span><span class="p">:</span> <span class="n">Passphrase</span><span class="p">,</span>
        <span class="s">"Content-Type"</span><span class="p">:</span> <span class="s">"application/json"</span>
    <span class="p">}</span>

    <span class="n">resp</span> <span class="o">=</span> <span class="n">requests</span><span class="p">.</span><span class="n">put</span><span class="p">(</span><span class="n">host</span> <span class="o">+</span> <span class="n">path</span><span class="p">,</span> <span class="n">headers</span><span class="o">=</span><span class="n">headers</span><span class="p">,</span> <span class="n">data</span><span class="o">=</span><span class="n">body_str</span><span class="p">)</span>
    <span class="k">print</span><span class="p">(</span><span class="n">resp</span><span class="p">.</span><span class="n">status_code</span><span class="p">,</span> <span class="n">resp</span><span class="p">.</span><span class="n">text</span><span class="p">)</span>

<span class="n">test_put_api</span><span class="p">()</span>

</code></pre></div><div class="highlight"><pre class="highlight go tab-go"><code><span class="k">package</span> <span class="n">main</span>

<span class="k">import</span> <span class="p">(</span>
    <span class="s">"bytes"</span>
    <span class="s">"crypto/hmac"</span>
    <span class="s">"crypto/sha256"</span>
    <span class="s">"encoding/base64"</span>
    <span class="s">"fmt"</span>
    <span class="s">"net/http"</span>
    <span class="s">"time"</span>
    <span class="s">"strings"</span>
    <span class="s">"io/ioutil"</span>
<span class="p">)</span>

<span class="k">const</span> <span class="p">(</span>
    <span class="n">host</span>       <span class="o">=</span> <span class="s">"https://api-v2.uzx.com"</span>
    <span class="n">APIKey</span>     <span class="o">=</span> <span class="s">"{APIKey}"</span>
    <span class="n">SecretKey</span>  <span class="o">=</span> <span class="s">"{SecretKey}"</span>
    <span class="n">Passphrase</span> <span class="o">=</span> <span class="s">"{Passphrase}"</span>
<span class="p">)</span>

<span class="k">func</span> <span class="n">generateSignature</span><span class="p">(</span><span class="n">timestamp</span><span class="p">,</span> <span class="n">method</span><span class="p">,</span> <span class="n">path</span><span class="p">,</span> <span class="n">query</span><span class="p">,</span> <span class="n">body</span><span class="p">,</span> <span class="n">secret</span> <span class="kt">string</span><span class="p">)</span> <span class="kt">string</span> <span class="p">{</span>
    <span class="k">if</span> <span class="n">query</span> <span class="o">!=</span> <span class="s">""</span> <span class="p">{</span>
        <span class="n">query</span> <span class="o">=</span> <span class="s">"?"</span> <span class="o">+</span> <span class="n">query</span>
    <span class="p">}</span>
    <span class="n">preHash</span> <span class="o">:=</span> <span class="n">timestamp</span> <span class="o">+</span> <span class="n">strings</span><span class="o">.</span><span class="n">ToUpper</span><span class="p">(</span><span class="n">method</span><span class="p">)</span> <span class="o">+</span> <span class="n">path</span> <span class="o">+</span> <span class="n">query</span> <span class="o">+</span> <span class="n">body</span>
    <span class="n">mac</span> <span class="o">:=</span> <span class="n">hmac</span><span class="o">.</span><span class="n">New</span><span class="p">(</span><span class="n">sha256</span><span class="o">.</span><span class="n">New</span><span class="p">,</span> <span class="p">[]</span><span class="kt">byte</span><span class="p">(</span><span class="n">secret</span><span class="p">))</span>
    <span class="n">mac</span><span class="o">.</span><span class="n">Write</span><span class="p">([]</span><span class="kt">byte</span><span class="p">(</span><span class="n">preHash</span><span class="p">))</span>
    <span class="k">return</span> <span class="n">base64</span><span class="o">.</span><span class="n">StdEncoding</span><span class="o">.</span><span class="n">EncodeToString</span><span class="p">(</span><span class="n">mac</span><span class="o">.</span><span class="n">Sum</span><span class="p">(</span><span class="no">nil</span><span class="p">))</span>
<span class="p">}</span>

<span class="k">func</span> <span class="n">testPutApi</span><span class="p">()</span> <span class="p">{</span>
    <span class="n">timestamp</span> <span class="o">:=</span> <span class="n">fmt</span><span class="o">.</span><span class="n">Sprintf</span><span class="p">(</span><span class="s">"%d"</span><span class="p">,</span> <span class="n">time</span><span class="o">.</span><span class="n">Now</span><span class="p">()</span><span class="o">.</span><span class="n">Unix</span><span class="p">())</span>
    <span class="n">method</span> <span class="o">:=</span> <span class="s">"PUT"</span>
    <span class="n">path</span> <span class="o">:=</span> <span class="s">"/v2/trade/swap/config/set-leverage"</span>
    <span class="n">body</span> <span class="o">:=</span> <span class="s">`{"product_name":"BTCUSDT","long_leverage":5,"short_leverage":5,"one_way_leverage":5,"pos_mode":1,"mgn_mode":1}`</span>
    <span class="n">signature</span> <span class="o">:=</span> <span class="n">generateSignature</span><span class="p">(</span><span class="n">timestamp</span><span class="p">,</span> <span class="n">method</span><span class="p">,</span> <span class="n">path</span><span class="p">,</span> <span class="s">""</span><span class="p">,</span> <span class="n">body</span><span class="p">,</span> <span class="n">SecretKey</span><span class="p">)</span>

    <span class="n">req</span><span class="p">,</span> <span class="n">err</span> <span class="o">:=</span> <span class="n">http</span><span class="o">.</span><span class="n">NewRequest</span><span class="p">(</span><span class="n">method</span><span class="p">,</span> <span class="n">host</span><span class="o">+</span><span class="n">path</span><span class="p">,</span> <span class="n">bytes</span><span class="o">.</span><span class="n">NewBuffer</span><span class="p">([]</span><span class="kt">byte</span><span class="p">(</span><span class="n">body</span><span class="p">)))</span>
    <span class="k">if</span> <span class="n">err</span> <span class="o">!=</span> <span class="no">nil</span> <span class="p">{</span>
        <span class="nb">panic</span><span class="p">(</span><span class="n">err</span><span class="p">)</span>
    <span class="p">}</span>

    <span class="n">req</span><span class="o">.</span><span class="n">Header</span><span class="o">.</span><span class="n">Set</span><span class="p">(</span><span class="s">"Content-Type"</span><span class="p">,</span> <span class="s">"application/json"</span><span class="p">)</span>
    <span class="n">req</span><span class="o">.</span><span class="n">Header</span><span class="o">.</span><span class="n">Set</span><span class="p">(</span><span class="s">"UZX-ACCESS-KEY"</span><span class="p">,</span> <span class="n">APIKey</span><span class="p">)</span>
    <span class="n">req</span><span class="o">.</span><span class="n">Header</span><span class="o">.</span><span class="n">Set</span><span class="p">(</span><span class="s">"UZX-ACCESS-SIGN"</span><span class="p">,</span> <span class="n">signature</span><span class="p">)</span>
    <span class="n">req</span><span class="o">.</span><span class="n">Header</span><span class="o">.</span><span class="n">Set</span><span class="p">(</span><span class="s">"UZX-ACCESS-TIMESTAMP"</span><span class="p">,</span> <span class="n">timestamp</span><span class="p">)</span>
    <span class="n">req</span><span class="o">.</span><span class="n">Header</span><span class="o">.</span><span class="n">Set</span><span class="p">(</span><span class="s">"UZX-ACCESS-PASSPHRASE"</span><span class="p">,</span> <span class="n">Passphrase</span><span class="p">)</span>

    <span class="n">client</span> <span class="o">:=</span> <span class="o">&amp;</span><span class="n">http</span><span class="o">.</span><span class="n">Client</span><span class="p">{}</span>
    <span class="n">resp</span><span class="p">,</span> <span class="n">err</span> <span class="o">:=</span> <span class="n">client</span><span class="o">.</span><span class="n">Do</span><span class="p">(</span><span class="n">req</span><span class="p">)</span>
    <span class="k">if</span> <span class="n">err</span> <span class="o">!=</span> <span class="no">nil</span> <span class="p">{</span>
        <span class="nb">panic</span><span class="p">(</span><span class="n">err</span><span class="p">)</span>
    <span class="p">}</span>
    <span class="k">defer</span> <span class="n">resp</span><span class="o">.</span><span class="n">Body</span><span class="o">.</span><span class="n">Close</span><span class="p">()</span>
    <span class="n">bodyResp</span><span class="p">,</span> <span class="n">_</span> <span class="o">:=</span> <span class="n">ioutil</span><span class="o">.</span><span class="n">ReadAll</span><span class="p">(</span><span class="n">resp</span><span class="o">.</span><span class="n">Body</span><span class="p">)</span>
    <span class="n">fmt</span><span class="o">.</span><span class="n">Println</span><span class="p">(</span><span class="n">resp</span><span class="o">.</span><span class="n">StatusCode</span><span class="p">,</span> <span class="kt">string</span><span class="p">(</span><span class="n">bodyResp</span><span class="p">))</span>
<span class="p">}</span>

<span class="k">func</span> <span class="n">main</span><span class="p">()</span> <span class="p">{</span>
    <span class="n">testPutApi</span><span class="p">()</span>
<span class="p">}</span>
</code></pre></div>
<table><thead>
<tr>
<th>Name</th>
<th>Location</th>
<th>Type</th>
<th>Required</th>
<th>Description</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>body</td>
<td>body</td>
<td>object</td>
<td>No</td>
<td></td>
<td></td>
</tr>
<tr>
<td>» product_name</td>
<td>body</td>
<td>string</td>
<td>Yes</td>
<td>Product name</td>
<td></td>
</tr>
<tr>
<td>» long_leverage</td>
<td>body</td>
<td>integer</td>
<td>Yes</td>
<td>Long position leverage</td>
<td>Required if <code>pos_mode</code> is 1</td>
</tr>
<tr>
<td>» short_leverage</td>
<td>body</td>
<td>integer</td>
<td>Yes</td>
<td>Short position leverage</td>
<td>Required if <code>pos_mode</code> is 1</td>
</tr>
<tr>
<td>» one_way_leverage</td>
<td>body</td>
<td>integer</td>
<td>Yes</td>
<td>One-way position leverage</td>
<td>Required if <code>pos_mode</code> is 2</td>
</tr>
<tr>
<td>» pos_mode</td>
<td>body</td>
<td>integer</td>
<td>Yes</td>
<td>Position mode</td>
<td>1 for two-way, 2 for one-way</td>
</tr>
<tr>
<td>» mgn_mode</td>
<td>body</td>
<td>integer</td>
<td>Yes</td>
<td>Margin mode</td>
<td>1 for isolated, 2 for cross</td>
</tr>
</tbody></table>
<h4 id='a222a51ehxbw'>Response Parameters</h4>
<blockquote>
<p>Response Example</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"code"</span><span class="p">:</span><span class="w"> </span><span class="mi">200</span><span class="p">,</span><span class="w">
  </span><span class="nl">"msg"</span><span class="p">:</span><span class="w"> </span><span class="s2">"string"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">{}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<table><thead>
<tr>
<th>Name</th>
<th>Type</th>
<th>Required</th>
<th>Explanation</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>code</td>
<td>integer</td>
<td>true</td>
<td>Status code</td>
<td></td>
</tr>
<tr>
<td>msg</td>
<td>string</td>
<td>true</td>
<td>Description</td>
<td></td>
</tr>
<tr>
<td>data</td>
<td>object</td>
<td>false</td>
<td>Response payload</td>
<td></td>
</tr>
</tbody></table>
<h3 id='b46eb3ea87cf'>Modify Swap User Margin Mode</h3><h4 id='e5e4e37dkfff'>Rate Limit: 3 requests per second</h4><h4 id='59ff88c81pyu'>HTTP Request</h4>
<p><code>PUT /v2/trade/swap/config/set-mgn</code></p>
<h4 id='22da1a05v1ix'>Request Parameters</h4>
<blockquote>
<p>Request Example</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"product_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BTCUSDT"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"mgn_mode"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div><div class="highlight"><pre class="highlight java tab-java"><code><span class="kn">import</span> <span class="nn">javax.crypto.Mac</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">javax.crypto.spec.SecretKeySpec</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">java.io.BufferedReader</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">java.io.InputStreamReader</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">java.io.OutputStream</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">java.net.HttpURLConnection</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">java.net.URL</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">java.nio.charset.StandardCharsets</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">java.util.Base64</span><span class="o">;</span>

<span class="kd">public</span> <span class="kd">class</span> <span class="nc">TestCase</span> <span class="o">{</span>
    <span class="kd">public</span> <span class="kd">static</span> <span class="nc">String</span> <span class="n">host</span> <span class="o">=</span> <span class="s">"https://api-v2.uzx.com"</span><span class="o">;</span>
    <span class="kd">public</span> <span class="kd">static</span> <span class="nc">String</span> <span class="no">UZXACCESSKEY2</span> <span class="o">=</span> <span class="s">"{APIKey}"</span><span class="o">;</span>
    <span class="kd">public</span> <span class="kd">static</span> <span class="nc">String</span> <span class="no">UZXACCESSSECRET2</span> <span class="o">=</span> <span class="s">"{SecretKey}"</span><span class="o">;</span>
    <span class="kd">public</span> <span class="kd">static</span> <span class="nc">String</span> <span class="no">UZXACCESSPASSPHRASE2</span> <span class="o">=</span> <span class="s">"{Passphrase}"</span><span class="o">;</span>

    <span class="kd">public</span> <span class="kd">enum</span> <span class="nc">HmacAlgorithmEnum</span> <span class="o">{</span>
        <span class="no">HMAC_SHA_256</span><span class="o">(</span><span class="s">"HmacSHA256"</span><span class="o">),</span>
        <span class="no">HMAC_SHA_512</span><span class="o">(</span><span class="s">"HmacSHA512"</span><span class="o">);</span>

        <span class="kd">private</span> <span class="kd">final</span> <span class="nc">String</span> <span class="n">algorithmName</span><span class="o">;</span>

        <span class="nc">HmacAlgorithmEnum</span><span class="o">(</span><span class="nc">String</span> <span class="n">algorithmName</span><span class="o">)</span> <span class="o">{</span>
            <span class="k">this</span><span class="o">.</span><span class="na">algorithmName</span> <span class="o">=</span> <span class="n">algorithmName</span><span class="o">;</span>
        <span class="o">}</span>

        <span class="kd">public</span> <span class="nc">String</span> <span class="nf">getAlgorithmName</span><span class="o">()</span> <span class="o">{</span>
            <span class="k">return</span> <span class="n">algorithmName</span><span class="o">;</span>
        <span class="o">}</span>
    <span class="o">}</span>

    <span class="kd">public</span> <span class="kd">static</span> <span class="nc">String</span> <span class="nf">generate</span><span class="o">(</span><span class="nc">String</span> <span class="n">timestamp</span><span class="o">,</span> <span class="nc">String</span> <span class="n">method</span><span class="o">,</span> <span class="nc">String</span> <span class="n">requestPath</span><span class="o">,</span>
                                 <span class="nc">String</span> <span class="n">queryString</span><span class="o">,</span> <span class="nc">String</span> <span class="n">body</span><span class="o">,</span> <span class="nc">String</span> <span class="n">secret</span><span class="o">,</span>
                                 <span class="nc">HmacAlgorithmEnum</span> <span class="n">algorithm</span><span class="o">)</span> <span class="kd">throws</span> <span class="nc">Exception</span> <span class="o">{</span>
        <span class="nc">String</span> <span class="n">data</span> <span class="o">=</span> <span class="n">timestamp</span> <span class="o">+</span> <span class="n">method</span> <span class="o">+</span> <span class="n">requestPath</span> <span class="o">+</span> <span class="o">(</span><span class="n">queryString</span> <span class="o">!=</span> <span class="kc">null</span> <span class="o">?</span> <span class="n">queryString</span> <span class="o">:</span> <span class="s">""</span><span class="o">)</span> <span class="o">+</span> <span class="n">body</span><span class="o">;</span>

        <span class="nc">Mac</span> <span class="n">mac</span> <span class="o">=</span> <span class="nc">Mac</span><span class="o">.</span><span class="na">getInstance</span><span class="o">(</span><span class="n">algorithm</span><span class="o">.</span><span class="na">getAlgorithmName</span><span class="o">());</span>
        <span class="nc">SecretKeySpec</span> <span class="n">secretKeySpec</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">SecretKeySpec</span><span class="o">(</span><span class="n">secret</span><span class="o">.</span><span class="na">getBytes</span><span class="o">(</span><span class="nc">StandardCharsets</span><span class="o">.</span><span class="na">UTF_8</span><span class="o">),</span> <span class="n">algorithm</span><span class="o">.</span><span class="na">getAlgorithmName</span><span class="o">());</span>
        <span class="n">mac</span><span class="o">.</span><span class="na">init</span><span class="o">(</span><span class="n">secretKeySpec</span><span class="o">);</span>

        <span class="kt">byte</span><span class="o">[]</span> <span class="n">hash</span> <span class="o">=</span> <span class="n">mac</span><span class="o">.</span><span class="na">doFinal</span><span class="o">(</span><span class="n">data</span><span class="o">.</span><span class="na">getBytes</span><span class="o">(</span><span class="nc">StandardCharsets</span><span class="o">.</span><span class="na">UTF_8</span><span class="o">));</span>
        <span class="k">return</span> <span class="nc">Base64</span><span class="o">.</span><span class="na">getEncoder</span><span class="o">().</span><span class="na">encodeToString</span><span class="o">(</span><span class="n">hash</span><span class="o">);</span>
    <span class="o">}</span>

    <span class="kd">public</span> <span class="kd">static</span> <span class="kt">void</span> <span class="nf">testPutApi</span><span class="o">()</span> <span class="kd">throws</span> <span class="nc">Exception</span> <span class="o">{</span>
        <span class="nc">String</span> <span class="n">timestamp</span> <span class="o">=</span> <span class="nc">System</span><span class="o">.</span><span class="na">currentTimeMillis</span><span class="o">()</span> <span class="o">/</span> <span class="mi">1000</span> <span class="o">+</span> <span class="s">""</span><span class="o">;</span>
        <span class="nc">String</span> <span class="n">method</span> <span class="o">=</span> <span class="s">"PUT"</span><span class="o">;</span>
        <span class="nc">String</span> <span class="n">requestPath</span> <span class="o">=</span> <span class="s">"/v2/trade/swap/config/set-mgn"</span><span class="o">;</span>
        <span class="nc">String</span> <span class="n">body</span> <span class="o">=</span> <span class="s">"{\"product_name\":\"BTCUSDT\",\"mgn_mode\":1}"</span><span class="o">;</span>
        <span class="nc">String</span> <span class="n">data</span> <span class="o">=</span> <span class="n">timestamp</span> <span class="o">+</span> <span class="n">method</span> <span class="o">+</span> <span class="n">requestPath</span> <span class="o">+</span> <span class="n">body</span><span class="o">;</span>
        <span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="n">data</span><span class="o">);</span>

        <span class="nc">String</span> <span class="n">signature</span> <span class="o">=</span> <span class="n">generate</span><span class="o">(</span><span class="n">timestamp</span><span class="o">,</span> <span class="n">method</span><span class="o">,</span> <span class="n">requestPath</span><span class="o">,</span> <span class="kc">null</span><span class="o">,</span> <span class="n">body</span><span class="o">,</span> <span class="no">UZXACCESSSECRET2</span><span class="o">,</span> <span class="nc">HmacAlgorithmEnum</span><span class="o">.</span><span class="na">HMAC_SHA_256</span><span class="o">);</span>
        <span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="n">signature</span><span class="o">);</span>

        <span class="no">URL</span> <span class="n">url</span> <span class="o">=</span> <span class="k">new</span> <span class="no">URL</span><span class="o">(</span><span class="n">host</span> <span class="o">+</span> <span class="n">requestPath</span><span class="o">);</span>
        <span class="nc">HttpURLConnection</span> <span class="n">conn</span> <span class="o">=</span> <span class="o">(</span><span class="nc">HttpURLConnection</span><span class="o">)</span> <span class="n">url</span><span class="o">.</span><span class="na">openConnection</span><span class="o">();</span>
        <span class="n">conn</span><span class="o">.</span><span class="na">setRequestMethod</span><span class="o">(</span><span class="s">"PUT"</span><span class="o">);</span>
        <span class="n">conn</span><span class="o">.</span><span class="na">setRequestProperty</span><span class="o">(</span><span class="s">"Content-Type"</span><span class="o">,</span> <span class="s">"application/json"</span><span class="o">);</span>
        <span class="n">conn</span><span class="o">.</span><span class="na">setRequestProperty</span><span class="o">(</span><span class="s">"UZX-ACCESS-KEY"</span><span class="o">,</span> <span class="no">UZXACCESSKEY2</span><span class="o">);</span>
        <span class="n">conn</span><span class="o">.</span><span class="na">setRequestProperty</span><span class="o">(</span><span class="s">"UZX-ACCESS-SIGN"</span><span class="o">,</span> <span class="n">signature</span><span class="o">);</span>
        <span class="n">conn</span><span class="o">.</span><span class="na">setRequestProperty</span><span class="o">(</span><span class="s">"UZX-ACCESS-TIMESTAMP"</span><span class="o">,</span> <span class="n">timestamp</span><span class="o">);</span>
        <span class="n">conn</span><span class="o">.</span><span class="na">setRequestProperty</span><span class="o">(</span><span class="s">"UZX-ACCESS-PASSPHRASE"</span><span class="o">,</span> <span class="no">UZXACCESSPASSPHRASE2</span><span class="o">);</span>
        <span class="n">conn</span><span class="o">.</span><span class="na">setDoOutput</span><span class="o">(</span><span class="kc">true</span><span class="o">);</span>

        <span class="k">try</span> <span class="o">(</span><span class="nc">OutputStream</span> <span class="n">os</span> <span class="o">=</span> <span class="n">conn</span><span class="o">.</span><span class="na">getOutputStream</span><span class="o">())</span> <span class="o">{</span>
            <span class="kt">byte</span><span class="o">[]</span> <span class="n">input</span> <span class="o">=</span> <span class="n">body</span><span class="o">.</span><span class="na">getBytes</span><span class="o">(</span><span class="nc">StandardCharsets</span><span class="o">.</span><span class="na">UTF_8</span><span class="o">);</span>
            <span class="n">os</span><span class="o">.</span><span class="na">write</span><span class="o">(</span><span class="n">input</span><span class="o">,</span> <span class="mi">0</span><span class="o">,</span> <span class="n">input</span><span class="o">.</span><span class="na">length</span><span class="o">);</span>
        <span class="o">}</span>

        <span class="k">try</span> <span class="o">(</span><span class="nc">BufferedReader</span> <span class="n">br</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">BufferedReader</span><span class="o">(</span>
                <span class="k">new</span> <span class="nf">InputStreamReader</span><span class="o">(</span><span class="n">conn</span><span class="o">.</span><span class="na">getInputStream</span><span class="o">(),</span> <span class="nc">StandardCharsets</span><span class="o">.</span><span class="na">UTF_8</span><span class="o">)))</span> <span class="o">{</span>
            <span class="nc">StringBuilder</span> <span class="n">response</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">StringBuilder</span><span class="o">();</span>
            <span class="nc">String</span> <span class="n">responseLine</span><span class="o">;</span>
            <span class="k">while</span> <span class="o">((</span><span class="n">responseLine</span> <span class="o">=</span> <span class="n">br</span><span class="o">.</span><span class="na">readLine</span><span class="o">())</span> <span class="o">!=</span> <span class="kc">null</span><span class="o">)</span> <span class="o">{</span>
                <span class="n">response</span><span class="o">.</span><span class="na">append</span><span class="o">(</span><span class="n">responseLine</span><span class="o">.</span><span class="na">trim</span><span class="o">());</span>
            <span class="o">}</span>
            <span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="n">response</span><span class="o">.</span><span class="na">toString</span><span class="o">());</span>
        <span class="o">}</span>
    <span class="o">}</span>

    <span class="kd">public</span> <span class="kd">static</span> <span class="kt">void</span> <span class="nf">main</span><span class="o">(</span><span class="nc">String</span><span class="o">[]</span> <span class="n">args</span><span class="o">)</span> <span class="o">{</span>
        <span class="k">try</span> <span class="o">{</span>
            <span class="n">testPutApi</span><span class="o">();</span>
        <span class="o">}</span> <span class="k">catch</span> <span class="o">(</span><span class="nc">Exception</span> <span class="n">e</span><span class="o">)</span> <span class="o">{</span>
            <span class="n">e</span><span class="o">.</span><span class="na">printStackTrace</span><span class="o">();</span>
        <span class="o">}</span>
    <span class="o">}</span>
<span class="o">}</span>

</code></pre></div><div class="highlight"><pre class="highlight python tab-python"><code><span class="kn">import</span> <span class="nn">time</span>
<span class="kn">import</span> <span class="nn">hmac</span>
<span class="kn">import</span> <span class="nn">hashlib</span>
<span class="kn">import</span> <span class="nn">base64</span>
<span class="kn">import</span> <span class="nn">requests</span>
<span class="kn">import</span> <span class="nn">json</span>

<span class="n">host</span> <span class="o">=</span> <span class="s">"https://api-v2.uzx.com"</span>
<span class="n">APIKey</span> <span class="o">=</span> <span class="s">"{APIKey}"</span>
<span class="n">SecretKey</span> <span class="o">=</span> <span class="s">"{SecretKey}"</span>
<span class="n">Passphrase</span> <span class="o">=</span> <span class="s">"{Passphrase}"</span>

<span class="k">def</span> <span class="nf">generate_signature</span><span class="p">(</span><span class="n">timestamp</span><span class="p">,</span> <span class="n">method</span><span class="p">,</span> <span class="n">path</span><span class="p">,</span> <span class="n">query</span><span class="p">,</span> <span class="n">body</span><span class="p">,</span> <span class="n">secret</span><span class="p">):</span>
    <span class="n">query</span> <span class="o">=</span> <span class="s">'?'</span> <span class="o">+</span> <span class="n">query</span> <span class="k">if</span> <span class="n">query</span> <span class="k">else</span> <span class="s">''</span>
    <span class="n">body</span> <span class="o">=</span> <span class="n">body</span> <span class="k">if</span> <span class="n">body</span> <span class="k">else</span> <span class="s">''</span>
    <span class="n">prehash</span> <span class="o">=</span> <span class="sa">f</span><span class="s">"</span><span class="si">{</span><span class="n">timestamp</span><span class="si">}{</span><span class="n">method</span><span class="p">.</span><span class="n">upper</span><span class="p">()</span><span class="si">}{</span><span class="n">path</span><span class="si">}{</span><span class="n">query</span><span class="si">}{</span><span class="n">body</span><span class="si">}</span><span class="s">"</span>
    <span class="n">signature</span> <span class="o">=</span> <span class="n">hmac</span><span class="p">.</span><span class="n">new</span><span class="p">(</span><span class="n">secret</span><span class="p">.</span><span class="n">encode</span><span class="p">(),</span> <span class="n">prehash</span><span class="p">.</span><span class="n">encode</span><span class="p">(),</span> <span class="n">hashlib</span><span class="p">.</span><span class="n">sha256</span><span class="p">).</span><span class="n">digest</span><span class="p">()</span>
    <span class="k">return</span> <span class="n">base64</span><span class="p">.</span><span class="n">b64encode</span><span class="p">(</span><span class="n">signature</span><span class="p">).</span><span class="n">decode</span><span class="p">()</span>

<span class="k">def</span> <span class="nf">test_put_api</span><span class="p">():</span>
    <span class="n">timestamp</span> <span class="o">=</span> <span class="nb">str</span><span class="p">(</span><span class="nb">int</span><span class="p">(</span><span class="n">time</span><span class="p">.</span><span class="n">time</span><span class="p">()))</span>
    <span class="n">method</span> <span class="o">=</span> <span class="s">"PUT"</span>
    <span class="n">path</span> <span class="o">=</span> <span class="s">"/v2/trade/swap/config/set-mgn"</span>
    <span class="n">body</span> <span class="o">=</span> <span class="p">{</span>
      <span class="s">"product_name"</span><span class="p">:</span> <span class="s">"BTCUSDT"</span><span class="p">,</span>
      <span class="s">"mgn_mode"</span><span class="p">:</span> <span class="mi">1</span>
    <span class="p">}</span>
    <span class="n">body_str</span> <span class="o">=</span> <span class="n">json</span><span class="p">.</span><span class="n">dumps</span><span class="p">(</span><span class="n">body</span><span class="p">,</span> <span class="n">separators</span><span class="o">=</span><span class="p">(</span><span class="s">','</span><span class="p">,</span> <span class="s">':'</span><span class="p">))</span> 
    <span class="n">signature</span> <span class="o">=</span> <span class="n">generate_signature</span><span class="p">(</span><span class="n">timestamp</span><span class="p">,</span> <span class="n">method</span><span class="p">,</span> <span class="n">path</span><span class="p">,</span> <span class="bp">None</span><span class="p">,</span> <span class="n">body_str</span><span class="p">,</span> <span class="n">SecretKey</span><span class="p">)</span>

    <span class="n">headers</span> <span class="o">=</span> <span class="p">{</span>
        <span class="s">"UZX-ACCESS-KEY"</span><span class="p">:</span> <span class="n">APIKey</span><span class="p">,</span>
        <span class="s">"UZX-ACCESS-SIGN"</span><span class="p">:</span> <span class="n">signature</span><span class="p">,</span>
        <span class="s">"UZX-ACCESS-TIMESTAMP"</span><span class="p">:</span> <span class="n">timestamp</span><span class="p">,</span>
        <span class="s">"UZX-ACCESS-PASSPHRASE"</span><span class="p">:</span> <span class="n">Passphrase</span><span class="p">,</span>
        <span class="s">"Content-Type"</span><span class="p">:</span> <span class="s">"application/json"</span>
    <span class="p">}</span>

    <span class="n">resp</span> <span class="o">=</span> <span class="n">requests</span><span class="p">.</span><span class="n">put</span><span class="p">(</span><span class="n">host</span> <span class="o">+</span> <span class="n">path</span><span class="p">,</span> <span class="n">headers</span><span class="o">=</span><span class="n">headers</span><span class="p">,</span> <span class="n">data</span><span class="o">=</span><span class="n">body_str</span><span class="p">)</span>
    <span class="k">print</span><span class="p">(</span><span class="n">resp</span><span class="p">.</span><span class="n">status_code</span><span class="p">,</span> <span class="n">resp</span><span class="p">.</span><span class="n">text</span><span class="p">)</span>

<span class="n">test_put_api</span><span class="p">()</span>

</code></pre></div><div class="highlight"><pre class="highlight go tab-go"><code><span class="k">package</span> <span class="n">main</span>

<span class="k">import</span> <span class="p">(</span>
    <span class="s">"bytes"</span>
    <span class="s">"crypto/hmac"</span>
    <span class="s">"crypto/sha256"</span>
    <span class="s">"encoding/base64"</span>
    <span class="s">"fmt"</span>
    <span class="s">"net/http"</span>
    <span class="s">"time"</span>
    <span class="s">"strings"</span>
    <span class="s">"io/ioutil"</span>
<span class="p">)</span>

<span class="k">const</span> <span class="p">(</span>
    <span class="n">host</span>       <span class="o">=</span> <span class="s">"https://api-v2.uzx.com"</span>
    <span class="n">APIKey</span>     <span class="o">=</span> <span class="s">"{APIKey}"</span>
    <span class="n">SecretKey</span>  <span class="o">=</span> <span class="s">"{SecretKey}"</span>
    <span class="n">Passphrase</span> <span class="o">=</span> <span class="s">"{Passphrase}"</span>
<span class="p">)</span>

<span class="k">func</span> <span class="n">generateSignature</span><span class="p">(</span><span class="n">timestamp</span><span class="p">,</span> <span class="n">method</span><span class="p">,</span> <span class="n">path</span><span class="p">,</span> <span class="n">query</span><span class="p">,</span> <span class="n">body</span><span class="p">,</span> <span class="n">secret</span> <span class="kt">string</span><span class="p">)</span> <span class="kt">string</span> <span class="p">{</span>
    <span class="k">if</span> <span class="n">query</span> <span class="o">!=</span> <span class="s">""</span> <span class="p">{</span>
        <span class="n">query</span> <span class="o">=</span> <span class="s">"?"</span> <span class="o">+</span> <span class="n">query</span>
    <span class="p">}</span>
    <span class="n">preHash</span> <span class="o">:=</span> <span class="n">timestamp</span> <span class="o">+</span> <span class="n">strings</span><span class="o">.</span><span class="n">ToUpper</span><span class="p">(</span><span class="n">method</span><span class="p">)</span> <span class="o">+</span> <span class="n">path</span> <span class="o">+</span> <span class="n">query</span> <span class="o">+</span> <span class="n">body</span>
    <span class="n">mac</span> <span class="o">:=</span> <span class="n">hmac</span><span class="o">.</span><span class="n">New</span><span class="p">(</span><span class="n">sha256</span><span class="o">.</span><span class="n">New</span><span class="p">,</span> <span class="p">[]</span><span class="kt">byte</span><span class="p">(</span><span class="n">secret</span><span class="p">))</span>
    <span class="n">mac</span><span class="o">.</span><span class="n">Write</span><span class="p">([]</span><span class="kt">byte</span><span class="p">(</span><span class="n">preHash</span><span class="p">))</span>
    <span class="k">return</span> <span class="n">base64</span><span class="o">.</span><span class="n">StdEncoding</span><span class="o">.</span><span class="n">EncodeToString</span><span class="p">(</span><span class="n">mac</span><span class="o">.</span><span class="n">Sum</span><span class="p">(</span><span class="no">nil</span><span class="p">))</span>
<span class="p">}</span>

<span class="k">func</span> <span class="n">testPutApi</span><span class="p">()</span> <span class="p">{</span>
    <span class="n">timestamp</span> <span class="o">:=</span> <span class="n">fmt</span><span class="o">.</span><span class="n">Sprintf</span><span class="p">(</span><span class="s">"%d"</span><span class="p">,</span> <span class="n">time</span><span class="o">.</span><span class="n">Now</span><span class="p">()</span><span class="o">.</span><span class="n">Unix</span><span class="p">())</span>
    <span class="n">method</span> <span class="o">:=</span> <span class="s">"PUT"</span>
    <span class="n">path</span> <span class="o">:=</span> <span class="s">"/v2/trade/swap/config/set-mgn"</span>
    <span class="n">body</span> <span class="o">:=</span> <span class="s">`{"product_name":"BTCUSDT","mgn_mode":1}`</span>
    <span class="n">signature</span> <span class="o">:=</span> <span class="n">generateSignature</span><span class="p">(</span><span class="n">timestamp</span><span class="p">,</span> <span class="n">method</span><span class="p">,</span> <span class="n">path</span><span class="p">,</span> <span class="s">""</span><span class="p">,</span> <span class="n">body</span><span class="p">,</span> <span class="n">SecretKey</span><span class="p">)</span>

    <span class="n">req</span><span class="p">,</span> <span class="n">err</span> <span class="o">:=</span> <span class="n">http</span><span class="o">.</span><span class="n">NewRequest</span><span class="p">(</span><span class="n">method</span><span class="p">,</span> <span class="n">host</span><span class="o">+</span><span class="n">path</span><span class="p">,</span> <span class="n">bytes</span><span class="o">.</span><span class="n">NewBuffer</span><span class="p">([]</span><span class="kt">byte</span><span class="p">(</span><span class="n">body</span><span class="p">)))</span>
    <span class="k">if</span> <span class="n">err</span> <span class="o">!=</span> <span class="no">nil</span> <span class="p">{</span>
        <span class="nb">panic</span><span class="p">(</span><span class="n">err</span><span class="p">)</span>
    <span class="p">}</span>

    <span class="n">req</span><span class="o">.</span><span class="n">Header</span><span class="o">.</span><span class="n">Set</span><span class="p">(</span><span class="s">"Content-Type"</span><span class="p">,</span> <span class="s">"application/json"</span><span class="p">)</span>
    <span class="n">req</span><span class="o">.</span><span class="n">Header</span><span class="o">.</span><span class="n">Set</span><span class="p">(</span><span class="s">"UZX-ACCESS-KEY"</span><span class="p">,</span> <span class="n">APIKey</span><span class="p">)</span>
    <span class="n">req</span><span class="o">.</span><span class="n">Header</span><span class="o">.</span><span class="n">Set</span><span class="p">(</span><span class="s">"UZX-ACCESS-SIGN"</span><span class="p">,</span> <span class="n">signature</span><span class="p">)</span>
    <span class="n">req</span><span class="o">.</span><span class="n">Header</span><span class="o">.</span><span class="n">Set</span><span class="p">(</span><span class="s">"UZX-ACCESS-TIMESTAMP"</span><span class="p">,</span> <span class="n">timestamp</span><span class="p">)</span>
    <span class="n">req</span><span class="o">.</span><span class="n">Header</span><span class="o">.</span><span class="n">Set</span><span class="p">(</span><span class="s">"UZX-ACCESS-PASSPHRASE"</span><span class="p">,</span> <span class="n">Passphrase</span><span class="p">)</span>

    <span class="n">client</span> <span class="o">:=</span> <span class="o">&amp;</span><span class="n">http</span><span class="o">.</span><span class="n">Client</span><span class="p">{}</span>
    <span class="n">resp</span><span class="p">,</span> <span class="n">err</span> <span class="o">:=</span> <span class="n">client</span><span class="o">.</span><span class="n">Do</span><span class="p">(</span><span class="n">req</span><span class="p">)</span>
    <span class="k">if</span> <span class="n">err</span> <span class="o">!=</span> <span class="no">nil</span> <span class="p">{</span>
        <span class="nb">panic</span><span class="p">(</span><span class="n">err</span><span class="p">)</span>
    <span class="p">}</span>
    <span class="k">defer</span> <span class="n">resp</span><span class="o">.</span><span class="n">Body</span><span class="o">.</span><span class="n">Close</span><span class="p">()</span>
    <span class="n">bodyResp</span><span class="p">,</span> <span class="n">_</span> <span class="o">:=</span> <span class="n">ioutil</span><span class="o">.</span><span class="n">ReadAll</span><span class="p">(</span><span class="n">resp</span><span class="o">.</span><span class="n">Body</span><span class="p">)</span>
    <span class="n">fmt</span><span class="o">.</span><span class="n">Println</span><span class="p">(</span><span class="n">resp</span><span class="o">.</span><span class="n">StatusCode</span><span class="p">,</span> <span class="kt">string</span><span class="p">(</span><span class="n">bodyResp</span><span class="p">))</span>
<span class="p">}</span>

<span class="k">func</span> <span class="n">main</span><span class="p">()</span> <span class="p">{</span>
    <span class="n">testPutApi</span><span class="p">()</span>
<span class="p">}</span>
</code></pre></div>
<table><thead>
<tr>
<th>Name</th>
<th>Location</th>
<th>Type</th>
<th>Required</th>
<th>Description</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>body</td>
<td>body</td>
<td>object</td>
<td>No</td>
<td></td>
<td></td>
</tr>
<tr>
<td>» product_name</td>
<td>body</td>
<td>string</td>
<td>Yes</td>
<td>Product name</td>
<td></td>
</tr>
<tr>
<td>» mgn_mode</td>
<td>body</td>
<td>integer</td>
<td>Yes</td>
<td>Margin mode</td>
<td>1 for isolated, 2 for cross</td>
</tr>
</tbody></table>
<h4 id='a222a51ecubo'>Response Parameters</h4>
<blockquote>
<p>Response Example</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"code"</span><span class="p">:</span><span class="w"> </span><span class="mi">200</span><span class="p">,</span><span class="w">
  </span><span class="nl">"msg"</span><span class="p">:</span><span class="w"> </span><span class="s2">"string"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">{}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<table><thead>
<tr>
<th>Name</th>
<th>Type</th>
<th>Required</th>
<th>Explanation</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>code</td>
<td>integer</td>
<td>true</td>
<td>Status code</td>
<td></td>
</tr>
<tr>
<td>msg</td>
<td>string</td>
<td>true</td>
<td>Description</td>
<td></td>
</tr>
<tr>
<td>data</td>
<td>object</td>
<td>false</td>
<td>Response payload</td>
<td></td>
</tr>
</tbody></table>
<h3 id='23311276kbja'>Modify Swap User Position Mode</h3><h4 id='e5e4e37d18d1'>Rate Limit: 3 requests per second</h4><h4 id='59ff88c8133m'>HTTP Request</h4>
<p><code>PUT /v2/trade/swap/config/set-pos-mod</code></p>
<h4 id='22da1a05dqf3'>Request Parameters</h4>
<blockquote>
<p>Request Example</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"pos_mode"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div><div class="highlight"><pre class="highlight java tab-java"><code><span class="kn">import</span> <span class="nn">javax.crypto.Mac</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">javax.crypto.spec.SecretKeySpec</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">java.io.BufferedReader</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">java.io.InputStreamReader</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">java.io.OutputStream</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">java.net.HttpURLConnection</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">java.net.URL</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">java.nio.charset.StandardCharsets</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">java.util.Base64</span><span class="o">;</span>

<span class="kd">public</span> <span class="kd">class</span> <span class="nc">TestCase</span> <span class="o">{</span>
    <span class="kd">public</span> <span class="kd">static</span> <span class="nc">String</span> <span class="n">host</span> <span class="o">=</span> <span class="s">"https://api-v2.uzx.com"</span><span class="o">;</span>
    <span class="kd">public</span> <span class="kd">static</span> <span class="nc">String</span> <span class="no">UZXACCESSKEY2</span> <span class="o">=</span> <span class="s">"{APIKey}"</span><span class="o">;</span>
    <span class="kd">public</span> <span class="kd">static</span> <span class="nc">String</span> <span class="no">UZXACCESSSECRET2</span> <span class="o">=</span> <span class="s">"{SecretKey}"</span><span class="o">;</span>
    <span class="kd">public</span> <span class="kd">static</span> <span class="nc">String</span> <span class="no">UZXACCESSPASSPHRASE2</span> <span class="o">=</span> <span class="s">"{Passphrase}"</span><span class="o">;</span>

    <span class="kd">public</span> <span class="kd">enum</span> <span class="nc">HmacAlgorithmEnum</span> <span class="o">{</span>
        <span class="no">HMAC_SHA_256</span><span class="o">(</span><span class="s">"HmacSHA256"</span><span class="o">),</span>
        <span class="no">HMAC_SHA_512</span><span class="o">(</span><span class="s">"HmacSHA512"</span><span class="o">);</span>

        <span class="kd">private</span> <span class="kd">final</span> <span class="nc">String</span> <span class="n">algorithmName</span><span class="o">;</span>

        <span class="nc">HmacAlgorithmEnum</span><span class="o">(</span><span class="nc">String</span> <span class="n">algorithmName</span><span class="o">)</span> <span class="o">{</span>
            <span class="k">this</span><span class="o">.</span><span class="na">algorithmName</span> <span class="o">=</span> <span class="n">algorithmName</span><span class="o">;</span>
        <span class="o">}</span>

        <span class="kd">public</span> <span class="nc">String</span> <span class="nf">getAlgorithmName</span><span class="o">()</span> <span class="o">{</span>
            <span class="k">return</span> <span class="n">algorithmName</span><span class="o">;</span>
        <span class="o">}</span>
    <span class="o">}</span>

    <span class="kd">public</span> <span class="kd">static</span> <span class="nc">String</span> <span class="nf">generate</span><span class="o">(</span><span class="nc">String</span> <span class="n">timestamp</span><span class="o">,</span> <span class="nc">String</span> <span class="n">method</span><span class="o">,</span> <span class="nc">String</span> <span class="n">requestPath</span><span class="o">,</span>
                                 <span class="nc">String</span> <span class="n">queryString</span><span class="o">,</span> <span class="nc">String</span> <span class="n">body</span><span class="o">,</span> <span class="nc">String</span> <span class="n">secret</span><span class="o">,</span>
                                 <span class="nc">HmacAlgorithmEnum</span> <span class="n">algorithm</span><span class="o">)</span> <span class="kd">throws</span> <span class="nc">Exception</span> <span class="o">{</span>
        <span class="nc">String</span> <span class="n">data</span> <span class="o">=</span> <span class="n">timestamp</span> <span class="o">+</span> <span class="n">method</span> <span class="o">+</span> <span class="n">requestPath</span> <span class="o">+</span> <span class="o">(</span><span class="n">queryString</span> <span class="o">!=</span> <span class="kc">null</span> <span class="o">?</span> <span class="n">queryString</span> <span class="o">:</span> <span class="s">""</span><span class="o">)</span> <span class="o">+</span> <span class="n">body</span><span class="o">;</span>

        <span class="nc">Mac</span> <span class="n">mac</span> <span class="o">=</span> <span class="nc">Mac</span><span class="o">.</span><span class="na">getInstance</span><span class="o">(</span><span class="n">algorithm</span><span class="o">.</span><span class="na">getAlgorithmName</span><span class="o">());</span>
        <span class="nc">SecretKeySpec</span> <span class="n">secretKeySpec</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">SecretKeySpec</span><span class="o">(</span><span class="n">secret</span><span class="o">.</span><span class="na">getBytes</span><span class="o">(</span><span class="nc">StandardCharsets</span><span class="o">.</span><span class="na">UTF_8</span><span class="o">),</span> <span class="n">algorithm</span><span class="o">.</span><span class="na">getAlgorithmName</span><span class="o">());</span>
        <span class="n">mac</span><span class="o">.</span><span class="na">init</span><span class="o">(</span><span class="n">secretKeySpec</span><span class="o">);</span>

        <span class="kt">byte</span><span class="o">[]</span> <span class="n">hash</span> <span class="o">=</span> <span class="n">mac</span><span class="o">.</span><span class="na">doFinal</span><span class="o">(</span><span class="n">data</span><span class="o">.</span><span class="na">getBytes</span><span class="o">(</span><span class="nc">StandardCharsets</span><span class="o">.</span><span class="na">UTF_8</span><span class="o">));</span>
        <span class="k">return</span> <span class="nc">Base64</span><span class="o">.</span><span class="na">getEncoder</span><span class="o">().</span><span class="na">encodeToString</span><span class="o">(</span><span class="n">hash</span><span class="o">);</span>
    <span class="o">}</span>

    <span class="kd">public</span> <span class="kd">static</span> <span class="kt">void</span> <span class="nf">testPutApi</span><span class="o">()</span> <span class="kd">throws</span> <span class="nc">Exception</span> <span class="o">{</span>
        <span class="nc">String</span> <span class="n">timestamp</span> <span class="o">=</span> <span class="nc">System</span><span class="o">.</span><span class="na">currentTimeMillis</span><span class="o">()</span> <span class="o">/</span> <span class="mi">1000</span> <span class="o">+</span> <span class="s">""</span><span class="o">;</span>
        <span class="nc">String</span> <span class="n">method</span> <span class="o">=</span> <span class="s">"PUT"</span><span class="o">;</span>
        <span class="nc">String</span> <span class="n">requestPath</span> <span class="o">=</span> <span class="s">"/v2/trade/swap/config/set-pos-mod"</span><span class="o">;</span>
        <span class="nc">String</span> <span class="n">body</span> <span class="o">=</span> <span class="s">"{\"pos_mode\":1}"</span><span class="o">;</span>
        <span class="nc">String</span> <span class="n">data</span> <span class="o">=</span> <span class="n">timestamp</span> <span class="o">+</span> <span class="n">method</span> <span class="o">+</span> <span class="n">requestPath</span> <span class="o">+</span> <span class="n">body</span><span class="o">;</span>
        <span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="n">data</span><span class="o">);</span>

        <span class="nc">String</span> <span class="n">signature</span> <span class="o">=</span> <span class="n">generate</span><span class="o">(</span><span class="n">timestamp</span><span class="o">,</span> <span class="n">method</span><span class="o">,</span> <span class="n">requestPath</span><span class="o">,</span> <span class="kc">null</span><span class="o">,</span> <span class="n">body</span><span class="o">,</span> <span class="no">UZXACCESSSECRET2</span><span class="o">,</span> <span class="nc">HmacAlgorithmEnum</span><span class="o">.</span><span class="na">HMAC_SHA_256</span><span class="o">);</span>
        <span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="n">signature</span><span class="o">);</span>

        <span class="no">URL</span> <span class="n">url</span> <span class="o">=</span> <span class="k">new</span> <span class="no">URL</span><span class="o">(</span><span class="n">host</span> <span class="o">+</span> <span class="n">requestPath</span><span class="o">);</span>
        <span class="nc">HttpURLConnection</span> <span class="n">conn</span> <span class="o">=</span> <span class="o">(</span><span class="nc">HttpURLConnection</span><span class="o">)</span> <span class="n">url</span><span class="o">.</span><span class="na">openConnection</span><span class="o">();</span>
        <span class="n">conn</span><span class="o">.</span><span class="na">setRequestMethod</span><span class="o">(</span><span class="s">"PUT"</span><span class="o">);</span>
        <span class="n">conn</span><span class="o">.</span><span class="na">setRequestProperty</span><span class="o">(</span><span class="s">"Content-Type"</span><span class="o">,</span> <span class="s">"application/json"</span><span class="o">);</span>
        <span class="n">conn</span><span class="o">.</span><span class="na">setRequestProperty</span><span class="o">(</span><span class="s">"UZX-ACCESS-KEY"</span><span class="o">,</span> <span class="no">UZXACCESSKEY2</span><span class="o">);</span>
        <span class="n">conn</span><span class="o">.</span><span class="na">setRequestProperty</span><span class="o">(</span><span class="s">"UZX-ACCESS-SIGN"</span><span class="o">,</span> <span class="n">signature</span><span class="o">);</span>
        <span class="n">conn</span><span class="o">.</span><span class="na">setRequestProperty</span><span class="o">(</span><span class="s">"UZX-ACCESS-TIMESTAMP"</span><span class="o">,</span> <span class="n">timestamp</span><span class="o">);</span>
        <span class="n">conn</span><span class="o">.</span><span class="na">setRequestProperty</span><span class="o">(</span><span class="s">"UZX-ACCESS-PASSPHRASE"</span><span class="o">,</span> <span class="no">UZXACCESSPASSPHRASE2</span><span class="o">);</span>
        <span class="n">conn</span><span class="o">.</span><span class="na">setDoOutput</span><span class="o">(</span><span class="kc">true</span><span class="o">);</span>

        <span class="k">try</span> <span class="o">(</span><span class="nc">OutputStream</span> <span class="n">os</span> <span class="o">=</span> <span class="n">conn</span><span class="o">.</span><span class="na">getOutputStream</span><span class="o">())</span> <span class="o">{</span>
            <span class="kt">byte</span><span class="o">[]</span> <span class="n">input</span> <span class="o">=</span> <span class="n">body</span><span class="o">.</span><span class="na">getBytes</span><span class="o">(</span><span class="nc">StandardCharsets</span><span class="o">.</span><span class="na">UTF_8</span><span class="o">);</span>
            <span class="n">os</span><span class="o">.</span><span class="na">write</span><span class="o">(</span><span class="n">input</span><span class="o">,</span> <span class="mi">0</span><span class="o">,</span> <span class="n">input</span><span class="o">.</span><span class="na">length</span><span class="o">);</span>
        <span class="o">}</span>

        <span class="k">try</span> <span class="o">(</span><span class="nc">BufferedReader</span> <span class="n">br</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">BufferedReader</span><span class="o">(</span>
                <span class="k">new</span> <span class="nf">InputStreamReader</span><span class="o">(</span><span class="n">conn</span><span class="o">.</span><span class="na">getInputStream</span><span class="o">(),</span> <span class="nc">StandardCharsets</span><span class="o">.</span><span class="na">UTF_8</span><span class="o">)))</span> <span class="o">{</span>
            <span class="nc">StringBuilder</span> <span class="n">response</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">StringBuilder</span><span class="o">();</span>
            <span class="nc">String</span> <span class="n">responseLine</span><span class="o">;</span>
            <span class="k">while</span> <span class="o">((</span><span class="n">responseLine</span> <span class="o">=</span> <span class="n">br</span><span class="o">.</span><span class="na">readLine</span><span class="o">())</span> <span class="o">!=</span> <span class="kc">null</span><span class="o">)</span> <span class="o">{</span>
                <span class="n">response</span><span class="o">.</span><span class="na">append</span><span class="o">(</span><span class="n">responseLine</span><span class="o">.</span><span class="na">trim</span><span class="o">());</span>
            <span class="o">}</span>
            <span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="n">response</span><span class="o">.</span><span class="na">toString</span><span class="o">());</span>
        <span class="o">}</span>
    <span class="o">}</span>

    <span class="kd">public</span> <span class="kd">static</span> <span class="kt">void</span> <span class="nf">main</span><span class="o">(</span><span class="nc">String</span><span class="o">[]</span> <span class="n">args</span><span class="o">)</span> <span class="o">{</span>
        <span class="k">try</span> <span class="o">{</span>
            <span class="n">testPutApi</span><span class="o">();</span>
        <span class="o">}</span> <span class="k">catch</span> <span class="o">(</span><span class="nc">Exception</span> <span class="n">e</span><span class="o">)</span> <span class="o">{</span>
            <span class="n">e</span><span class="o">.</span><span class="na">printStackTrace</span><span class="o">();</span>
        <span class="o">}</span>
    <span class="o">}</span>
<span class="o">}</span>

</code></pre></div><div class="highlight"><pre class="highlight python tab-python"><code><span class="kn">import</span> <span class="nn">time</span>
<span class="kn">import</span> <span class="nn">hmac</span>
<span class="kn">import</span> <span class="nn">hashlib</span>
<span class="kn">import</span> <span class="nn">base64</span>
<span class="kn">import</span> <span class="nn">requests</span>
<span class="kn">import</span> <span class="nn">json</span>

<span class="n">host</span> <span class="o">=</span> <span class="s">"https://api-v2.uzx.com"</span>
<span class="n">APIKey</span> <span class="o">=</span> <span class="s">"{APIKey}"</span>
<span class="n">SecretKey</span> <span class="o">=</span> <span class="s">"{SecretKey}"</span>
<span class="n">Passphrase</span> <span class="o">=</span> <span class="s">"{Passphrase}"</span>

<span class="k">def</span> <span class="nf">generate_signature</span><span class="p">(</span><span class="n">timestamp</span><span class="p">,</span> <span class="n">method</span><span class="p">,</span> <span class="n">path</span><span class="p">,</span> <span class="n">query</span><span class="p">,</span> <span class="n">body</span><span class="p">,</span> <span class="n">secret</span><span class="p">):</span>
    <span class="n">query</span> <span class="o">=</span> <span class="s">'?'</span> <span class="o">+</span> <span class="n">query</span> <span class="k">if</span> <span class="n">query</span> <span class="k">else</span> <span class="s">''</span>
    <span class="n">body</span> <span class="o">=</span> <span class="n">body</span> <span class="k">if</span> <span class="n">body</span> <span class="k">else</span> <span class="s">''</span>
    <span class="n">prehash</span> <span class="o">=</span> <span class="sa">f</span><span class="s">"</span><span class="si">{</span><span class="n">timestamp</span><span class="si">}{</span><span class="n">method</span><span class="p">.</span><span class="n">upper</span><span class="p">()</span><span class="si">}{</span><span class="n">path</span><span class="si">}{</span><span class="n">query</span><span class="si">}{</span><span class="n">body</span><span class="si">}</span><span class="s">"</span>
    <span class="n">signature</span> <span class="o">=</span> <span class="n">hmac</span><span class="p">.</span><span class="n">new</span><span class="p">(</span><span class="n">secret</span><span class="p">.</span><span class="n">encode</span><span class="p">(),</span> <span class="n">prehash</span><span class="p">.</span><span class="n">encode</span><span class="p">(),</span> <span class="n">hashlib</span><span class="p">.</span><span class="n">sha256</span><span class="p">).</span><span class="n">digest</span><span class="p">()</span>
    <span class="k">return</span> <span class="n">base64</span><span class="p">.</span><span class="n">b64encode</span><span class="p">(</span><span class="n">signature</span><span class="p">).</span><span class="n">decode</span><span class="p">()</span>

<span class="k">def</span> <span class="nf">test_put_api</span><span class="p">():</span>
    <span class="n">timestamp</span> <span class="o">=</span> <span class="nb">str</span><span class="p">(</span><span class="nb">int</span><span class="p">(</span><span class="n">time</span><span class="p">.</span><span class="n">time</span><span class="p">()))</span>
    <span class="n">method</span> <span class="o">=</span> <span class="s">"PUT"</span>
    <span class="n">path</span> <span class="o">=</span> <span class="s">"/v2/trade/swap/config/set-pos-mod"</span>
    <span class="n">body</span> <span class="o">=</span> <span class="p">{</span>
      <span class="s">"pos_mode"</span><span class="p">:</span> <span class="mi">1</span>
    <span class="p">}</span>
    <span class="n">body_str</span> <span class="o">=</span> <span class="n">json</span><span class="p">.</span><span class="n">dumps</span><span class="p">(</span><span class="n">body</span><span class="p">,</span> <span class="n">separators</span><span class="o">=</span><span class="p">(</span><span class="s">','</span><span class="p">,</span> <span class="s">':'</span><span class="p">))</span> 
    <span class="n">signature</span> <span class="o">=</span> <span class="n">generate_signature</span><span class="p">(</span><span class="n">timestamp</span><span class="p">,</span> <span class="n">method</span><span class="p">,</span> <span class="n">path</span><span class="p">,</span> <span class="bp">None</span><span class="p">,</span> <span class="n">body_str</span><span class="p">,</span> <span class="n">SecretKey</span><span class="p">)</span>

    <span class="n">headers</span> <span class="o">=</span> <span class="p">{</span>
        <span class="s">"UZX-ACCESS-KEY"</span><span class="p">:</span> <span class="n">APIKey</span><span class="p">,</span>
        <span class="s">"UZX-ACCESS-SIGN"</span><span class="p">:</span> <span class="n">signature</span><span class="p">,</span>
        <span class="s">"UZX-ACCESS-TIMESTAMP"</span><span class="p">:</span> <span class="n">timestamp</span><span class="p">,</span>
        <span class="s">"UZX-ACCESS-PASSPHRASE"</span><span class="p">:</span> <span class="n">Passphrase</span><span class="p">,</span>
        <span class="s">"Content-Type"</span><span class="p">:</span> <span class="s">"application/json"</span>
    <span class="p">}</span>

    <span class="n">resp</span> <span class="o">=</span> <span class="n">requests</span><span class="p">.</span><span class="n">put</span><span class="p">(</span><span class="n">host</span> <span class="o">+</span> <span class="n">path</span><span class="p">,</span> <span class="n">headers</span><span class="o">=</span><span class="n">headers</span><span class="p">,</span> <span class="n">data</span><span class="o">=</span><span class="n">body_str</span><span class="p">)</span>
    <span class="k">print</span><span class="p">(</span><span class="n">resp</span><span class="p">.</span><span class="n">status_code</span><span class="p">,</span> <span class="n">resp</span><span class="p">.</span><span class="n">text</span><span class="p">)</span>

<span class="n">test_put_api</span><span class="p">()</span>

</code></pre></div><div class="highlight"><pre class="highlight go tab-go"><code><span class="k">package</span> <span class="n">main</span>

<span class="k">import</span> <span class="p">(</span>
    <span class="s">"bytes"</span>
    <span class="s">"crypto/hmac"</span>
    <span class="s">"crypto/sha256"</span>
    <span class="s">"encoding/base64"</span>
    <span class="s">"fmt"</span>
    <span class="s">"net/http"</span>
    <span class="s">"time"</span>
    <span class="s">"strings"</span>
    <span class="s">"io/ioutil"</span>
<span class="p">)</span>

<span class="k">const</span> <span class="p">(</span>
    <span class="n">host</span>       <span class="o">=</span> <span class="s">"https://api-v2.uzx.com"</span>
    <span class="n">APIKey</span>     <span class="o">=</span> <span class="s">"{APIKey}"</span>
    <span class="n">SecretKey</span>  <span class="o">=</span> <span class="s">"{SecretKey}"</span>
    <span class="n">Passphrase</span> <span class="o">=</span> <span class="s">"{Passphrase}"</span>
<span class="p">)</span>

<span class="k">func</span> <span class="n">generateSignature</span><span class="p">(</span><span class="n">timestamp</span><span class="p">,</span> <span class="n">method</span><span class="p">,</span> <span class="n">path</span><span class="p">,</span> <span class="n">query</span><span class="p">,</span> <span class="n">body</span><span class="p">,</span> <span class="n">secret</span> <span class="kt">string</span><span class="p">)</span> <span class="kt">string</span> <span class="p">{</span>
    <span class="k">if</span> <span class="n">query</span> <span class="o">!=</span> <span class="s">""</span> <span class="p">{</span>
        <span class="n">query</span> <span class="o">=</span> <span class="s">"?"</span> <span class="o">+</span> <span class="n">query</span>
    <span class="p">}</span>
    <span class="n">preHash</span> <span class="o">:=</span> <span class="n">timestamp</span> <span class="o">+</span> <span class="n">strings</span><span class="o">.</span><span class="n">ToUpper</span><span class="p">(</span><span class="n">method</span><span class="p">)</span> <span class="o">+</span> <span class="n">path</span> <span class="o">+</span> <span class="n">query</span> <span class="o">+</span> <span class="n">body</span>
    <span class="n">mac</span> <span class="o">:=</span> <span class="n">hmac</span><span class="o">.</span><span class="n">New</span><span class="p">(</span><span class="n">sha256</span><span class="o">.</span><span class="n">New</span><span class="p">,</span> <span class="p">[]</span><span class="kt">byte</span><span class="p">(</span><span class="n">secret</span><span class="p">))</span>
    <span class="n">mac</span><span class="o">.</span><span class="n">Write</span><span class="p">([]</span><span class="kt">byte</span><span class="p">(</span><span class="n">preHash</span><span class="p">))</span>
    <span class="k">return</span> <span class="n">base64</span><span class="o">.</span><span class="n">StdEncoding</span><span class="o">.</span><span class="n">EncodeToString</span><span class="p">(</span><span class="n">mac</span><span class="o">.</span><span class="n">Sum</span><span class="p">(</span><span class="no">nil</span><span class="p">))</span>
<span class="p">}</span>

<span class="k">func</span> <span class="n">testPutApi</span><span class="p">()</span> <span class="p">{</span>
    <span class="n">timestamp</span> <span class="o">:=</span> <span class="n">fmt</span><span class="o">.</span><span class="n">Sprintf</span><span class="p">(</span><span class="s">"%d"</span><span class="p">,</span> <span class="n">time</span><span class="o">.</span><span class="n">Now</span><span class="p">()</span><span class="o">.</span><span class="n">Unix</span><span class="p">())</span>
    <span class="n">method</span> <span class="o">:=</span> <span class="s">"PUT"</span>
    <span class="n">path</span> <span class="o">:=</span> <span class="s">"/v2/trade/swap/config/set-pos-mod"</span>
    <span class="n">body</span> <span class="o">:=</span> <span class="s">`{"pos_mode":1}`</span>
    <span class="n">signature</span> <span class="o">:=</span> <span class="n">generateSignature</span><span class="p">(</span><span class="n">timestamp</span><span class="p">,</span> <span class="n">method</span><span class="p">,</span> <span class="n">path</span><span class="p">,</span> <span class="s">""</span><span class="p">,</span> <span class="n">body</span><span class="p">,</span> <span class="n">SecretKey</span><span class="p">)</span>

    <span class="n">req</span><span class="p">,</span> <span class="n">err</span> <span class="o">:=</span> <span class="n">http</span><span class="o">.</span><span class="n">NewRequest</span><span class="p">(</span><span class="n">method</span><span class="p">,</span> <span class="n">host</span><span class="o">+</span><span class="n">path</span><span class="p">,</span> <span class="n">bytes</span><span class="o">.</span><span class="n">NewBuffer</span><span class="p">([]</span><span class="kt">byte</span><span class="p">(</span><span class="n">body</span><span class="p">)))</span>
    <span class="k">if</span> <span class="n">err</span> <span class="o">!=</span> <span class="no">nil</span> <span class="p">{</span>
        <span class="nb">panic</span><span class="p">(</span><span class="n">err</span><span class="p">)</span>
    <span class="p">}</span>

    <span class="n">req</span><span class="o">.</span><span class="n">Header</span><span class="o">.</span><span class="n">Set</span><span class="p">(</span><span class="s">"Content-Type"</span><span class="p">,</span> <span class="s">"application/json"</span><span class="p">)</span>
    <span class="n">req</span><span class="o">.</span><span class="n">Header</span><span class="o">.</span><span class="n">Set</span><span class="p">(</span><span class="s">"UZX-ACCESS-KEY"</span><span class="p">,</span> <span class="n">APIKey</span><span class="p">)</span>
    <span class="n">req</span><span class="o">.</span><span class="n">Header</span><span class="o">.</span><span class="n">Set</span><span class="p">(</span><span class="s">"UZX-ACCESS-SIGN"</span><span class="p">,</span> <span class="n">signature</span><span class="p">)</span>
    <span class="n">req</span><span class="o">.</span><span class="n">Header</span><span class="o">.</span><span class="n">Set</span><span class="p">(</span><span class="s">"UZX-ACCESS-TIMESTAMP"</span><span class="p">,</span> <span class="n">timestamp</span><span class="p">)</span>
    <span class="n">req</span><span class="o">.</span><span class="n">Header</span><span class="o">.</span><span class="n">Set</span><span class="p">(</span><span class="s">"UZX-ACCESS-PASSPHRASE"</span><span class="p">,</span> <span class="n">Passphrase</span><span class="p">)</span>

    <span class="n">client</span> <span class="o">:=</span> <span class="o">&amp;</span><span class="n">http</span><span class="o">.</span><span class="n">Client</span><span class="p">{}</span>
    <span class="n">resp</span><span class="p">,</span> <span class="n">err</span> <span class="o">:=</span> <span class="n">client</span><span class="o">.</span><span class="n">Do</span><span class="p">(</span><span class="n">req</span><span class="p">)</span>
    <span class="k">if</span> <span class="n">err</span> <span class="o">!=</span> <span class="no">nil</span> <span class="p">{</span>
        <span class="nb">panic</span><span class="p">(</span><span class="n">err</span><span class="p">)</span>
    <span class="p">}</span>
    <span class="k">defer</span> <span class="n">resp</span><span class="o">.</span><span class="n">Body</span><span class="o">.</span><span class="n">Close</span><span class="p">()</span>
    <span class="n">bodyResp</span><span class="p">,</span> <span class="n">_</span> <span class="o">:=</span> <span class="n">ioutil</span><span class="o">.</span><span class="n">ReadAll</span><span class="p">(</span><span class="n">resp</span><span class="o">.</span><span class="n">Body</span><span class="p">)</span>
    <span class="n">fmt</span><span class="o">.</span><span class="n">Println</span><span class="p">(</span><span class="n">resp</span><span class="o">.</span><span class="n">StatusCode</span><span class="p">,</span> <span class="kt">string</span><span class="p">(</span><span class="n">bodyResp</span><span class="p">))</span>
<span class="p">}</span>

<span class="k">func</span> <span class="n">main</span><span class="p">()</span> <span class="p">{</span>
    <span class="n">testPutApi</span><span class="p">()</span>
<span class="p">}</span>
</code></pre></div>
<table><thead>
<tr>
<th>Name</th>
<th>Location</th>
<th>Type</th>
<th>Required</th>
<th>Description</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>body</td>
<td>body</td>
<td>object</td>
<td>No</td>
<td></td>
<td></td>
</tr>
<tr>
<td>» pos_mode</td>
<td>body</td>
<td>integer</td>
<td>Yes</td>
<td>Position mode</td>
<td>1 for two-way, 2 for one-way</td>
</tr>
</tbody></table>
<h4 id='a222a51edbo1'>Response Parameters</h4>
<blockquote>
<p>Response Example</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"code"</span><span class="p">:</span><span class="w"> </span><span class="mi">200</span><span class="p">,</span><span class="w">
  </span><span class="nl">"msg"</span><span class="p">:</span><span class="w"> </span><span class="s2">"string"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">{}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<table><thead>
<tr>
<th>Name</th>
<th>Type</th>
<th>Required</th>
<th>Explanation</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>code</td>
<td>integer</td>
<td>true</td>
<td>Status code</td>
<td></td>
</tr>
<tr>
<td>msg</td>
<td>string</td>
<td>true</td>
<td>Description</td>
<td></td>
</tr>
<tr>
<td>data</td>
<td>object</td>
<td>false</td>
<td>Response payload</td>
<td></td>
</tr>
</tbody></table>
<h3 id='87125442dwdb'>Cancel Order</h3><h4 id='cc37fa7dx8es'>Rate Limit: 3 times/second</h4><h4 id='59ff88c8vhao'>HTTP Request</h4>
<p><code>PUT /v2/trade/cancel-order</code></p>
<h4 id='22da1a05xk8c'>Request Parameters</h4>
<blockquote>
<p>Request Example</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"inst_type"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
  </span><span class="nl">"cancel_ord_type"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
  </span><span class="nl">"order_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2509820413501205367"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div><div class="highlight"><pre class="highlight java tab-java"><code><span class="kn">import</span> <span class="nn">javax.crypto.Mac</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">javax.crypto.spec.SecretKeySpec</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">java.io.BufferedReader</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">java.io.InputStreamReader</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">java.io.OutputStream</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">java.net.HttpURLConnection</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">java.net.URL</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">java.nio.charset.StandardCharsets</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">java.util.Base64</span><span class="o">;</span>

<span class="kd">public</span> <span class="kd">class</span> <span class="nc">TestCase</span> <span class="o">{</span>
    <span class="kd">public</span> <span class="kd">static</span> <span class="nc">String</span> <span class="n">host</span> <span class="o">=</span> <span class="s">"https://api-v2.uzx.com"</span><span class="o">;</span>
    <span class="kd">public</span> <span class="kd">static</span> <span class="nc">String</span> <span class="no">UZXACCESSKEY2</span> <span class="o">=</span> <span class="s">"{APIKey}"</span><span class="o">;</span>
    <span class="kd">public</span> <span class="kd">static</span> <span class="nc">String</span> <span class="no">UZXACCESSSECRET2</span> <span class="o">=</span> <span class="s">"{SecretKey}"</span><span class="o">;</span>
    <span class="kd">public</span> <span class="kd">static</span> <span class="nc">String</span> <span class="no">UZXACCESSPASSPHRASE2</span> <span class="o">=</span> <span class="s">"{Passphrase}"</span><span class="o">;</span>

    <span class="kd">public</span> <span class="kd">enum</span> <span class="nc">HmacAlgorithmEnum</span> <span class="o">{</span>
        <span class="no">HMAC_SHA_256</span><span class="o">(</span><span class="s">"HmacSHA256"</span><span class="o">),</span>
        <span class="no">HMAC_SHA_512</span><span class="o">(</span><span class="s">"HmacSHA512"</span><span class="o">);</span>

        <span class="kd">private</span> <span class="kd">final</span> <span class="nc">String</span> <span class="n">algorithmName</span><span class="o">;</span>

        <span class="nc">HmacAlgorithmEnum</span><span class="o">(</span><span class="nc">String</span> <span class="n">algorithmName</span><span class="o">)</span> <span class="o">{</span>
            <span class="k">this</span><span class="o">.</span><span class="na">algorithmName</span> <span class="o">=</span> <span class="n">algorithmName</span><span class="o">;</span>
        <span class="o">}</span>

        <span class="kd">public</span> <span class="nc">String</span> <span class="nf">getAlgorithmName</span><span class="o">()</span> <span class="o">{</span>
            <span class="k">return</span> <span class="n">algorithmName</span><span class="o">;</span>
        <span class="o">}</span>
    <span class="o">}</span>

    <span class="kd">public</span> <span class="kd">static</span> <span class="nc">String</span> <span class="nf">generate</span><span class="o">(</span><span class="nc">String</span> <span class="n">timestamp</span><span class="o">,</span> <span class="nc">String</span> <span class="n">method</span><span class="o">,</span> <span class="nc">String</span> <span class="n">requestPath</span><span class="o">,</span>
                                 <span class="nc">String</span> <span class="n">queryString</span><span class="o">,</span> <span class="nc">String</span> <span class="n">body</span><span class="o">,</span> <span class="nc">String</span> <span class="n">secret</span><span class="o">,</span>
                                 <span class="nc">HmacAlgorithmEnum</span> <span class="n">algorithm</span><span class="o">)</span> <span class="kd">throws</span> <span class="nc">Exception</span> <span class="o">{</span>
        <span class="nc">String</span> <span class="n">data</span> <span class="o">=</span> <span class="n">timestamp</span> <span class="o">+</span> <span class="n">method</span> <span class="o">+</span> <span class="n">requestPath</span> <span class="o">+</span> <span class="o">(</span><span class="n">queryString</span> <span class="o">!=</span> <span class="kc">null</span> <span class="o">?</span> <span class="n">queryString</span> <span class="o">:</span> <span class="s">""</span><span class="o">)</span> <span class="o">+</span> <span class="n">body</span><span class="o">;</span>

        <span class="nc">Mac</span> <span class="n">mac</span> <span class="o">=</span> <span class="nc">Mac</span><span class="o">.</span><span class="na">getInstance</span><span class="o">(</span><span class="n">algorithm</span><span class="o">.</span><span class="na">getAlgorithmName</span><span class="o">());</span>
        <span class="nc">SecretKeySpec</span> <span class="n">secretKeySpec</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">SecretKeySpec</span><span class="o">(</span><span class="n">secret</span><span class="o">.</span><span class="na">getBytes</span><span class="o">(</span><span class="nc">StandardCharsets</span><span class="o">.</span><span class="na">UTF_8</span><span class="o">),</span> <span class="n">algorithm</span><span class="o">.</span><span class="na">getAlgorithmName</span><span class="o">());</span>
        <span class="n">mac</span><span class="o">.</span><span class="na">init</span><span class="o">(</span><span class="n">secretKeySpec</span><span class="o">);</span>

        <span class="kt">byte</span><span class="o">[]</span> <span class="n">hash</span> <span class="o">=</span> <span class="n">mac</span><span class="o">.</span><span class="na">doFinal</span><span class="o">(</span><span class="n">data</span><span class="o">.</span><span class="na">getBytes</span><span class="o">(</span><span class="nc">StandardCharsets</span><span class="o">.</span><span class="na">UTF_8</span><span class="o">));</span>
        <span class="k">return</span> <span class="nc">Base64</span><span class="o">.</span><span class="na">getEncoder</span><span class="o">().</span><span class="na">encodeToString</span><span class="o">(</span><span class="n">hash</span><span class="o">);</span>
    <span class="o">}</span>

    <span class="kd">public</span> <span class="kd">static</span> <span class="kt">void</span> <span class="nf">testPutApi</span><span class="o">()</span> <span class="kd">throws</span> <span class="nc">Exception</span> <span class="o">{</span>
        <span class="nc">String</span> <span class="n">timestamp</span> <span class="o">=</span> <span class="nc">System</span><span class="o">.</span><span class="na">currentTimeMillis</span><span class="o">()</span> <span class="o">/</span> <span class="mi">1000</span> <span class="o">+</span> <span class="s">""</span><span class="o">;</span>
        <span class="nc">String</span> <span class="n">method</span> <span class="o">=</span> <span class="s">"PUT"</span><span class="o">;</span>
        <span class="nc">String</span> <span class="n">requestPath</span> <span class="o">=</span> <span class="s">"/v2/trade/cancel-order"</span><span class="o">;</span>
        <span class="nc">String</span> <span class="n">body</span> <span class="o">=</span> <span class="s">"{\"inst_type\":1,\"cancel_ord_type\":1,\"order_id\":\"2509820413501205367\"}"</span><span class="o">;</span>
        <span class="nc">String</span> <span class="n">data</span> <span class="o">=</span> <span class="n">timestamp</span> <span class="o">+</span> <span class="n">method</span> <span class="o">+</span> <span class="n">requestPath</span> <span class="o">+</span> <span class="n">body</span><span class="o">;</span>
        <span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="n">data</span><span class="o">);</span>

        <span class="nc">String</span> <span class="n">signature</span> <span class="o">=</span> <span class="n">generate</span><span class="o">(</span><span class="n">timestamp</span><span class="o">,</span> <span class="n">method</span><span class="o">,</span> <span class="n">requestPath</span><span class="o">,</span> <span class="kc">null</span><span class="o">,</span> <span class="n">body</span><span class="o">,</span> <span class="no">UZXACCESSSECRET2</span><span class="o">,</span> <span class="nc">HmacAlgorithmEnum</span><span class="o">.</span><span class="na">HMAC_SHA_256</span><span class="o">);</span>
        <span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="n">signature</span><span class="o">);</span>

        <span class="no">URL</span> <span class="n">url</span> <span class="o">=</span> <span class="k">new</span> <span class="no">URL</span><span class="o">(</span><span class="n">host</span> <span class="o">+</span> <span class="n">requestPath</span><span class="o">);</span>
        <span class="nc">HttpURLConnection</span> <span class="n">conn</span> <span class="o">=</span> <span class="o">(</span><span class="nc">HttpURLConnection</span><span class="o">)</span> <span class="n">url</span><span class="o">.</span><span class="na">openConnection</span><span class="o">();</span>
        <span class="n">conn</span><span class="o">.</span><span class="na">setRequestMethod</span><span class="o">(</span><span class="s">"PUT"</span><span class="o">);</span>
        <span class="n">conn</span><span class="o">.</span><span class="na">setRequestProperty</span><span class="o">(</span><span class="s">"Content-Type"</span><span class="o">,</span> <span class="s">"application/json"</span><span class="o">);</span>
        <span class="n">conn</span><span class="o">.</span><span class="na">setRequestProperty</span><span class="o">(</span><span class="s">"UZX-ACCESS-KEY"</span><span class="o">,</span> <span class="no">UZXACCESSKEY2</span><span class="o">);</span>
        <span class="n">conn</span><span class="o">.</span><span class="na">setRequestProperty</span><span class="o">(</span><span class="s">"UZX-ACCESS-SIGN"</span><span class="o">,</span> <span class="n">signature</span><span class="o">);</span>
        <span class="n">conn</span><span class="o">.</span><span class="na">setRequestProperty</span><span class="o">(</span><span class="s">"UZX-ACCESS-TIMESTAMP"</span><span class="o">,</span> <span class="n">timestamp</span><span class="o">);</span>
        <span class="n">conn</span><span class="o">.</span><span class="na">setRequestProperty</span><span class="o">(</span><span class="s">"UZX-ACCESS-PASSPHRASE"</span><span class="o">,</span> <span class="no">UZXACCESSPASSPHRASE2</span><span class="o">);</span>
        <span class="n">conn</span><span class="o">.</span><span class="na">setDoOutput</span><span class="o">(</span><span class="kc">true</span><span class="o">);</span>

        <span class="k">try</span> <span class="o">(</span><span class="nc">OutputStream</span> <span class="n">os</span> <span class="o">=</span> <span class="n">conn</span><span class="o">.</span><span class="na">getOutputStream</span><span class="o">())</span> <span class="o">{</span>
            <span class="kt">byte</span><span class="o">[]</span> <span class="n">input</span> <span class="o">=</span> <span class="n">body</span><span class="o">.</span><span class="na">getBytes</span><span class="o">(</span><span class="nc">StandardCharsets</span><span class="o">.</span><span class="na">UTF_8</span><span class="o">);</span>
            <span class="n">os</span><span class="o">.</span><span class="na">write</span><span class="o">(</span><span class="n">input</span><span class="o">,</span> <span class="mi">0</span><span class="o">,</span> <span class="n">input</span><span class="o">.</span><span class="na">length</span><span class="o">);</span>
        <span class="o">}</span>

        <span class="k">try</span> <span class="o">(</span><span class="nc">BufferedReader</span> <span class="n">br</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">BufferedReader</span><span class="o">(</span>
                <span class="k">new</span> <span class="nf">InputStreamReader</span><span class="o">(</span><span class="n">conn</span><span class="o">.</span><span class="na">getInputStream</span><span class="o">(),</span> <span class="nc">StandardCharsets</span><span class="o">.</span><span class="na">UTF_8</span><span class="o">)))</span> <span class="o">{</span>
            <span class="nc">StringBuilder</span> <span class="n">response</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">StringBuilder</span><span class="o">();</span>
            <span class="nc">String</span> <span class="n">responseLine</span><span class="o">;</span>
            <span class="k">while</span> <span class="o">((</span><span class="n">responseLine</span> <span class="o">=</span> <span class="n">br</span><span class="o">.</span><span class="na">readLine</span><span class="o">())</span> <span class="o">!=</span> <span class="kc">null</span><span class="o">)</span> <span class="o">{</span>
                <span class="n">response</span><span class="o">.</span><span class="na">append</span><span class="o">(</span><span class="n">responseLine</span><span class="o">.</span><span class="na">trim</span><span class="o">());</span>
            <span class="o">}</span>
            <span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="n">response</span><span class="o">.</span><span class="na">toString</span><span class="o">());</span>
        <span class="o">}</span>
    <span class="o">}</span>

    <span class="kd">public</span> <span class="kd">static</span> <span class="kt">void</span> <span class="nf">main</span><span class="o">(</span><span class="nc">String</span><span class="o">[]</span> <span class="n">args</span><span class="o">)</span> <span class="o">{</span>
        <span class="k">try</span> <span class="o">{</span>
            <span class="n">testPutApi</span><span class="o">();</span>
        <span class="o">}</span> <span class="k">catch</span> <span class="o">(</span><span class="nc">Exception</span> <span class="n">e</span><span class="o">)</span> <span class="o">{</span>
            <span class="n">e</span><span class="o">.</span><span class="na">printStackTrace</span><span class="o">();</span>
        <span class="o">}</span>
    <span class="o">}</span>
<span class="o">}</span>

</code></pre></div><div class="highlight"><pre class="highlight python tab-python"><code><span class="kn">import</span> <span class="nn">time</span>
<span class="kn">import</span> <span class="nn">hmac</span>
<span class="kn">import</span> <span class="nn">hashlib</span>
<span class="kn">import</span> <span class="nn">base64</span>
<span class="kn">import</span> <span class="nn">requests</span>
<span class="kn">import</span> <span class="nn">json</span>

<span class="n">host</span> <span class="o">=</span> <span class="s">"https://api-v2.uzx.com"</span>
<span class="n">APIKey</span> <span class="o">=</span> <span class="s">"{APIKey}"</span>
<span class="n">SecretKey</span> <span class="o">=</span> <span class="s">"{SecretKey}"</span>
<span class="n">Passphrase</span> <span class="o">=</span> <span class="s">"{Passphrase}"</span>

<span class="k">def</span> <span class="nf">generate_signature</span><span class="p">(</span><span class="n">timestamp</span><span class="p">,</span> <span class="n">method</span><span class="p">,</span> <span class="n">path</span><span class="p">,</span> <span class="n">query</span><span class="p">,</span> <span class="n">body</span><span class="p">,</span> <span class="n">secret</span><span class="p">):</span>
    <span class="n">query</span> <span class="o">=</span> <span class="s">'?'</span> <span class="o">+</span> <span class="n">query</span> <span class="k">if</span> <span class="n">query</span> <span class="k">else</span> <span class="s">''</span>
    <span class="n">body</span> <span class="o">=</span> <span class="n">body</span> <span class="k">if</span> <span class="n">body</span> <span class="k">else</span> <span class="s">''</span>
    <span class="n">prehash</span> <span class="o">=</span> <span class="sa">f</span><span class="s">"</span><span class="si">{</span><span class="n">timestamp</span><span class="si">}{</span><span class="n">method</span><span class="p">.</span><span class="n">upper</span><span class="p">()</span><span class="si">}{</span><span class="n">path</span><span class="si">}{</span><span class="n">query</span><span class="si">}{</span><span class="n">body</span><span class="si">}</span><span class="s">"</span>
    <span class="n">signature</span> <span class="o">=</span> <span class="n">hmac</span><span class="p">.</span><span class="n">new</span><span class="p">(</span><span class="n">secret</span><span class="p">.</span><span class="n">encode</span><span class="p">(),</span> <span class="n">prehash</span><span class="p">.</span><span class="n">encode</span><span class="p">(),</span> <span class="n">hashlib</span><span class="p">.</span><span class="n">sha256</span><span class="p">).</span><span class="n">digest</span><span class="p">()</span>
    <span class="k">return</span> <span class="n">base64</span><span class="p">.</span><span class="n">b64encode</span><span class="p">(</span><span class="n">signature</span><span class="p">).</span><span class="n">decode</span><span class="p">()</span>

<span class="k">def</span> <span class="nf">test_put_api</span><span class="p">():</span>
    <span class="n">timestamp</span> <span class="o">=</span> <span class="nb">str</span><span class="p">(</span><span class="nb">int</span><span class="p">(</span><span class="n">time</span><span class="p">.</span><span class="n">time</span><span class="p">()))</span>
    <span class="n">method</span> <span class="o">=</span> <span class="s">"PUT"</span>
    <span class="n">path</span> <span class="o">=</span> <span class="s">"/v2/trade/cancel-order"</span>
    <span class="n">body</span> <span class="o">=</span> <span class="p">{</span>
      <span class="s">"inst_type"</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span>
      <span class="s">"cancel_ord_type"</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span>
      <span class="s">"order_id"</span><span class="p">:</span> <span class="s">"2509820413501205367"</span>
    <span class="p">}</span>
    <span class="n">body_str</span> <span class="o">=</span> <span class="n">json</span><span class="p">.</span><span class="n">dumps</span><span class="p">(</span><span class="n">body</span><span class="p">,</span> <span class="n">separators</span><span class="o">=</span><span class="p">(</span><span class="s">','</span><span class="p">,</span> <span class="s">':'</span><span class="p">))</span> 
    <span class="n">signature</span> <span class="o">=</span> <span class="n">generate_signature</span><span class="p">(</span><span class="n">timestamp</span><span class="p">,</span> <span class="n">method</span><span class="p">,</span> <span class="n">path</span><span class="p">,</span> <span class="bp">None</span><span class="p">,</span> <span class="n">body_str</span><span class="p">,</span> <span class="n">SecretKey</span><span class="p">)</span>

    <span class="n">headers</span> <span class="o">=</span> <span class="p">{</span>
        <span class="s">"UZX-ACCESS-KEY"</span><span class="p">:</span> <span class="n">APIKey</span><span class="p">,</span>
        <span class="s">"UZX-ACCESS-SIGN"</span><span class="p">:</span> <span class="n">signature</span><span class="p">,</span>
        <span class="s">"UZX-ACCESS-TIMESTAMP"</span><span class="p">:</span> <span class="n">timestamp</span><span class="p">,</span>
        <span class="s">"UZX-ACCESS-PASSPHRASE"</span><span class="p">:</span> <span class="n">Passphrase</span><span class="p">,</span>
        <span class="s">"Content-Type"</span><span class="p">:</span> <span class="s">"application/json"</span>
    <span class="p">}</span>

    <span class="n">resp</span> <span class="o">=</span> <span class="n">requests</span><span class="p">.</span><span class="n">put</span><span class="p">(</span><span class="n">host</span> <span class="o">+</span> <span class="n">path</span><span class="p">,</span> <span class="n">headers</span><span class="o">=</span><span class="n">headers</span><span class="p">,</span> <span class="n">data</span><span class="o">=</span><span class="n">body_str</span><span class="p">)</span>
    <span class="k">print</span><span class="p">(</span><span class="n">resp</span><span class="p">.</span><span class="n">status_code</span><span class="p">,</span> <span class="n">resp</span><span class="p">.</span><span class="n">text</span><span class="p">)</span>

<span class="n">test_put_api</span><span class="p">()</span>

</code></pre></div><div class="highlight"><pre class="highlight go tab-go"><code><span class="k">package</span> <span class="n">main</span>

<span class="k">import</span> <span class="p">(</span>
    <span class="s">"bytes"</span>
    <span class="s">"crypto/hmac"</span>
    <span class="s">"crypto/sha256"</span>
    <span class="s">"encoding/base64"</span>
    <span class="s">"fmt"</span>
    <span class="s">"net/http"</span>
    <span class="s">"time"</span>
    <span class="s">"strings"</span>
    <span class="s">"io/ioutil"</span>
<span class="p">)</span>

<span class="k">const</span> <span class="p">(</span>
    <span class="n">host</span>       <span class="o">=</span> <span class="s">"https://api-v2.uzx.com"</span>
    <span class="n">APIKey</span>     <span class="o">=</span> <span class="s">"{APIKey}"</span>
    <span class="n">SecretKey</span>  <span class="o">=</span> <span class="s">"{SecretKey}"</span>
    <span class="n">Passphrase</span> <span class="o">=</span> <span class="s">"{Passphrase}"</span>
<span class="p">)</span>

<span class="k">func</span> <span class="n">generateSignature</span><span class="p">(</span><span class="n">timestamp</span><span class="p">,</span> <span class="n">method</span><span class="p">,</span> <span class="n">path</span><span class="p">,</span> <span class="n">query</span><span class="p">,</span> <span class="n">body</span><span class="p">,</span> <span class="n">secret</span> <span class="kt">string</span><span class="p">)</span> <span class="kt">string</span> <span class="p">{</span>
    <span class="k">if</span> <span class="n">query</span> <span class="o">!=</span> <span class="s">""</span> <span class="p">{</span>
        <span class="n">query</span> <span class="o">=</span> <span class="s">"?"</span> <span class="o">+</span> <span class="n">query</span>
    <span class="p">}</span>
    <span class="n">preHash</span> <span class="o">:=</span> <span class="n">timestamp</span> <span class="o">+</span> <span class="n">strings</span><span class="o">.</span><span class="n">ToUpper</span><span class="p">(</span><span class="n">method</span><span class="p">)</span> <span class="o">+</span> <span class="n">path</span> <span class="o">+</span> <span class="n">query</span> <span class="o">+</span> <span class="n">body</span>
    <span class="n">mac</span> <span class="o">:=</span> <span class="n">hmac</span><span class="o">.</span><span class="n">New</span><span class="p">(</span><span class="n">sha256</span><span class="o">.</span><span class="n">New</span><span class="p">,</span> <span class="p">[]</span><span class="kt">byte</span><span class="p">(</span><span class="n">secret</span><span class="p">))</span>
    <span class="n">mac</span><span class="o">.</span><span class="n">Write</span><span class="p">([]</span><span class="kt">byte</span><span class="p">(</span><span class="n">preHash</span><span class="p">))</span>
    <span class="k">return</span> <span class="n">base64</span><span class="o">.</span><span class="n">StdEncoding</span><span class="o">.</span><span class="n">EncodeToString</span><span class="p">(</span><span class="n">mac</span><span class="o">.</span><span class="n">Sum</span><span class="p">(</span><span class="no">nil</span><span class="p">))</span>
<span class="p">}</span>

<span class="k">func</span> <span class="n">testPutApi</span><span class="p">()</span> <span class="p">{</span>
    <span class="n">timestamp</span> <span class="o">:=</span> <span class="n">fmt</span><span class="o">.</span><span class="n">Sprintf</span><span class="p">(</span><span class="s">"%d"</span><span class="p">,</span> <span class="n">time</span><span class="o">.</span><span class="n">Now</span><span class="p">()</span><span class="o">.</span><span class="n">Unix</span><span class="p">())</span>
    <span class="n">method</span> <span class="o">:=</span> <span class="s">"PUT"</span>
    <span class="n">path</span> <span class="o">:=</span> <span class="s">"/v2/trade/cancel-order"</span>
    <span class="n">body</span> <span class="o">:=</span> <span class="s">`{"inst_type":1,"cancel_ord_type":1,"order_id":"2509820413501205367"}`</span>
    <span class="n">signature</span> <span class="o">:=</span> <span class="n">generateSignature</span><span class="p">(</span><span class="n">timestamp</span><span class="p">,</span> <span class="n">method</span><span class="p">,</span> <span class="n">path</span><span class="p">,</span> <span class="s">""</span><span class="p">,</span> <span class="n">body</span><span class="p">,</span> <span class="n">SecretKey</span><span class="p">)</span>

    <span class="n">req</span><span class="p">,</span> <span class="n">err</span> <span class="o">:=</span> <span class="n">http</span><span class="o">.</span><span class="n">NewRequest</span><span class="p">(</span><span class="n">method</span><span class="p">,</span> <span class="n">host</span><span class="o">+</span><span class="n">path</span><span class="p">,</span> <span class="n">bytes</span><span class="o">.</span><span class="n">NewBuffer</span><span class="p">([]</span><span class="kt">byte</span><span class="p">(</span><span class="n">body</span><span class="p">)))</span>
    <span class="k">if</span> <span class="n">err</span> <span class="o">!=</span> <span class="no">nil</span> <span class="p">{</span>
        <span class="nb">panic</span><span class="p">(</span><span class="n">err</span><span class="p">)</span>
    <span class="p">}</span>

    <span class="n">req</span><span class="o">.</span><span class="n">Header</span><span class="o">.</span><span class="n">Set</span><span class="p">(</span><span class="s">"Content-Type"</span><span class="p">,</span> <span class="s">"application/json"</span><span class="p">)</span>
    <span class="n">req</span><span class="o">.</span><span class="n">Header</span><span class="o">.</span><span class="n">Set</span><span class="p">(</span><span class="s">"UZX-ACCESS-KEY"</span><span class="p">,</span> <span class="n">APIKey</span><span class="p">)</span>
    <span class="n">req</span><span class="o">.</span><span class="n">Header</span><span class="o">.</span><span class="n">Set</span><span class="p">(</span><span class="s">"UZX-ACCESS-SIGN"</span><span class="p">,</span> <span class="n">signature</span><span class="p">)</span>
    <span class="n">req</span><span class="o">.</span><span class="n">Header</span><span class="o">.</span><span class="n">Set</span><span class="p">(</span><span class="s">"UZX-ACCESS-TIMESTAMP"</span><span class="p">,</span> <span class="n">timestamp</span><span class="p">)</span>
    <span class="n">req</span><span class="o">.</span><span class="n">Header</span><span class="o">.</span><span class="n">Set</span><span class="p">(</span><span class="s">"UZX-ACCESS-PASSPHRASE"</span><span class="p">,</span> <span class="n">Passphrase</span><span class="p">)</span>

    <span class="n">client</span> <span class="o">:=</span> <span class="o">&amp;</span><span class="n">http</span><span class="o">.</span><span class="n">Client</span><span class="p">{}</span>
    <span class="n">resp</span><span class="p">,</span> <span class="n">err</span> <span class="o">:=</span> <span class="n">client</span><span class="o">.</span><span class="n">Do</span><span class="p">(</span><span class="n">req</span><span class="p">)</span>
    <span class="k">if</span> <span class="n">err</span> <span class="o">!=</span> <span class="no">nil</span> <span class="p">{</span>
        <span class="nb">panic</span><span class="p">(</span><span class="n">err</span><span class="p">)</span>
    <span class="p">}</span>
    <span class="k">defer</span> <span class="n">resp</span><span class="o">.</span><span class="n">Body</span><span class="o">.</span><span class="n">Close</span><span class="p">()</span>
    <span class="n">bodyResp</span><span class="p">,</span> <span class="n">_</span> <span class="o">:=</span> <span class="n">ioutil</span><span class="o">.</span><span class="n">ReadAll</span><span class="p">(</span><span class="n">resp</span><span class="o">.</span><span class="n">Body</span><span class="p">)</span>
    <span class="n">fmt</span><span class="o">.</span><span class="n">Println</span><span class="p">(</span><span class="n">resp</span><span class="o">.</span><span class="n">StatusCode</span><span class="p">,</span> <span class="kt">string</span><span class="p">(</span><span class="n">bodyResp</span><span class="p">))</span>
<span class="p">}</span>

<span class="k">func</span> <span class="n">main</span><span class="p">()</span> <span class="p">{</span>
    <span class="n">testPutApi</span><span class="p">()</span>
<span class="p">}</span>
</code></pre></div>
<table><thead>
<tr>
<th>Name</th>
<th>Position</th>
<th>Type</th>
<th>Required</th>
<th>Description</th>
<th>Notes</th>
</tr>
</thead><tbody>
<tr>
<td>body</td>
<td>body</td>
<td>object</td>
<td>No</td>
<td>None</td>
<td>None</td>
</tr>
<tr>
<td>» inst_type</td>
<td>body</td>
<td>integer</td>
<td>Yes</td>
<td>Business Type</td>
<td>1: Spot, 2: Swap</td>
</tr>
<tr>
<td>» cancel_ord_type</td>
<td>body</td>
<td>integer</td>
<td>Yes</td>
<td>Order Cancellation Type</td>
<td>1: Limit/Advanced Limit Order, 2: Take Profit/Stop Loss Order, 3: Scheduled Order, 4: Trailing Take Profit/Stop Loss Order</td>
</tr>
<tr>
<td>» order_id</td>
<td>body</td>
<td>string</td>
<td>Yes</td>
<td>Order ID</td>
<td>None</td>
</tr>
</tbody></table>
<h4 id='a222a51evy9a'>Response Parameters</h4>
<blockquote>
<p>Response Example</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"code"</span><span class="p">:</span><span class="w"> </span><span class="mi">200</span><span class="p">,</span><span class="w">
  </span><span class="nl">"msg"</span><span class="p">:</span><span class="w"> </span><span class="s2">"string"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">{}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<table><thead>
<tr>
<th>Name</th>
<th>Type</th>
<th>Required</th>
<th>Explanation</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>code</td>
<td>integer</td>
<td>true</td>
<td>Status code</td>
<td></td>
</tr>
<tr>
<td>msg</td>
<td>string</td>
<td>true</td>
<td>Description</td>
<td></td>
</tr>
<tr>
<td>data</td>
<td>object</td>
<td>false</td>
<td>Response payload</td>
<td></td>
</tr>
</tbody></table>
<h3 id='e3294bbap53z'>Cancel Batch Orders</h3><h4 id='cc37fa7dq009'>Rate Limit: 3 times/second</h4><h4 id='59ff88c8ul98'>HTTP Request</h4>
<p><code>PUT /v2/trade/cancel-batch-order</code></p>
<h4 id='22da1a05yone'>Request Parameters</h4>
<blockquote>
<p>Request Example</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"inst_type"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
  </span><span class="nl">"cancel_ord_type"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
  </span><span class="nl">"order_ids"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="s2">"2509820413501205367"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"2509820413501205368"</span><span class="w">
  </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div><div class="highlight"><pre class="highlight java tab-java"><code><span class="kn">import</span> <span class="nn">javax.crypto.Mac</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">javax.crypto.spec.SecretKeySpec</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">java.io.BufferedReader</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">java.io.InputStreamReader</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">java.io.OutputStream</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">java.net.HttpURLConnection</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">java.net.URL</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">java.nio.charset.StandardCharsets</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">java.util.Base64</span><span class="o">;</span>

<span class="kd">public</span> <span class="kd">class</span> <span class="nc">TestCase</span> <span class="o">{</span>
    <span class="kd">public</span> <span class="kd">static</span> <span class="nc">String</span> <span class="n">host</span> <span class="o">=</span> <span class="s">"https://api-v2.uzx.com"</span><span class="o">;</span>
    <span class="kd">public</span> <span class="kd">static</span> <span class="nc">String</span> <span class="no">UZXACCESSKEY2</span> <span class="o">=</span> <span class="s">"{APIKey}"</span><span class="o">;</span>
    <span class="kd">public</span> <span class="kd">static</span> <span class="nc">String</span> <span class="no">UZXACCESSSECRET2</span> <span class="o">=</span> <span class="s">"{SecretKey}"</span><span class="o">;</span>
    <span class="kd">public</span> <span class="kd">static</span> <span class="nc">String</span> <span class="no">UZXACCESSPASSPHRASE2</span> <span class="o">=</span> <span class="s">"{Passphrase}"</span><span class="o">;</span>

    <span class="kd">public</span> <span class="kd">enum</span> <span class="nc">HmacAlgorithmEnum</span> <span class="o">{</span>
        <span class="no">HMAC_SHA_256</span><span class="o">(</span><span class="s">"HmacSHA256"</span><span class="o">),</span>
        <span class="no">HMAC_SHA_512</span><span class="o">(</span><span class="s">"HmacSHA512"</span><span class="o">);</span>

        <span class="kd">private</span> <span class="kd">final</span> <span class="nc">String</span> <span class="n">algorithmName</span><span class="o">;</span>

        <span class="nc">HmacAlgorithmEnum</span><span class="o">(</span><span class="nc">String</span> <span class="n">algorithmName</span><span class="o">)</span> <span class="o">{</span>
            <span class="k">this</span><span class="o">.</span><span class="na">algorithmName</span> <span class="o">=</span> <span class="n">algorithmName</span><span class="o">;</span>
        <span class="o">}</span>

        <span class="kd">public</span> <span class="nc">String</span> <span class="nf">getAlgorithmName</span><span class="o">()</span> <span class="o">{</span>
            <span class="k">return</span> <span class="n">algorithmName</span><span class="o">;</span>
        <span class="o">}</span>
    <span class="o">}</span>

    <span class="kd">public</span> <span class="kd">static</span> <span class="nc">String</span> <span class="nf">generate</span><span class="o">(</span><span class="nc">String</span> <span class="n">timestamp</span><span class="o">,</span> <span class="nc">String</span> <span class="n">method</span><span class="o">,</span> <span class="nc">String</span> <span class="n">requestPath</span><span class="o">,</span>
                                 <span class="nc">String</span> <span class="n">queryString</span><span class="o">,</span> <span class="nc">String</span> <span class="n">body</span><span class="o">,</span> <span class="nc">String</span> <span class="n">secret</span><span class="o">,</span>
                                 <span class="nc">HmacAlgorithmEnum</span> <span class="n">algorithm</span><span class="o">)</span> <span class="kd">throws</span> <span class="nc">Exception</span> <span class="o">{</span>
        <span class="nc">String</span> <span class="n">data</span> <span class="o">=</span> <span class="n">timestamp</span> <span class="o">+</span> <span class="n">method</span> <span class="o">+</span> <span class="n">requestPath</span> <span class="o">+</span> <span class="o">(</span><span class="n">queryString</span> <span class="o">!=</span> <span class="kc">null</span> <span class="o">?</span> <span class="n">queryString</span> <span class="o">:</span> <span class="s">""</span><span class="o">)</span> <span class="o">+</span> <span class="n">body</span><span class="o">;</span>

        <span class="nc">Mac</span> <span class="n">mac</span> <span class="o">=</span> <span class="nc">Mac</span><span class="o">.</span><span class="na">getInstance</span><span class="o">(</span><span class="n">algorithm</span><span class="o">.</span><span class="na">getAlgorithmName</span><span class="o">());</span>
        <span class="nc">SecretKeySpec</span> <span class="n">secretKeySpec</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">SecretKeySpec</span><span class="o">(</span><span class="n">secret</span><span class="o">.</span><span class="na">getBytes</span><span class="o">(</span><span class="nc">StandardCharsets</span><span class="o">.</span><span class="na">UTF_8</span><span class="o">),</span> <span class="n">algorithm</span><span class="o">.</span><span class="na">getAlgorithmName</span><span class="o">());</span>
        <span class="n">mac</span><span class="o">.</span><span class="na">init</span><span class="o">(</span><span class="n">secretKeySpec</span><span class="o">);</span>

        <span class="kt">byte</span><span class="o">[]</span> <span class="n">hash</span> <span class="o">=</span> <span class="n">mac</span><span class="o">.</span><span class="na">doFinal</span><span class="o">(</span><span class="n">data</span><span class="o">.</span><span class="na">getBytes</span><span class="o">(</span><span class="nc">StandardCharsets</span><span class="o">.</span><span class="na">UTF_8</span><span class="o">));</span>
        <span class="k">return</span> <span class="nc">Base64</span><span class="o">.</span><span class="na">getEncoder</span><span class="o">().</span><span class="na">encodeToString</span><span class="o">(</span><span class="n">hash</span><span class="o">);</span>
    <span class="o">}</span>

    <span class="kd">public</span> <span class="kd">static</span> <span class="kt">void</span> <span class="nf">testPutApi</span><span class="o">()</span> <span class="kd">throws</span> <span class="nc">Exception</span> <span class="o">{</span>
        <span class="nc">String</span> <span class="n">timestamp</span> <span class="o">=</span> <span class="nc">System</span><span class="o">.</span><span class="na">currentTimeMillis</span><span class="o">()</span> <span class="o">/</span> <span class="mi">1000</span> <span class="o">+</span> <span class="s">""</span><span class="o">;</span>
        <span class="nc">String</span> <span class="n">method</span> <span class="o">=</span> <span class="s">"PUT"</span><span class="o">;</span>
        <span class="nc">String</span> <span class="n">requestPath</span> <span class="o">=</span> <span class="s">"/v2/trade/cancel-batch-order"</span><span class="o">;</span>
        <span class="nc">String</span> <span class="n">body</span> <span class="o">=</span> <span class="s">"{\"inst_type\":1,\"cancel_ord_type\":1,\"order_ids\":[\"2509820413501205367\",\"2509820413501205368\"]}"</span><span class="o">;</span>
        <span class="nc">String</span> <span class="n">data</span> <span class="o">=</span> <span class="n">timestamp</span> <span class="o">+</span> <span class="n">method</span> <span class="o">+</span> <span class="n">requestPath</span> <span class="o">+</span> <span class="n">body</span><span class="o">;</span>
        <span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="n">data</span><span class="o">);</span>

        <span class="nc">String</span> <span class="n">signature</span> <span class="o">=</span> <span class="n">generate</span><span class="o">(</span><span class="n">timestamp</span><span class="o">,</span> <span class="n">method</span><span class="o">,</span> <span class="n">requestPath</span><span class="o">,</span> <span class="kc">null</span><span class="o">,</span> <span class="n">body</span><span class="o">,</span> <span class="no">UZXACCESSSECRET2</span><span class="o">,</span> <span class="nc">HmacAlgorithmEnum</span><span class="o">.</span><span class="na">HMAC_SHA_256</span><span class="o">);</span>
        <span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="n">signature</span><span class="o">);</span>

        <span class="no">URL</span> <span class="n">url</span> <span class="o">=</span> <span class="k">new</span> <span class="no">URL</span><span class="o">(</span><span class="n">host</span> <span class="o">+</span> <span class="n">requestPath</span><span class="o">);</span>
        <span class="nc">HttpURLConnection</span> <span class="n">conn</span> <span class="o">=</span> <span class="o">(</span><span class="nc">HttpURLConnection</span><span class="o">)</span> <span class="n">url</span><span class="o">.</span><span class="na">openConnection</span><span class="o">();</span>
        <span class="n">conn</span><span class="o">.</span><span class="na">setRequestMethod</span><span class="o">(</span><span class="s">"PUT"</span><span class="o">);</span>
        <span class="n">conn</span><span class="o">.</span><span class="na">setRequestProperty</span><span class="o">(</span><span class="s">"Content-Type"</span><span class="o">,</span> <span class="s">"application/json"</span><span class="o">);</span>
        <span class="n">conn</span><span class="o">.</span><span class="na">setRequestProperty</span><span class="o">(</span><span class="s">"UZX-ACCESS-KEY"</span><span class="o">,</span> <span class="no">UZXACCESSKEY2</span><span class="o">);</span>
        <span class="n">conn</span><span class="o">.</span><span class="na">setRequestProperty</span><span class="o">(</span><span class="s">"UZX-ACCESS-SIGN"</span><span class="o">,</span> <span class="n">signature</span><span class="o">);</span>
        <span class="n">conn</span><span class="o">.</span><span class="na">setRequestProperty</span><span class="o">(</span><span class="s">"UZX-ACCESS-TIMESTAMP"</span><span class="o">,</span> <span class="n">timestamp</span><span class="o">);</span>
        <span class="n">conn</span><span class="o">.</span><span class="na">setRequestProperty</span><span class="o">(</span><span class="s">"UZX-ACCESS-PASSPHRASE"</span><span class="o">,</span> <span class="no">UZXACCESSPASSPHRASE2</span><span class="o">);</span>
        <span class="n">conn</span><span class="o">.</span><span class="na">setDoOutput</span><span class="o">(</span><span class="kc">true</span><span class="o">);</span>

        <span class="k">try</span> <span class="o">(</span><span class="nc">OutputStream</span> <span class="n">os</span> <span class="o">=</span> <span class="n">conn</span><span class="o">.</span><span class="na">getOutputStream</span><span class="o">())</span> <span class="o">{</span>
            <span class="kt">byte</span><span class="o">[]</span> <span class="n">input</span> <span class="o">=</span> <span class="n">body</span><span class="o">.</span><span class="na">getBytes</span><span class="o">(</span><span class="nc">StandardCharsets</span><span class="o">.</span><span class="na">UTF_8</span><span class="o">);</span>
            <span class="n">os</span><span class="o">.</span><span class="na">write</span><span class="o">(</span><span class="n">input</span><span class="o">,</span> <span class="mi">0</span><span class="o">,</span> <span class="n">input</span><span class="o">.</span><span class="na">length</span><span class="o">);</span>
        <span class="o">}</span>

        <span class="k">try</span> <span class="o">(</span><span class="nc">BufferedReader</span> <span class="n">br</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">BufferedReader</span><span class="o">(</span>
                <span class="k">new</span> <span class="nf">InputStreamReader</span><span class="o">(</span><span class="n">conn</span><span class="o">.</span><span class="na">getInputStream</span><span class="o">(),</span> <span class="nc">StandardCharsets</span><span class="o">.</span><span class="na">UTF_8</span><span class="o">)))</span> <span class="o">{</span>
            <span class="nc">StringBuilder</span> <span class="n">response</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">StringBuilder</span><span class="o">();</span>
            <span class="nc">String</span> <span class="n">responseLine</span><span class="o">;</span>
            <span class="k">while</span> <span class="o">((</span><span class="n">responseLine</span> <span class="o">=</span> <span class="n">br</span><span class="o">.</span><span class="na">readLine</span><span class="o">())</span> <span class="o">!=</span> <span class="kc">null</span><span class="o">)</span> <span class="o">{</span>
                <span class="n">response</span><span class="o">.</span><span class="na">append</span><span class="o">(</span><span class="n">responseLine</span><span class="o">.</span><span class="na">trim</span><span class="o">());</span>
            <span class="o">}</span>
            <span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="n">response</span><span class="o">.</span><span class="na">toString</span><span class="o">());</span>
        <span class="o">}</span>
    <span class="o">}</span>

    <span class="kd">public</span> <span class="kd">static</span> <span class="kt">void</span> <span class="nf">main</span><span class="o">(</span><span class="nc">String</span><span class="o">[]</span> <span class="n">args</span><span class="o">)</span> <span class="o">{</span>
        <span class="k">try</span> <span class="o">{</span>
            <span class="n">testPutApi</span><span class="o">();</span>
        <span class="o">}</span> <span class="k">catch</span> <span class="o">(</span><span class="nc">Exception</span> <span class="n">e</span><span class="o">)</span> <span class="o">{</span>
            <span class="n">e</span><span class="o">.</span><span class="na">printStackTrace</span><span class="o">();</span>
        <span class="o">}</span>
    <span class="o">}</span>
<span class="o">}</span>

</code></pre></div><div class="highlight"><pre class="highlight python tab-python"><code><span class="kn">import</span> <span class="nn">time</span>
<span class="kn">import</span> <span class="nn">hmac</span>
<span class="kn">import</span> <span class="nn">hashlib</span>
<span class="kn">import</span> <span class="nn">base64</span>
<span class="kn">import</span> <span class="nn">requests</span>
<span class="kn">import</span> <span class="nn">json</span>

<span class="n">host</span> <span class="o">=</span> <span class="s">"https://api-v2.uzx.com"</span>
<span class="n">APIKey</span> <span class="o">=</span> <span class="s">"{APIKey}"</span>
<span class="n">SecretKey</span> <span class="o">=</span> <span class="s">"{SecretKey}"</span>
<span class="n">Passphrase</span> <span class="o">=</span> <span class="s">"{Passphrase}"</span>

<span class="k">def</span> <span class="nf">generate_signature</span><span class="p">(</span><span class="n">timestamp</span><span class="p">,</span> <span class="n">method</span><span class="p">,</span> <span class="n">path</span><span class="p">,</span> <span class="n">query</span><span class="p">,</span> <span class="n">body</span><span class="p">,</span> <span class="n">secret</span><span class="p">):</span>
    <span class="n">query</span> <span class="o">=</span> <span class="s">'?'</span> <span class="o">+</span> <span class="n">query</span> <span class="k">if</span> <span class="n">query</span> <span class="k">else</span> <span class="s">''</span>
    <span class="n">body</span> <span class="o">=</span> <span class="n">body</span> <span class="k">if</span> <span class="n">body</span> <span class="k">else</span> <span class="s">''</span>
    <span class="n">prehash</span> <span class="o">=</span> <span class="sa">f</span><span class="s">"</span><span class="si">{</span><span class="n">timestamp</span><span class="si">}{</span><span class="n">method</span><span class="p">.</span><span class="n">upper</span><span class="p">()</span><span class="si">}{</span><span class="n">path</span><span class="si">}{</span><span class="n">query</span><span class="si">}{</span><span class="n">body</span><span class="si">}</span><span class="s">"</span>
    <span class="n">signature</span> <span class="o">=</span> <span class="n">hmac</span><span class="p">.</span><span class="n">new</span><span class="p">(</span><span class="n">secret</span><span class="p">.</span><span class="n">encode</span><span class="p">(),</span> <span class="n">prehash</span><span class="p">.</span><span class="n">encode</span><span class="p">(),</span> <span class="n">hashlib</span><span class="p">.</span><span class="n">sha256</span><span class="p">).</span><span class="n">digest</span><span class="p">()</span>
    <span class="k">return</span> <span class="n">base64</span><span class="p">.</span><span class="n">b64encode</span><span class="p">(</span><span class="n">signature</span><span class="p">).</span><span class="n">decode</span><span class="p">()</span>

<span class="k">def</span> <span class="nf">test_put_api</span><span class="p">():</span>
    <span class="n">timestamp</span> <span class="o">=</span> <span class="nb">str</span><span class="p">(</span><span class="nb">int</span><span class="p">(</span><span class="n">time</span><span class="p">.</span><span class="n">time</span><span class="p">()))</span>
    <span class="n">method</span> <span class="o">=</span> <span class="s">"PUT"</span>
    <span class="n">path</span> <span class="o">=</span> <span class="s">"/v2/trade/cancel-batch-order"</span>
    <span class="n">body</span> <span class="o">=</span> <span class="p">{</span>
      <span class="s">"inst_type"</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span>
      <span class="s">"cancel_ord_type"</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span>
      <span class="s">"order_ids"</span><span class="p">:</span> <span class="p">[</span>
        <span class="s">"2509820413501205367"</span><span class="p">,</span>
        <span class="s">"2509820413501205368"</span>
      <span class="p">]</span>
    <span class="p">}</span>
    <span class="n">body_str</span> <span class="o">=</span> <span class="n">json</span><span class="p">.</span><span class="n">dumps</span><span class="p">(</span><span class="n">body</span><span class="p">,</span> <span class="n">separators</span><span class="o">=</span><span class="p">(</span><span class="s">','</span><span class="p">,</span> <span class="s">':'</span><span class="p">))</span> 
    <span class="n">signature</span> <span class="o">=</span> <span class="n">generate_signature</span><span class="p">(</span><span class="n">timestamp</span><span class="p">,</span> <span class="n">method</span><span class="p">,</span> <span class="n">path</span><span class="p">,</span> <span class="bp">None</span><span class="p">,</span> <span class="n">body_str</span><span class="p">,</span> <span class="n">SecretKey</span><span class="p">)</span>

    <span class="n">headers</span> <span class="o">=</span> <span class="p">{</span>
        <span class="s">"UZX-ACCESS-KEY"</span><span class="p">:</span> <span class="n">APIKey</span><span class="p">,</span>
        <span class="s">"UZX-ACCESS-SIGN"</span><span class="p">:</span> <span class="n">signature</span><span class="p">,</span>
        <span class="s">"UZX-ACCESS-TIMESTAMP"</span><span class="p">:</span> <span class="n">timestamp</span><span class="p">,</span>
        <span class="s">"UZX-ACCESS-PASSPHRASE"</span><span class="p">:</span> <span class="n">Passphrase</span><span class="p">,</span>
        <span class="s">"Content-Type"</span><span class="p">:</span> <span class="s">"application/json"</span>
    <span class="p">}</span>

    <span class="n">resp</span> <span class="o">=</span> <span class="n">requests</span><span class="p">.</span><span class="n">put</span><span class="p">(</span><span class="n">host</span> <span class="o">+</span> <span class="n">path</span><span class="p">,</span> <span class="n">headers</span><span class="o">=</span><span class="n">headers</span><span class="p">,</span> <span class="n">data</span><span class="o">=</span><span class="n">body_str</span><span class="p">)</span>
    <span class="k">print</span><span class="p">(</span><span class="n">resp</span><span class="p">.</span><span class="n">status_code</span><span class="p">,</span> <span class="n">resp</span><span class="p">.</span><span class="n">text</span><span class="p">)</span>

<span class="n">test_put_api</span><span class="p">()</span>

</code></pre></div><div class="highlight"><pre class="highlight go tab-go"><code><span class="k">package</span> <span class="n">main</span>

<span class="k">import</span> <span class="p">(</span>
    <span class="s">"bytes"</span>
    <span class="s">"crypto/hmac"</span>
    <span class="s">"crypto/sha256"</span>
    <span class="s">"encoding/base64"</span>
    <span class="s">"fmt"</span>
    <span class="s">"net/http"</span>
    <span class="s">"time"</span>
    <span class="s">"strings"</span>
    <span class="s">"io/ioutil"</span>
<span class="p">)</span>

<span class="k">const</span> <span class="p">(</span>
    <span class="n">host</span>       <span class="o">=</span> <span class="s">"https://api-v2.uzx.com"</span>
    <span class="n">APIKey</span>     <span class="o">=</span> <span class="s">"{APIKey}"</span>
    <span class="n">SecretKey</span>  <span class="o">=</span> <span class="s">"{SecretKey}"</span>
    <span class="n">Passphrase</span> <span class="o">=</span> <span class="s">"{Passphrase}"</span>
<span class="p">)</span>

<span class="k">func</span> <span class="n">generateSignature</span><span class="p">(</span><span class="n">timestamp</span><span class="p">,</span> <span class="n">method</span><span class="p">,</span> <span class="n">path</span><span class="p">,</span> <span class="n">query</span><span class="p">,</span> <span class="n">body</span><span class="p">,</span> <span class="n">secret</span> <span class="kt">string</span><span class="p">)</span> <span class="kt">string</span> <span class="p">{</span>
    <span class="k">if</span> <span class="n">query</span> <span class="o">!=</span> <span class="s">""</span> <span class="p">{</span>
        <span class="n">query</span> <span class="o">=</span> <span class="s">"?"</span> <span class="o">+</span> <span class="n">query</span>
    <span class="p">}</span>
    <span class="n">preHash</span> <span class="o">:=</span> <span class="n">timestamp</span> <span class="o">+</span> <span class="n">strings</span><span class="o">.</span><span class="n">ToUpper</span><span class="p">(</span><span class="n">method</span><span class="p">)</span> <span class="o">+</span> <span class="n">path</span> <span class="o">+</span> <span class="n">query</span> <span class="o">+</span> <span class="n">body</span>
    <span class="n">mac</span> <span class="o">:=</span> <span class="n">hmac</span><span class="o">.</span><span class="n">New</span><span class="p">(</span><span class="n">sha256</span><span class="o">.</span><span class="n">New</span><span class="p">,</span> <span class="p">[]</span><span class="kt">byte</span><span class="p">(</span><span class="n">secret</span><span class="p">))</span>
    <span class="n">mac</span><span class="o">.</span><span class="n">Write</span><span class="p">([]</span><span class="kt">byte</span><span class="p">(</span><span class="n">preHash</span><span class="p">))</span>
    <span class="k">return</span> <span class="n">base64</span><span class="o">.</span><span class="n">StdEncoding</span><span class="o">.</span><span class="n">EncodeToString</span><span class="p">(</span><span class="n">mac</span><span class="o">.</span><span class="n">Sum</span><span class="p">(</span><span class="no">nil</span><span class="p">))</span>
<span class="p">}</span>

<span class="k">func</span> <span class="n">testPutApi</span><span class="p">()</span> <span class="p">{</span>
    <span class="n">timestamp</span> <span class="o">:=</span> <span class="n">fmt</span><span class="o">.</span><span class="n">Sprintf</span><span class="p">(</span><span class="s">"%d"</span><span class="p">,</span> <span class="n">time</span><span class="o">.</span><span class="n">Now</span><span class="p">()</span><span class="o">.</span><span class="n">Unix</span><span class="p">())</span>
    <span class="n">method</span> <span class="o">:=</span> <span class="s">"PUT"</span>
    <span class="n">path</span> <span class="o">:=</span> <span class="s">"/v2/trade/cancel-batch-order"</span>
    <span class="n">body</span> <span class="o">:=</span> <span class="s">`{"inst_type":1,"cancel_ord_type":1,"order_ids":["2509820413501205367","2509820413501205368"]}`</span>
    <span class="n">signature</span> <span class="o">:=</span> <span class="n">generateSignature</span><span class="p">(</span><span class="n">timestamp</span><span class="p">,</span> <span class="n">method</span><span class="p">,</span> <span class="n">path</span><span class="p">,</span> <span class="s">""</span><span class="p">,</span> <span class="n">body</span><span class="p">,</span> <span class="n">SecretKey</span><span class="p">)</span>

    <span class="n">req</span><span class="p">,</span> <span class="n">err</span> <span class="o">:=</span> <span class="n">http</span><span class="o">.</span><span class="n">NewRequest</span><span class="p">(</span><span class="n">method</span><span class="p">,</span> <span class="n">host</span><span class="o">+</span><span class="n">path</span><span class="p">,</span> <span class="n">bytes</span><span class="o">.</span><span class="n">NewBuffer</span><span class="p">([]</span><span class="kt">byte</span><span class="p">(</span><span class="n">body</span><span class="p">)))</span>
    <span class="k">if</span> <span class="n">err</span> <span class="o">!=</span> <span class="no">nil</span> <span class="p">{</span>
        <span class="nb">panic</span><span class="p">(</span><span class="n">err</span><span class="p">)</span>
    <span class="p">}</span>

    <span class="n">req</span><span class="o">.</span><span class="n">Header</span><span class="o">.</span><span class="n">Set</span><span class="p">(</span><span class="s">"Content-Type"</span><span class="p">,</span> <span class="s">"application/json"</span><span class="p">)</span>
    <span class="n">req</span><span class="o">.</span><span class="n">Header</span><span class="o">.</span><span class="n">Set</span><span class="p">(</span><span class="s">"UZX-ACCESS-KEY"</span><span class="p">,</span> <span class="n">APIKey</span><span class="p">)</span>
    <span class="n">req</span><span class="o">.</span><span class="n">Header</span><span class="o">.</span><span class="n">Set</span><span class="p">(</span><span class="s">"UZX-ACCESS-SIGN"</span><span class="p">,</span> <span class="n">signature</span><span class="p">)</span>
    <span class="n">req</span><span class="o">.</span><span class="n">Header</span><span class="o">.</span><span class="n">Set</span><span class="p">(</span><span class="s">"UZX-ACCESS-TIMESTAMP"</span><span class="p">,</span> <span class="n">timestamp</span><span class="p">)</span>
    <span class="n">req</span><span class="o">.</span><span class="n">Header</span><span class="o">.</span><span class="n">Set</span><span class="p">(</span><span class="s">"UZX-ACCESS-PASSPHRASE"</span><span class="p">,</span> <span class="n">Passphrase</span><span class="p">)</span>

    <span class="n">client</span> <span class="o">:=</span> <span class="o">&amp;</span><span class="n">http</span><span class="o">.</span><span class="n">Client</span><span class="p">{}</span>
    <span class="n">resp</span><span class="p">,</span> <span class="n">err</span> <span class="o">:=</span> <span class="n">client</span><span class="o">.</span><span class="n">Do</span><span class="p">(</span><span class="n">req</span><span class="p">)</span>
    <span class="k">if</span> <span class="n">err</span> <span class="o">!=</span> <span class="no">nil</span> <span class="p">{</span>
        <span class="nb">panic</span><span class="p">(</span><span class="n">err</span><span class="p">)</span>
    <span class="p">}</span>
    <span class="k">defer</span> <span class="n">resp</span><span class="o">.</span><span class="n">Body</span><span class="o">.</span><span class="n">Close</span><span class="p">()</span>
    <span class="n">bodyResp</span><span class="p">,</span> <span class="n">_</span> <span class="o">:=</span> <span class="n">ioutil</span><span class="o">.</span><span class="n">ReadAll</span><span class="p">(</span><span class="n">resp</span><span class="o">.</span><span class="n">Body</span><span class="p">)</span>
    <span class="n">fmt</span><span class="o">.</span><span class="n">Println</span><span class="p">(</span><span class="n">resp</span><span class="o">.</span><span class="n">StatusCode</span><span class="p">,</span> <span class="kt">string</span><span class="p">(</span><span class="n">bodyResp</span><span class="p">))</span>
<span class="p">}</span>

<span class="k">func</span> <span class="n">main</span><span class="p">()</span> <span class="p">{</span>
    <span class="n">testPutApi</span><span class="p">()</span>
<span class="p">}</span>
</code></pre></div>
<table><thead>
<tr>
<th>Name</th>
<th>Position</th>
<th>Type</th>
<th>Required</th>
<th>Description</th>
<th>Notes</th>
</tr>
</thead><tbody>
<tr>
<td>body</td>
<td>body</td>
<td>object</td>
<td>No</td>
<td>None</td>
<td>None</td>
</tr>
<tr>
<td>» inst_type</td>
<td>body</td>
<td>integer</td>
<td>Yes</td>
<td>Business Type</td>
<td>1: Spot, 2: Swap</td>
</tr>
<tr>
<td>» cancel_ord_type</td>
<td>body</td>
<td>integer</td>
<td>Yes</td>
<td>Order Cancellation Type</td>
<td>1: Limit/Advanced Limit Order, 2: Take Profit/Stop Loss Order, 3: Scheduled Order, 4: Trailing Take Profit/Stop Loss Order</td>
</tr>
<tr>
<td>» order_ids</td>
<td>body</td>
<td>[string]</td>
<td>Yes</td>
<td>List of Order IDs</td>
<td>None</td>
</tr>
</tbody></table>
<h4 id='a222a51ent6k'>Response Parameters</h4>
<blockquote>
<p>Response Example</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"code"</span><span class="p">:</span><span class="w"> </span><span class="mi">200</span><span class="p">,</span><span class="w">
  </span><span class="nl">"msg"</span><span class="p">:</span><span class="w"> </span><span class="s2">"success"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="nl">"code"</span><span class="p">:</span><span class="w"> </span><span class="mi">200</span><span class="p">,</span><span class="w">
      </span><span class="nl">"order_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2509820413501205367"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="nl">"code"</span><span class="p">:</span><span class="w"> </span><span class="mi">200</span><span class="p">,</span><span class="w">
      </span><span class="nl">"order_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2509820413501205368"</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<table><thead>
<tr>
<th>Name</th>
<th>Type</th>
<th>Description</th>
<th>Notes</th>
</tr>
</thead><tbody>
<tr>
<td>» code</td>
<td>integer</td>
<td>Status Code</td>
<td>none</td>
</tr>
<tr>
<td>» msg</td>
<td>string</td>
<td>Description Message</td>
<td>none</td>
</tr>
<tr>
<td>» data</td>
<td>array[object]</td>
<td>Data</td>
<td>none</td>
</tr>
<tr>
<td>»» code</td>
<td>integer</td>
<td></td>
<td>none</td>
</tr>
<tr>
<td>»» order_id</td>
<td>string</td>
<td></td>
<td>none</td>
</tr>
</tbody></table>
<h3 id='55b61fcedy6e'>Current Orders</h3><h4 id='019a09f4i22b'>Rate Limit: 10 requests per second</h4><h4 id='59ff88c8dmvr'>HTTP Request</h4>
<p><code>GET /v2/trade/orders</code></p>
<h4 id='22da1a05z6f5'>Request Parameters</h4>
<table><thead>
<tr>
<th>Name</th>
<th>Location</th>
<th>Type</th>
<th>Required</th>
<th>Description</th>
<th>Notes</th>
</tr>
</thead><tbody>
<tr>
<td>ins_type</td>
<td>query</td>
<td>string</td>
<td>No</td>
<td>Product type</td>
<td><code>SPOT</code> - Spot, <code>SWAP</code> - USDT-margined, <code>BASE</code> - Coin-margined</td>
</tr>
<tr>
<td>product_name</td>
<td>query</td>
<td>string</td>
<td>No</td>
<td>Product name</td>
<td></td>
</tr>
</tbody></table>
<h4 id='a222a51efvpc'>Response Parameters</h4>
<blockquote>
<p>Response Example</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"code"</span><span class="p">:</span><span class="w"> </span><span class="mi">200</span><span class="p">,</span><span class="w">
  </span><span class="nl">"msg"</span><span class="p">:</span><span class="w"> </span><span class="s2">"success"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="nl">"product_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BTC-USDT"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"order_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2517910362100040465"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"mgn_mode"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
      </span><span class="nl">"pos_side"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
      </span><span class="nl">"order_mode"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
      </span><span class="nl">"pos_mode"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
      </span><span class="nl">"order_type"</span><span class="p">:</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w">
      </span><span class="nl">"pos_opt"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
      </span><span class="nl">"leverage"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
      </span><span class="nl">"order_buy_or_sell"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
      </span><span class="nl">"number"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
      </span><span class="nl">"amount"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
      </span><span class="nl">"deal_number"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
      </span><span class="nl">"lock_base_amount"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0.001"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"lock_quote_amount"</span><span class="p">:</span><span class="w"> </span><span class="s2">"109.52972"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"filled_quote_amount"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"price"</span><span class="p">:</span><span class="w"> </span><span class="s2">"109529.72"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"status"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
      </span><span class="nl">"avg_price"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"deal_fee"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"income"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"created_at"</span><span class="p">:</span><span class="w"> </span><span class="mi">1751100684192</span><span class="p">,</span><span class="w">
      </span><span class="nl">"finish_at"</span><span class="p">:</span><span class="w"> </span><span class="mi">1751100684208</span><span class="p">,</span><span class="w">
      </span><span class="nl">"ins_type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"SPOT"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"algo_info"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
      </span><span class="nl">"coin"</span><span class="p">:</span><span class="w"> </span><span class="s2">"USDT"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"un_filled_amount"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<table><thead>
<tr>
<th>Name</th>
<th>Type</th>
<th>Description</th>
<th>Notes</th>
</tr>
</thead><tbody>
<tr>
<td>code</td>
<td>integer</td>
<td>Status code</td>
<td></td>
</tr>
<tr>
<td>msg</td>
<td>string</td>
<td>Description message</td>
<td></td>
</tr>
<tr>
<td>data</td>
<td>array[object]</td>
<td>Array of order data</td>
<td></td>
</tr>
<tr>
<td>» product_name</td>
<td>string</td>
<td>Product name</td>
<td></td>
</tr>
<tr>
<td>» order_id</td>
<td>string</td>
<td>Order identifier</td>
<td></td>
</tr>
<tr>
<td>» mgn_mode</td>
<td>integer</td>
<td>Margin mode</td>
<td>Applicable only to contract business (USDT-margined &amp; coin-margined)</td>
</tr>
<tr>
<td>» pos_side</td>
<td>string</td>
<td>Position side</td>
<td>Applicable only to contract business (USDT-margined &amp; coin-margined)</td>
</tr>
<tr>
<td>» order_mode</td>
<td>integer</td>
<td>Order mode</td>
<td>Applicable only to contract business (USDT-margined &amp; coin-margined)</td>
</tr>
<tr>
<td>» pos_mode</td>
<td>integer</td>
<td>Position mode</td>
<td>Applicable only to contract business (USDT-margined &amp; coin-margined)</td>
</tr>
<tr>
<td>» order_type</td>
<td>integer</td>
<td>Order type</td>
<td></td>
</tr>
<tr>
<td>» pos_opt</td>
<td>integer</td>
<td>Position option</td>
<td>Applicable only to contract business (USDT-margined &amp; coin-margined)</td>
</tr>
<tr>
<td>» leverage</td>
<td>string</td>
<td>Leverage value</td>
<td>Applicable only to contract business (USDT-margined &amp; coin-margined)</td>
</tr>
<tr>
<td>» order_buy_or_sell</td>
<td>integer</td>
<td>Trade direction (buy/sell)</td>
<td></td>
</tr>
<tr>
<td>» number</td>
<td>string</td>
<td>Contract quantity</td>
<td>Applicable only to contract business (USDT-margined &amp; coin-margined)</td>
</tr>
<tr>
<td>» amount</td>
<td>string</td>
<td>Order amount</td>
<td>Applicable only to contract business (USDT-margined &amp; coin-margined)</td>
</tr>
<tr>
<td>» deal_number</td>
<td>string</td>
<td>Filled quantity</td>
<td>Filled base currency amount</td>
</tr>
<tr>
<td>» lock_base_amount</td>
<td>string</td>
<td>Locked base currency amount</td>
<td>Applicable only to spot business</td>
</tr>
<tr>
<td>» lock_quote_amount</td>
<td>string</td>
<td>Locked quote currency amount</td>
<td>Applicable only to spot business</td>
</tr>
<tr>
<td>» filled_quote_amount</td>
<td>string</td>
<td>Filled quote currency amount</td>
<td>Applicable only to spot business</td>
</tr>
<tr>
<td>» price</td>
<td>string</td>
<td>Order price</td>
<td></td>
</tr>
<tr>
<td>» status</td>
<td>integer</td>
<td>Order status</td>
<td></td>
</tr>
<tr>
<td>» avg_price</td>
<td>string</td>
<td>Average filled price</td>
<td></td>
</tr>
<tr>
<td>» deal_fee</td>
<td>string</td>
<td>Transaction fee</td>
<td></td>
</tr>
<tr>
<td>» income</td>
<td>string</td>
<td>Profit/loss</td>
<td>Applicable only to contract business (USDT-margined &amp; coin-margined)</td>
</tr>
<tr>
<td>» created_at</td>
<td>integer</td>
<td>Creation timestamp</td>
<td></td>
</tr>
<tr>
<td>» finish_at</td>
<td>integer</td>
<td>Completion timestamp</td>
<td></td>
</tr>
<tr>
<td>» ins_type</td>
<td>string</td>
<td>Instrument type</td>
<td><code>SPOT</code> - Spot, <code>SWAP</code> - USDT-margined, <code>BASE</code> - Coin-margined</td>
</tr>
<tr>
<td>» algo_info</td>
<td>string</td>
<td>Algorithmic order details</td>
<td></td>
</tr>
<tr>
<td>» coin</td>
<td>string</td>
<td>Quote coin name</td>
<td></td>
</tr>
<tr>
<td>» un_filled_amount</td>
<td>string</td>
<td>Remaining quantity</td>
<td>Applicable only to contract business (USDT-margined &amp; coin-margined)</td>
</tr>
</tbody></table>
<h3 id='917019abfjua'>Historical Orders</h3><h4 id='019a09f4onch'>Rate Limit: 10 requests per second</h4><h4 id='59ff88c8rfng'>HTTP Request</h4>
<p><code>GET /v2/trade/history/orders</code></p>
<h4 id='22da1a056s0t'>Request Parameters</h4>
<table><thead>
<tr>
<th>Name</th>
<th>Location</th>
<th>Type</th>
<th>Required</th>
<th>Description</th>
<th>Notes</th>
</tr>
</thead><tbody>
<tr>
<td>ins_type</td>
<td>query</td>
<td>string</td>
<td>No</td>
<td>Product type</td>
<td><code>SPOT</code> - Spot, <code>SWAP</code> - USDT-margined, <code>BASE</code> - Coin-margined</td>
</tr>
<tr>
<td>product_name</td>
<td>query</td>
<td>string</td>
<td>No</td>
<td>Product name</td>
<td></td>
</tr>
<tr>
<td>begin</td>
<td>query</td>
<td>integer</td>
<td>No</td>
<td>Start timestamp</td>
<td>Millisecond</td>
</tr>
<tr>
<td>end</td>
<td>query</td>
<td>integer</td>
<td>No</td>
<td>End timestamp</td>
<td>Millisecond</td>
</tr>
<tr>
<td>limit</td>
<td>query</td>
<td>integer</td>
<td>No</td>
<td>Number of records</td>
<td>Default 20, max 20</td>
</tr>
</tbody></table>
<h4 id='a222a51eu4c1'>Response Parameters</h4>
<blockquote>
<p>Response Example</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"code"</span><span class="p">:</span><span class="w"> </span><span class="mi">200</span><span class="p">,</span><span class="w">
  </span><span class="nl">"msg"</span><span class="p">:</span><span class="w"> </span><span class="s2">"success"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="nl">"product_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BTCUSDT"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"order_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2518220520600100009"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"mgn_mode"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
      </span><span class="nl">"pos_side"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ST"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"order_mode"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
      </span><span class="nl">"pos_mode"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
      </span><span class="nl">"order_type"</span><span class="p">:</span><span class="w"> </span><span class="mi">14</span><span class="p">,</span><span class="w">
      </span><span class="nl">"pos_opt"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
      </span><span class="nl">"leverage"</span><span class="p">:</span><span class="w"> </span><span class="mi">5</span><span class="p">,</span><span class="w">
      </span><span class="nl">"order_buy_or_sell"</span><span class="p">:</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w">
      </span><span class="nl">"number"</span><span class="p">:</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w">
      </span><span class="nl">"amount"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0.00015734"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"deal_number"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
      </span><span class="nl">"lock_base_amount"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"lock_quote_amount"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"filled_quote_amount"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"price"</span><span class="p">:</span><span class="w"> </span><span class="s2">"107775"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"status"</span><span class="p">:</span><span class="w"> </span><span class="mi">4</span><span class="p">,</span><span class="w">
      </span><span class="nl">"avg_price"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"deal_fee"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"income"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"created_at"</span><span class="p">:</span><span class="w"> </span><span class="mi">1751414400845</span><span class="p">,</span><span class="w">
      </span><span class="nl">"finish_at"</span><span class="p">:</span><span class="w"> </span><span class="mi">1751414400876</span><span class="p">,</span><span class="w">
      </span><span class="nl">"ins_type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"SWAP"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"algo_info"</span><span class="p">:</span><span class="w"> </span><span class="s2">"[]"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"coin"</span><span class="p">:</span><span class="w"> </span><span class="s2">"USDT"</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<table><thead>
<tr>
<th>Name</th>
<th>Type</th>
<th>Description</th>
<th>Notes</th>
</tr>
</thead><tbody>
<tr>
<td>code</td>
<td>integer</td>
<td>Status code</td>
<td></td>
</tr>
<tr>
<td>msg</td>
<td>string</td>
<td>Description message</td>
<td></td>
</tr>
<tr>
<td>data</td>
<td>array[object]</td>
<td>Array of order data</td>
<td></td>
</tr>
<tr>
<td>» product_name</td>
<td>string</td>
<td>Product name</td>
<td></td>
</tr>
<tr>
<td>» order_id</td>
<td>string</td>
<td>Order identifier</td>
<td></td>
</tr>
<tr>
<td>» mgn_mode</td>
<td>integer</td>
<td>Margin mode</td>
<td>Applicable only to contract business (USDT-margined &amp; coin-margined)</td>
</tr>
<tr>
<td>» pos_side</td>
<td>string</td>
<td>Position side</td>
<td>Applicable only to contract business (USDT-margined &amp; coin-margined)</td>
</tr>
<tr>
<td>» order_mode</td>
<td>integer</td>
<td>Order mode</td>
<td>Applicable only to contract business (USDT-margined &amp; coin-margined)</td>
</tr>
<tr>
<td>» pos_mode</td>
<td>integer</td>
<td>Position mode</td>
<td>Applicable only to contract business (USDT-margined &amp; coin-margined)</td>
</tr>
<tr>
<td>» order_type</td>
<td>integer</td>
<td>Order type</td>
<td></td>
</tr>
<tr>
<td>» pos_opt</td>
<td>integer</td>
<td>Position option</td>
<td>Applicable only to contract business (USDT-margined &amp; coin-margined)</td>
</tr>
<tr>
<td>» leverage</td>
<td>string</td>
<td>Leverage value</td>
<td>Applicable only to contract business (USDT-margined &amp; coin-margined)</td>
</tr>
<tr>
<td>» order_buy_or_sell</td>
<td>integer</td>
<td>Trade direction (buy/sell)</td>
<td></td>
</tr>
<tr>
<td>» number</td>
<td>string</td>
<td>Contract quantity</td>
<td>Applicable only to contract business (USDT-margined &amp; coin-margined)</td>
</tr>
<tr>
<td>» amount</td>
<td>string</td>
<td>Order amount</td>
<td></td>
</tr>
<tr>
<td>» deal_number</td>
<td>string</td>
<td>Filled quantity</td>
<td>Filled base currency amount</td>
</tr>
<tr>
<td>» lock_base_amount</td>
<td>string</td>
<td>Locked base currency amount</td>
<td>Applicable only to spot business</td>
</tr>
<tr>
<td>» lock_quote_amount</td>
<td>string</td>
<td>Locked quote currency amount</td>
<td>Applicable only to spot business</td>
</tr>
<tr>
<td>» filled_quote_amount</td>
<td>string</td>
<td>Filled quote currency amount</td>
<td>Applicable only to spot business</td>
</tr>
<tr>
<td>» price</td>
<td>string</td>
<td>Order price</td>
<td></td>
</tr>
<tr>
<td>» status</td>
<td>integer</td>
<td>Order status</td>
<td></td>
</tr>
<tr>
<td>» avg_price</td>
<td>string</td>
<td>Average filled price</td>
<td></td>
</tr>
<tr>
<td>» deal_fee</td>
<td>string</td>
<td>Transaction fee</td>
<td></td>
</tr>
<tr>
<td>» income</td>
<td>string</td>
<td>Profit/loss</td>
<td>Applicable only to contract business (USDT-margined &amp; coin-margined)</td>
</tr>
<tr>
<td>» created_at</td>
<td>integer</td>
<td>Creation timestamp</td>
<td></td>
</tr>
<tr>
<td>» finish_at</td>
<td>integer</td>
<td>Completion timestamp</td>
<td></td>
</tr>
<tr>
<td>» ins_type</td>
<td>string</td>
<td>Instrument type</td>
<td><code>SPOT</code> - Spot, <code>SWAP</code> - USDT-margined, <code>BASE</code> - Coin-margined</td>
</tr>
<tr>
<td>» algo_info</td>
<td>string</td>
<td>Algorithmic order details</td>
<td></td>
</tr>
<tr>
<td>» coin</td>
<td>string</td>
<td>Quote coin name</td>
<td></td>
</tr>
</tbody></table>
<h3 id='3eff6ed8szwk'>Current Positions</h3><h4 id='019a09f4ksvt'>Rate Limit: 10 requests per second</h4><h4 id='59ff88c86nk8'>HTTP Request</h4>
<p><code>GET /v2/trade/positions</code></p>
<h4 id='22da1a058hu1'>Request Parameters</h4>
<table><thead>
<tr>
<th>Name</th>
<th>Location</th>
<th>Type</th>
<th>Required</th>
<th>Description</th>
<th>Notes</th>
</tr>
</thead><tbody>
<tr>
<td>ins_type</td>
<td>query</td>
<td>string</td>
<td>No</td>
<td>Product type</td>
<td><code>SWAP</code> - USDT-margined, <code>BASE</code> - Coin-margined</td>
</tr>
<tr>
<td>product_name</td>
<td>query</td>
<td>string</td>
<td>No</td>
<td>Product name</td>
<td></td>
</tr>
</tbody></table>
<h4 id='a222a51e48nf'>Response Parameters</h4>
<blockquote>
<p>Response Example</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"code"</span><span class="p">:</span><span class="w"> </span><span class="mi">200</span><span class="p">,</span><span class="w">
  </span><span class="nl">"msg"</span><span class="p">:</span><span class="w"> </span><span class="s2">"success"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="nl">"product_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BTCUSDT"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"position_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"205206000000000017"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"ins_type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"SWAP"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"mgn_mode"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
      </span><span class="nl">"pos_mode"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
      </span><span class="nl">"leverage"</span><span class="p">:</span><span class="w"> </span><span class="mi">5</span><span class="p">,</span><span class="w">
      </span><span class="nl">"side"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ST"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"hold_position_amount"</span><span class="p">:</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w">
      </span><span class="nl">"margin"</span><span class="p">:</span><span class="w"> </span><span class="s2">"4.32523068"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"total_fee"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0.012933"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"status"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
      </span><span class="nl">"force_close_price"</span><span class="p">:</span><span class="w"> </span><span class="s2">"129194.4422923322683706070287539936102236422"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"position_avg_price"</span><span class="p">:</span><span class="w"> </span><span class="s2">"107775"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"deal_avg_price"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"income"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"begin_order_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2517920520600050556"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"created_at"</span><span class="p">:</span><span class="w"> </span><span class="mi">1751101108324</span><span class="p">,</span><span class="w">
      </span><span class="nl">"updated_at"</span><span class="p">:</span><span class="w"> </span><span class="mi">1751414400876</span><span class="p">,</span><span class="w">
      </span><span class="nl">"close_num"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
      </span><span class="nl">"open_num"</span><span class="p">:</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w">
      </span><span class="nl">"bankrupt_price"</span><span class="p">:</span><span class="w"> </span><span class="s2">"129323.55926444133519888"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"force_trigger_price"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"adl_num"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
      </span><span class="nl">"adl_deal_price"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"adl_income"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"funding_fee"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0.00129768"</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<table><thead>
<tr>
<th>Name</th>
<th>Type</th>
<th>Description</th>
<th>Notes</th>
</tr>
</thead><tbody>
<tr>
<td>code</td>
<td>integer</td>
<td>Status code</td>
<td></td>
</tr>
<tr>
<td>msg</td>
<td>string</td>
<td>Description message</td>
<td></td>
</tr>
<tr>
<td>data</td>
<td>array[object]</td>
<td>Array of current positions</td>
<td></td>
</tr>
<tr>
<td>» product_name</td>
<td>string</td>
<td>Product name</td>
<td></td>
</tr>
<tr>
<td>» position_id</td>
<td>string</td>
<td>Position identifier</td>
<td></td>
</tr>
<tr>
<td>» ins_type</td>
<td>string</td>
<td>Product type</td>
<td><code>SWAP</code> - USDT-margined, <code>BASE</code> - Coin-margined</td>
</tr>
<tr>
<td>» mgn_mode</td>
<td>integer</td>
<td>Margin mode</td>
<td></td>
</tr>
<tr>
<td>» pos_mode</td>
<td>integer</td>
<td>Position mode</td>
<td></td>
</tr>
<tr>
<td>» leverage</td>
<td>integer</td>
<td>Leverage multiplier</td>
<td></td>
</tr>
<tr>
<td>» side</td>
<td>string</td>
<td>Position direction (long/short)</td>
<td></td>
</tr>
<tr>
<td>» hold_position_amount</td>
<td>integer</td>
<td>Current position size</td>
<td></td>
</tr>
<tr>
<td>» margin</td>
<td>string</td>
<td>Collateral amount</td>
<td>Modifiable for isolated positions</td>
</tr>
<tr>
<td>» total_fee</td>
<td>string</td>
<td>Total fees paid</td>
<td></td>
</tr>
<tr>
<td>» status</td>
<td>integer</td>
<td>Position state</td>
<td>1: Open, 2: Closed, 3: Liquidated</td>
</tr>
<tr>
<td>» force_close_price</td>
<td>string</td>
<td>Liquidation price level</td>
<td></td>
</tr>
<tr>
<td>» position_avg_price</td>
<td>string</td>
<td>Average entry price</td>
<td></td>
</tr>
<tr>
<td>» deal_avg_price</td>
<td>string</td>
<td>Average exit price</td>
<td></td>
</tr>
<tr>
<td>» income</td>
<td>string</td>
<td>Realized profit/loss</td>
<td></td>
</tr>
<tr>
<td>» begin_order_id</td>
<td>string</td>
<td>Initial opening order ID</td>
<td></td>
</tr>
<tr>
<td>» created_at</td>
<td>integer</td>
<td>Position creation timestamp</td>
<td></td>
</tr>
<tr>
<td>» updated_at</td>
<td>integer</td>
<td>Last update timestamp</td>
<td></td>
</tr>
<tr>
<td>» close_num</td>
<td>integer</td>
<td>Number of closed contracts</td>
<td></td>
</tr>
<tr>
<td>» open_num</td>
<td>integer</td>
<td>Number of open contracts</td>
<td></td>
</tr>
<tr>
<td>» bankrupt_price</td>
<td>string</td>
<td>Bankruptcy price level</td>
<td></td>
</tr>
<tr>
<td>» force_trigger_price</td>
<td>string</td>
<td>Liquidation trigger threshold</td>
<td></td>
</tr>
<tr>
<td>» adl_num</td>
<td>integer</td>
<td>ADL (Auto-Deleveraging) event count</td>
<td></td>
</tr>
<tr>
<td>» adl_deal_price</td>
<td>string</td>
<td>Average ADL execution price</td>
<td></td>
</tr>
<tr>
<td>» adl_income</td>
<td>string</td>
<td>P/L from ADL events</td>
<td></td>
</tr>
<tr>
<td>» funding_fee</td>
<td>string</td>
<td>Accumulated funding payments</td>
<td></td>
</tr>
</tbody></table>
<h3 id='1efc9f59zm3g'>Historical Positions</h3><h4 id='019a09f4lrok'>Rate Limit: 10 requests per second</h4><h4 id='59ff88c8p6b8'>HTTP Request</h4>
<p><code>GET /v2/trade/history/positions</code></p>
<h4 id='22da1a05ztnr'>Request Parameters</h4>
<table><thead>
<tr>
<th>Name</th>
<th>Location</th>
<th>Type</th>
<th>Required</th>
<th>Description</th>
<th>Notes</th>
</tr>
</thead><tbody>
<tr>
<td>ins_type</td>
<td>query</td>
<td>string</td>
<td>No</td>
<td>Product type</td>
<td><code>SWAP</code> - USDT-margined, <code>BASE</code> - Coin-margined</td>
</tr>
<tr>
<td>product_name</td>
<td>query</td>
<td>string</td>
<td>No</td>
<td>Product name</td>
<td></td>
</tr>
<tr>
<td>mgn_mode</td>
<td>query</td>
<td>integer</td>
<td>No</td>
<td>Margin mode</td>
<td>1 for isolated, 2 for cross</td>
</tr>
<tr>
<td>begin</td>
<td>query</td>
<td>integer</td>
<td>No</td>
<td>Start timestamp</td>
<td>Millisecond</td>
</tr>
<tr>
<td>end</td>
<td>query</td>
<td>integer</td>
<td>No</td>
<td>End timestamp</td>
<td>Millisecond</td>
</tr>
<tr>
<td>limit</td>
<td>query</td>
<td>integer</td>
<td>No</td>
<td>Number of records</td>
<td>Default 20, max 20</td>
</tr>
</tbody></table>
<h4 id='a222a51exgk4'>Response Parameters</h4>
<blockquote>
<p>Response Example</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"code"</span><span class="p">:</span><span class="w"> </span><span class="mi">200</span><span class="p">,</span><span class="w">
  </span><span class="nl">"msg"</span><span class="p">:</span><span class="w"> </span><span class="s2">"string"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="nl">"product_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"string"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"position_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"string"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"ins_type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"string"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"mgn_mode"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
      </span><span class="nl">"pos_mode"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
      </span><span class="nl">"leverage"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
      </span><span class="nl">"side"</span><span class="p">:</span><span class="w"> </span><span class="s2">"string"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"hold_position_amount"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
      </span><span class="nl">"margin"</span><span class="p">:</span><span class="w"> </span><span class="s2">"string"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"total_fee"</span><span class="p">:</span><span class="w"> </span><span class="s2">"string"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"status"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
      </span><span class="nl">"force_close_price"</span><span class="p">:</span><span class="w"> </span><span class="s2">"string"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"position_avg_price"</span><span class="p">:</span><span class="w"> </span><span class="s2">"string"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"deal_avg_price"</span><span class="p">:</span><span class="w"> </span><span class="s2">"string"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"income"</span><span class="p">:</span><span class="w"> </span><span class="s2">"string"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"begin_order_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"string"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"created_at"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
      </span><span class="nl">"updated_at"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
      </span><span class="nl">"close_num"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
      </span><span class="nl">"open_num"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
      </span><span class="nl">"bankrupt_price"</span><span class="p">:</span><span class="w"> </span><span class="s2">"string"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"force_trigger_price"</span><span class="p">:</span><span class="w"> </span><span class="s2">"string"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"adl_num"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
      </span><span class="nl">"adl_deal_price"</span><span class="p">:</span><span class="w"> </span><span class="s2">"string"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"adl_income"</span><span class="p">:</span><span class="w"> </span><span class="s2">"string"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"funding_fee"</span><span class="p">:</span><span class="w"> </span><span class="s2">"string"</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<table><thead>
<tr>
<th>Name</th>
<th>Type</th>
<th>Description</th>
<th>Notes</th>
</tr>
</thead><tbody>
<tr>
<td>code</td>
<td>integer</td>
<td>Status code</td>
<td></td>
</tr>
<tr>
<td>msg</td>
<td>string</td>
<td>Description message</td>
<td></td>
</tr>
<tr>
<td>data</td>
<td>array[object]</td>
<td>Array of current positions</td>
<td></td>
</tr>
<tr>
<td>» product_name</td>
<td>string</td>
<td>Product name</td>
<td></td>
</tr>
<tr>
<td>» position_id</td>
<td>string</td>
<td>Position identifier</td>
<td></td>
</tr>
<tr>
<td>» ins_type</td>
<td>string</td>
<td>Product type</td>
<td><code>SWAP</code> - USDT-margined, <code>BASE</code> - Coin-margined</td>
</tr>
<tr>
<td>» mgn_mode</td>
<td>integer</td>
<td>Margin mode</td>
<td></td>
</tr>
<tr>
<td>» pos_mode</td>
<td>integer</td>
<td>Position mode</td>
<td></td>
</tr>
<tr>
<td>» leverage</td>
<td>integer</td>
<td>Leverage multiplier</td>
<td></td>
</tr>
<tr>
<td>» side</td>
<td>string</td>
<td>Position direction (long/short)</td>
<td></td>
</tr>
<tr>
<td>» hold_position_amount</td>
<td>integer</td>
<td>Current position size</td>
<td></td>
</tr>
<tr>
<td>» margin</td>
<td>string</td>
<td>Collateral amount</td>
<td>Modifiable for isolated positions</td>
</tr>
<tr>
<td>» total_fee</td>
<td>string</td>
<td>Total fees paid</td>
<td></td>
</tr>
<tr>
<td>» status</td>
<td>integer</td>
<td>Position state</td>
<td>1: Open, 2: Closed, 3: Liquidated</td>
</tr>
<tr>
<td>» force_close_price</td>
<td>string</td>
<td>Liquidation price level</td>
<td></td>
</tr>
<tr>
<td>» position_avg_price</td>
<td>string</td>
<td>Average entry price</td>
<td></td>
</tr>
<tr>
<td>» deal_avg_price</td>
<td>string</td>
<td>Average exit price</td>
<td></td>
</tr>
<tr>
<td>» income</td>
<td>string</td>
<td>Realized profit/loss</td>
<td></td>
</tr>
<tr>
<td>» begin_order_id</td>
<td>string</td>
<td>Initial opening order ID</td>
<td></td>
</tr>
<tr>
<td>» created_at</td>
<td>integer</td>
<td>Position creation timestamp</td>
<td></td>
</tr>
<tr>
<td>» updated_at</td>
<td>integer</td>
<td>Last update timestamp</td>
<td></td>
</tr>
<tr>
<td>» close_num</td>
<td>integer</td>
<td>Number of closed contracts</td>
<td></td>
</tr>
<tr>
<td>» open_num</td>
<td>integer</td>
<td>Number of open contracts</td>
<td></td>
</tr>
<tr>
<td>» bankrupt_price</td>
<td>string</td>
<td>Bankruptcy price level</td>
<td></td>
</tr>
<tr>
<td>» force_trigger_price</td>
<td>string</td>
<td>Liquidation trigger threshold</td>
<td></td>
</tr>
<tr>
<td>» adl_num</td>
<td>integer</td>
<td>ADL (Auto-Deleveraging) event count</td>
<td></td>
</tr>
<tr>
<td>» adl_deal_price</td>
<td>string</td>
<td>Average ADL execution price</td>
<td></td>
</tr>
<tr>
<td>» adl_income</td>
<td>string</td>
<td>P/L from ADL events</td>
<td></td>
</tr>
<tr>
<td>» funding_fee</td>
<td>string</td>
<td>Accumulated funding payments</td>
<td></td>
</tr>
</tbody></table>
<h3 id='5cb2f719s0ff'>Get Order Details</h3><h4 id='019a09f4fvb'>Rate Limit: 10 requests per second</h4><h4 id='59ff88c89jrj'>HTTP Request</h4>
<p><code>GET /v2/trade/order/details</code></p>
<h4 id='22da1a05tjbt'>Request Parameters</h4>
<table><thead>
<tr>
<th>Name</th>
<th>Location</th>
<th>Type</th>
<th>Required</th>
<th>Description</th>
<th>Notes</th>
</tr>
</thead><tbody>
<tr>
<td>ins_type</td>
<td>query</td>
<td>string</td>
<td>No</td>
<td>Product type</td>
<td><code>SPOT</code> - Spot, <code>SWAP</code> - USDT-margined, <code>BASE</code> - Coin-margined</td>
</tr>
<tr>
<td>order_id</td>
<td>query</td>
<td>string</td>
<td>Yes</td>
<td>Order ID</td>
<td></td>
</tr>
</tbody></table>
<h4 id='a222a51emvmw'>Response Parameters</h4>
<blockquote>
<p>Response Example</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"code"</span><span class="p">:</span><span class="w"> </span><span class="mi">200</span><span class="p">,</span><span class="w">
  </span><span class="nl">"msg"</span><span class="p">:</span><span class="w"> </span><span class="s2">"success"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"product_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BTCUSDT"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"order_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2517920520600050556"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"mgn_mode"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
    </span><span class="nl">"pos_side"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ST"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"order_mode"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
    </span><span class="nl">"pos_mode"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
    </span><span class="nl">"order_type"</span><span class="p">:</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w">
    </span><span class="nl">"pos_opt"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
    </span><span class="nl">"leverage"</span><span class="p">:</span><span class="w"> </span><span class="mi">5</span><span class="p">,</span><span class="w">
    </span><span class="nl">"order_buy_or_sell"</span><span class="p">:</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w">
    </span><span class="nl">"number"</span><span class="p">:</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w">
    </span><span class="nl">"amount"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"deal_number"</span><span class="p">:</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w">
    </span><span class="nl">"lock_base_amount"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"lock_quote_amount"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"filled_quote_amount"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"price"</span><span class="p">:</span><span class="w"> </span><span class="s2">"107775"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"status"</span><span class="p">:</span><span class="w"> </span><span class="mi">4</span><span class="p">,</span><span class="w">
    </span><span class="nl">"avg_price"</span><span class="p">:</span><span class="w"> </span><span class="s2">"107775"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"deal_fee"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0.012933"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"income"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"created_at"</span><span class="p">:</span><span class="w"> </span><span class="mi">1751101108310</span><span class="p">,</span><span class="w">
    </span><span class="nl">"finish_at"</span><span class="p">:</span><span class="w"> </span><span class="mi">1751101108340</span><span class="p">,</span><span class="w">
    </span><span class="nl">"ins_type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"SWAP"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"algo_info"</span><span class="p">:</span><span class="w"> </span><span class="s2">"[]"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"coin"</span><span class="p">:</span><span class="w"> </span><span class="s2">"USDT"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"bills"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
      </span><span class="p">{</span><span class="w">
        </span><span class="nl">"bill_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"43786-2517920520600050556-2517720520600573709"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"product_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
        </span><span class="nl">"order_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2517920520600050556"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"position_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"205206000000000017"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"mgn_mode"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
        </span><span class="nl">"role"</span><span class="p">:</span><span class="w"> </span><span class="s2">"taker"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"order_mode"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
        </span><span class="nl">"pos_side"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ST"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"pos_opt"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
        </span><span class="nl">"filled_amount"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"price"</span><span class="p">:</span><span class="w"> </span><span class="s2">"107775"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"fee"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0.0064665"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"margin"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2.1619665"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"leverage"</span><span class="p">:</span><span class="w"> </span><span class="mi">5</span><span class="p">,</span><span class="w">
        </span><span class="nl">"income"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"taker_fee"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0.0006"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"maker_fee"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0.0004"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"order_buy_or_sell"</span><span class="p">:</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w">
        </span><span class="nl">"created_at"</span><span class="p">:</span><span class="w"> </span><span class="mi">1751101108324</span><span class="p">,</span><span class="w">
        </span><span class="nl">"ins_type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"SWAP"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"order_type"</span><span class="p">:</span><span class="w"> </span><span class="mi">2</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="p">{</span><span class="w">
        </span><span class="nl">"bill_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"43786-2517920520600050556-2517820520600110106"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"product_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
        </span><span class="nl">"order_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2517920520600050556"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"position_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"205206000000000017"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"mgn_mode"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
        </span><span class="nl">"role"</span><span class="p">:</span><span class="w"> </span><span class="s2">"taker"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"order_mode"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
        </span><span class="nl">"pos_side"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ST"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"pos_opt"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
        </span><span class="nl">"filled_amount"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"price"</span><span class="p">:</span><span class="w"> </span><span class="s2">"107775"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"fee"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0.0064665"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"margin"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2.1619665"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"leverage"</span><span class="p">:</span><span class="w"> </span><span class="mi">5</span><span class="p">,</span><span class="w">
        </span><span class="nl">"income"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"taker_fee"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0.0006"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"maker_fee"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0.0004"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"order_buy_or_sell"</span><span class="p">:</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w">
        </span><span class="nl">"created_at"</span><span class="p">:</span><span class="w"> </span><span class="mi">1751101108325</span><span class="p">,</span><span class="w">
        </span><span class="nl">"ins_type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"SWAP"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"order_type"</span><span class="p">:</span><span class="w"> </span><span class="mi">2</span><span class="w">
      </span><span class="p">}</span><span class="w">
    </span><span class="p">]</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<table><thead>
<tr>
<th>Name</th>
<th>Type</th>
<th>Description</th>
<th>Notes</th>
</tr>
</thead><tbody>
<tr>
<td>code</td>
<td>integer</td>
<td>Status code</td>
<td></td>
</tr>
<tr>
<td>msg</td>
<td>string</td>
<td>Description message</td>
<td></td>
</tr>
<tr>
<td>data</td>
<td>object</td>
<td>Order details</td>
<td></td>
</tr>
<tr>
<td>» product_name</td>
<td>string</td>
<td>Trading pair/product name</td>
<td></td>
</tr>
<tr>
<td>» order_id</td>
<td>string</td>
<td>Unique order identifier</td>
<td></td>
</tr>
<tr>
<td>» mgn_mode</td>
<td>integer</td>
<td>Margin account type</td>
<td>Applicable only to contract business (USDT-margined &amp; coin-margined)</td>
</tr>
<tr>
<td>» pos_side</td>
<td>string</td>
<td>Position direction (long/short)</td>
<td>Applicable only to contract business (USDT-margined &amp; coin-margined)</td>
</tr>
<tr>
<td>» order_mode</td>
<td>integer</td>
<td>Order execution type</td>
<td>Applicable only to contract business (USDT-margined &amp; coin-margined)</td>
</tr>
<tr>
<td>» pos_mode</td>
<td>integer</td>
<td>Position holding mode</td>
<td>Applicable only to contract business (USDT-margined &amp; coin-margined)</td>
</tr>
<tr>
<td>» order_type</td>
<td>integer</td>
<td>Order type (limit/market/etc)</td>
<td></td>
</tr>
<tr>
<td>» pos_opt</td>
<td>integer</td>
<td>Position operation type</td>
<td>Applicable only to contract business (USDT-margined &amp; coin-margined)</td>
</tr>
<tr>
<td>» leverage</td>
<td>integer</td>
<td>Leverage multiplier</td>
<td>Applicable only to contract business (USDT-margined &amp; coin-margined)</td>
</tr>
<tr>
<td>» order_buy_or_sell</td>
<td>integer</td>
<td>Trade direction (buy=1/sell=2)</td>
<td></td>
</tr>
<tr>
<td>» number</td>
<td>integer</td>
<td>Total contract quantity</td>
<td>Applicable only to contract business (USDT-margined &amp; coin-margined)</td>
</tr>
<tr>
<td>» amount</td>
<td>string</td>
<td>Frozen collateral amount</td>
<td></td>
</tr>
<tr>
<td>» deal_number</td>
<td>integer</td>
<td>Filled contract quantity</td>
<td>Filled base currency amount</td>
</tr>
<tr>
<td>» lock_base_amount</td>
<td>string</td>
<td>Locked base currency amount</td>
<td>Applicable only to spot business</td>
</tr>
<tr>
<td>» lock_quote_amount</td>
<td>string</td>
<td>Locked quote currency amount</td>
<td>Applicable only to spot business</td>
</tr>
<tr>
<td>» filled_quote_amount</td>
<td>string</td>
<td>Filled quote currency amount</td>
<td>Applicable only to spot business</td>
</tr>
<tr>
<td>» price</td>
<td>string</td>
<td>Order price</td>
<td></td>
</tr>
<tr>
<td>» status</td>
<td>integer</td>
<td>Current order state</td>
<td></td>
</tr>
<tr>
<td>» avg_price</td>
<td>string</td>
<td>Volume-weighted average fill price</td>
<td></td>
</tr>
<tr>
<td>» deal_fee</td>
<td>string</td>
<td>Total fees paid</td>
<td></td>
</tr>
<tr>
<td>» income</td>
<td>string</td>
<td>Realized profit/loss</td>
<td>Applicable only to contract business (USDT-margined &amp; coin-margined)</td>
</tr>
<tr>
<td>» created_at</td>
<td>integer</td>
<td>Order creation timestamp</td>
<td></td>
</tr>
<tr>
<td>» finish_at</td>
<td>integer</td>
<td>Order completion timestamp</td>
<td></td>
</tr>
<tr>
<td>» ins_type</td>
<td>string</td>
<td>Instrument type</td>
<td><code>SPOT</code> - Spot, <code>SWAP</code> - USDT-margined, <code>BASE</code> - Coin-margined</td>
</tr>
<tr>
<td>» algo_info</td>
<td>object</td>
<td>TP/SL order details</td>
<td></td>
</tr>
<tr>
<td>» coin</td>
<td>string</td>
<td>Quote coin name</td>
<td></td>
</tr>
<tr>
<td>» bills</td>
<td>array[object]</td>
<td>Array of trade executions</td>
<td></td>
</tr>
<tr>
<td>»» bill_id</td>
<td>string</td>
<td>Unique trade ID</td>
<td></td>
</tr>
<tr>
<td>»» product_name</td>
<td>string</td>
<td>Trading pair</td>
<td></td>
</tr>
<tr>
<td>»» order_id</td>
<td>string</td>
<td>Parent order ID</td>
<td></td>
</tr>
<tr>
<td>»» position_id</td>
<td>string</td>
<td>Associated position ID</td>
<td>Applicable only to contract business (USDT-margined &amp; coin-margined)</td>
</tr>
<tr>
<td>»» mgn_mode</td>
<td>integer</td>
<td>Margin mode</td>
<td>Applicable only to contract business (USDT-margined &amp; coin-margined)</td>
</tr>
<tr>
<td>»» role</td>
<td>string</td>
<td>Maker or taker</td>
<td></td>
</tr>
<tr>
<td>»» order_mode</td>
<td>integer</td>
<td>Order execution mode</td>
<td>Applicable only to contract business (USDT-margined &amp; coin-margined)</td>
</tr>
<tr>
<td>»» pos_side</td>
<td>string</td>
<td>Position direction</td>
<td>Applicable only to contract business (USDT-margined &amp; coin-margined)</td>
</tr>
<tr>
<td>»» pos_opt</td>
<td>integer</td>
<td>Position operation</td>
<td>Applicable only to contract business (USDT-margined &amp; coin-margined)</td>
</tr>
<tr>
<td>»» filled_amount</td>
<td>string</td>
<td>Filled quantity</td>
<td></td>
</tr>
<tr>
<td>»» price</td>
<td>string</td>
<td>Execution price</td>
<td></td>
</tr>
<tr>
<td>»» fee</td>
<td>string</td>
<td>Trade fee</td>
<td></td>
</tr>
<tr>
<td>»» margin</td>
<td>string</td>
<td>Margin used</td>
<td>Applicable only to contract business (USDT-margined &amp; coin-margined)</td>
</tr>
<tr>
<td>»» leverage</td>
<td>integer</td>
<td>Leverage at execution</td>
<td>Applicable only to contract business (USDT-margined &amp; coin-margined)</td>
</tr>
<tr>
<td>»» income</td>
<td>string</td>
<td>PnL from this trade</td>
<td>Applicable only to contract business (USDT-margined &amp; coin-margined)</td>
</tr>
<tr>
<td>»» taker_fee</td>
<td>string</td>
<td>Taker fee rate</td>
<td></td>
</tr>
<tr>
<td>»» maker_fee</td>
<td>string</td>
<td>Maker fee rate</td>
<td></td>
</tr>
<tr>
<td>»» order_buy_or_sell</td>
<td>integer</td>
<td>Trade direction</td>
<td></td>
</tr>
<tr>
<td>»» created_at</td>
<td>integer</td>
<td>Trade timestamp</td>
<td></td>
</tr>
<tr>
<td>»» ins_type</td>
<td>string</td>
<td>Instrument type</td>
<td><code>SPOT</code> - Spot, <code>SWAP</code> - USDT-margined, <code>BASE</code> - Coin-margined</td>
</tr>
<tr>
<td>»» order_type</td>
<td>integer</td>
<td>Order type</td>
<td></td>
</tr>
</tbody></table>
<h3 id='e46ef59f2kvr'>Get Historical Order Details</h3><h4 id='019a09f43ytu'>Rate Limit: 10 requests per second</h4><h4 id='59ff88c8xpuh'>HTTP Request</h4>
<p><code>GET /v2/trade/history/order/details</code></p>
<h4 id='22da1a051ml4'>Request Parameters</h4>
<table><thead>
<tr>
<th>Name</th>
<th>Location</th>
<th>Type</th>
<th>Required</th>
<th>Description</th>
<th>Notes</th>
</tr>
</thead><tbody>
<tr>
<td>ins_type</td>
<td>query</td>
<td>string</td>
<td>No</td>
<td>Product type</td>
<td><code>SPOT</code> - Spot, <code>SWAP</code> - USDT-margined, <code>BASE</code> - Coin-margined</td>
</tr>
<tr>
<td>order_id</td>
<td>query</td>
<td>string</td>
<td>Yes</td>
<td>Order ID</td>
<td></td>
</tr>
</tbody></table>
<h4 id='a222a51eslkb'>Response Parameters</h4>
<blockquote>
<p>Response Example</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"code"</span><span class="p">:</span><span class="w"> </span><span class="mi">200</span><span class="p">,</span><span class="w">
  </span><span class="nl">"msg"</span><span class="p">:</span><span class="w"> </span><span class="s2">"success"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"product_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BTCUSDT"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"order_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2517920520600050556"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"mgn_mode"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
    </span><span class="nl">"pos_side"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ST"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"order_mode"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
    </span><span class="nl">"pos_mode"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
    </span><span class="nl">"order_type"</span><span class="p">:</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w">
    </span><span class="nl">"pos_opt"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
    </span><span class="nl">"leverage"</span><span class="p">:</span><span class="w"> </span><span class="mi">5</span><span class="p">,</span><span class="w">
    </span><span class="nl">"order_buy_or_sell"</span><span class="p">:</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w">
    </span><span class="nl">"number"</span><span class="p">:</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w">
    </span><span class="nl">"amount"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"deal_number"</span><span class="p">:</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w">
    </span><span class="nl">"lock_base_amount"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"lock_quote_amount"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"filled_quote_amount"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"price"</span><span class="p">:</span><span class="w"> </span><span class="s2">"107775"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"status"</span><span class="p">:</span><span class="w"> </span><span class="mi">4</span><span class="p">,</span><span class="w">
    </span><span class="nl">"avg_price"</span><span class="p">:</span><span class="w"> </span><span class="s2">"107775"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"deal_fee"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0.012933"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"income"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"created_at"</span><span class="p">:</span><span class="w"> </span><span class="mi">1751101108310</span><span class="p">,</span><span class="w">
    </span><span class="nl">"finish_at"</span><span class="p">:</span><span class="w"> </span><span class="mi">1751101108340</span><span class="p">,</span><span class="w">
    </span><span class="nl">"ins_type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"SWAP"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"algo_info"</span><span class="p">:</span><span class="w"> </span><span class="s2">"[]"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"coin"</span><span class="p">:</span><span class="w"> </span><span class="s2">"USDT"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"bills"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
      </span><span class="p">{</span><span class="w">
        </span><span class="nl">"bill_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"43786-2517920520600050556-2517720520600573709"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"product_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
        </span><span class="nl">"order_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2517920520600050556"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"position_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"205206000000000017"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"mgn_mode"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
        </span><span class="nl">"role"</span><span class="p">:</span><span class="w"> </span><span class="s2">"taker"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"order_mode"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
        </span><span class="nl">"pos_side"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ST"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"pos_opt"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
        </span><span class="nl">"filled_amount"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"price"</span><span class="p">:</span><span class="w"> </span><span class="s2">"107775"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"fee"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0.0064665"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"margin"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2.1619665"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"leverage"</span><span class="p">:</span><span class="w"> </span><span class="mi">5</span><span class="p">,</span><span class="w">
        </span><span class="nl">"income"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"taker_fee"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0.0006"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"maker_fee"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0.0004"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"order_buy_or_sell"</span><span class="p">:</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w">
        </span><span class="nl">"created_at"</span><span class="p">:</span><span class="w"> </span><span class="mi">1751101108324</span><span class="p">,</span><span class="w">
        </span><span class="nl">"ins_type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"SWAP"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"order_type"</span><span class="p">:</span><span class="w"> </span><span class="mi">2</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="p">{</span><span class="w">
        </span><span class="nl">"bill_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"43786-2517920520600050556-2517820520600110106"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"product_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
        </span><span class="nl">"order_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2517920520600050556"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"position_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"205206000000000017"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"mgn_mode"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
        </span><span class="nl">"role"</span><span class="p">:</span><span class="w"> </span><span class="s2">"taker"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"order_mode"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
        </span><span class="nl">"pos_side"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ST"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"pos_opt"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
        </span><span class="nl">"filled_amount"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"price"</span><span class="p">:</span><span class="w"> </span><span class="s2">"107775"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"fee"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0.0064665"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"margin"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2.1619665"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"leverage"</span><span class="p">:</span><span class="w"> </span><span class="mi">5</span><span class="p">,</span><span class="w">
        </span><span class="nl">"income"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"taker_fee"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0.0006"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"maker_fee"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0.0004"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"order_buy_or_sell"</span><span class="p">:</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w">
        </span><span class="nl">"created_at"</span><span class="p">:</span><span class="w"> </span><span class="mi">1751101108325</span><span class="p">,</span><span class="w">
        </span><span class="nl">"ins_type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"SWAP"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"order_type"</span><span class="p">:</span><span class="w"> </span><span class="mi">2</span><span class="w">
      </span><span class="p">}</span><span class="w">
    </span><span class="p">]</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<table><thead>
<tr>
<th>Name</th>
<th>Type</th>
<th>Description</th>
<th>Notes</th>
</tr>
</thead><tbody>
<tr>
<td>code</td>
<td>integer</td>
<td>Status code</td>
<td></td>
</tr>
<tr>
<td>msg</td>
<td>string</td>
<td>Description message</td>
<td></td>
</tr>
<tr>
<td>data</td>
<td>object</td>
<td>Order details</td>
<td></td>
</tr>
<tr>
<td>» product_name</td>
<td>string</td>
<td>Trading pair/product name</td>
<td></td>
</tr>
<tr>
<td>» order_id</td>
<td>string</td>
<td>Unique order identifier</td>
<td></td>
</tr>
<tr>
<td>» mgn_mode</td>
<td>integer</td>
<td>Margin account type</td>
<td>Applicable only to contract business (USDT-margined &amp; coin-margined)</td>
</tr>
<tr>
<td>» pos_side</td>
<td>string</td>
<td>Position direction (long/short)</td>
<td>Applicable only to contract business (USDT-margined &amp; coin-margined)</td>
</tr>
<tr>
<td>» order_mode</td>
<td>integer</td>
<td>Order execution type</td>
<td>Applicable only to contract business (USDT-margined &amp; coin-margined)</td>
</tr>
<tr>
<td>» pos_mode</td>
<td>integer</td>
<td>Position holding mode</td>
<td>Applicable only to contract business (USDT-margined &amp; coin-margined)</td>
</tr>
<tr>
<td>» order_type</td>
<td>integer</td>
<td>Order type (limit/market/etc)</td>
<td></td>
</tr>
<tr>
<td>» pos_opt</td>
<td>integer</td>
<td>Position operation type</td>
<td>Applicable only to contract business (USDT-margined &amp; coin-margined)</td>
</tr>
<tr>
<td>» leverage</td>
<td>integer</td>
<td>Leverage multiplier</td>
<td>Applicable only to contract business (USDT-margined &amp; coin-margined)</td>
</tr>
<tr>
<td>» order_buy_or_sell</td>
<td>integer</td>
<td>Trade direction (buy=1/sell=2)</td>
<td></td>
</tr>
<tr>
<td>» number</td>
<td>integer</td>
<td>Total contract quantity</td>
<td>Applicable only to contract business (USDT-margined &amp; coin-margined)</td>
</tr>
<tr>
<td>» amount</td>
<td>string</td>
<td>Frozen collateral amount</td>
<td></td>
</tr>
<tr>
<td>» deal_number</td>
<td>integer</td>
<td>Filled contract quantity</td>
<td>Filled base currency amount</td>
</tr>
<tr>
<td>» lock_base_amount</td>
<td>string</td>
<td>Locked base currency amount</td>
<td>Applicable only to spot business</td>
</tr>
<tr>
<td>» lock_quote_amount</td>
<td>string</td>
<td>Locked quote currency amount</td>
<td>Applicable only to spot business</td>
</tr>
<tr>
<td>» filled_quote_amount</td>
<td>string</td>
<td>Filled quote currency amount</td>
<td>Applicable only to spot business</td>
</tr>
<tr>
<td>» price</td>
<td>string</td>
<td>Order price</td>
<td></td>
</tr>
<tr>
<td>» status</td>
<td>integer</td>
<td>Current order state</td>
<td></td>
</tr>
<tr>
<td>» avg_price</td>
<td>string</td>
<td>Volume-weighted average fill price</td>
<td></td>
</tr>
<tr>
<td>» deal_fee</td>
<td>string</td>
<td>Total fees paid</td>
<td></td>
</tr>
<tr>
<td>» income</td>
<td>string</td>
<td>Realized profit/loss</td>
<td>Applicable only to contract business (USDT-margined &amp; coin-margined)</td>
</tr>
<tr>
<td>» created_at</td>
<td>integer</td>
<td>Order creation timestamp</td>
<td></td>
</tr>
<tr>
<td>» finish_at</td>
<td>integer</td>
<td>Order completion timestamp</td>
<td></td>
</tr>
<tr>
<td>» ins_type</td>
<td>string</td>
<td>Instrument type</td>
<td><code>SPOT</code> - Spot, <code>SWAP</code> - USDT-margined, <code>BASE</code> - Coin-margined</td>
</tr>
<tr>
<td>» algo_info</td>
<td>object</td>
<td>TP/SL order details</td>
<td></td>
</tr>
<tr>
<td>» coin</td>
<td>string</td>
<td>Quote coin name</td>
<td></td>
</tr>
<tr>
<td>» bills</td>
<td>array[object]</td>
<td>Array of trade executions</td>
<td></td>
</tr>
<tr>
<td>»» bill_id</td>
<td>string</td>
<td>Unique trade ID</td>
<td></td>
</tr>
<tr>
<td>»» product_name</td>
<td>string</td>
<td>Trading pair</td>
<td></td>
</tr>
<tr>
<td>»» order_id</td>
<td>string</td>
<td>Parent order ID</td>
<td></td>
</tr>
<tr>
<td>»» position_id</td>
<td>string</td>
<td>Associated position ID</td>
<td>Applicable only to contract business (USDT-margined &amp; coin-margined)</td>
</tr>
<tr>
<td>»» mgn_mode</td>
<td>integer</td>
<td>Margin mode</td>
<td>Applicable only to contract business (USDT-margined &amp; coin-margined)</td>
</tr>
<tr>
<td>»» role</td>
<td>string</td>
<td>Maker or taker</td>
<td></td>
</tr>
<tr>
<td>»» order_mode</td>
<td>integer</td>
<td>Order execution mode</td>
<td>Applicable only to contract business (USDT-margined &amp; coin-margined)</td>
</tr>
<tr>
<td>»» pos_side</td>
<td>string</td>
<td>Position direction</td>
<td>Applicable only to contract business (USDT-margined &amp; coin-margined)</td>
</tr>
<tr>
<td>»» pos_opt</td>
<td>integer</td>
<td>Position operation</td>
<td>Applicable only to contract business (USDT-margined &amp; coin-margined)</td>
</tr>
<tr>
<td>»» filled_amount</td>
<td>string</td>
<td>Filled quantity</td>
<td></td>
</tr>
<tr>
<td>»» price</td>
<td>string</td>
<td>Execution price</td>
<td></td>
</tr>
<tr>
<td>»» fee</td>
<td>string</td>
<td>Trade fee</td>
<td></td>
</tr>
<tr>
<td>»» margin</td>
<td>string</td>
<td>Margin used</td>
<td>Applicable only to contract business (USDT-margined &amp; coin-margined)</td>
</tr>
<tr>
<td>»» leverage</td>
<td>integer</td>
<td>Leverage at execution</td>
<td>Applicable only to contract business (USDT-margined &amp; coin-margined)</td>
</tr>
<tr>
<td>»» income</td>
<td>string</td>
<td>PnL from this trade</td>
<td>Applicable only to contract business (USDT-margined &amp; coin-margined)</td>
</tr>
<tr>
<td>»» taker_fee</td>
<td>string</td>
<td>Taker fee rate</td>
<td></td>
</tr>
<tr>
<td>»» maker_fee</td>
<td>string</td>
<td>Maker fee rate</td>
<td></td>
</tr>
<tr>
<td>»» order_buy_or_sell</td>
<td>integer</td>
<td>Trade direction</td>
<td></td>
</tr>
<tr>
<td>»» created_at</td>
<td>integer</td>
<td>Trade timestamp</td>
<td></td>
</tr>
<tr>
<td>»» ins_type</td>
<td>string</td>
<td>Instrument type</td>
<td><code>SPOT</code> - Spot, <code>SWAP</code> - USDT-margined, <code>BASE</code> - Coin-margined</td>
</tr>
<tr>
<td>»» order_type</td>
<td>integer</td>
<td>Order type</td>
<td></td>
</tr>
</tbody></table>
<h2 id='bbca2ecccayv'>Funding Account</h2>
<p>The API interfaces under the <strong>Funding Account</strong> module require authentication.</p>
<h3 id='61b7c97feh4o'>Get Account Balance</h3><h4 id='547b187aqpkh'>Rate Limit: 10 requests/second</h4><h4 id='59ff88c8ogu9'>HTTP Request</h4>
<p><code>GET /v2/asset/balances</code></p>
<h4 id='22da1a05ljt2'>Request Parameters</h4>
<table><thead>
<tr>
<th>Name</th>
<th>Location</th>
<th>Type</th>
<th>Required</th>
<th>Description</th>
<th>Notes</th>
</tr>
</thead><tbody>
<tr>
<td>coins</td>
<td>query</td>
<td>string</td>
<td>No</td>
<td>Currency names</td>
<td><code>BTC,USDT</code></td>
</tr>
<tr>
<td>omit_zero</td>
<td>query</td>
<td>boolean</td>
<td>No</td>
<td>Whether to hide zero balances</td>
<td></td>
</tr>
</tbody></table>
<h4 id='a222a51e8bsj'>Response Parameters</h4>
<blockquote>
<p>Example Response</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"msg"</span><span class="p">:</span><span class="w"> </span><span class="s2">"success"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="nl">"coin"</span><span class="p">:</span><span class="w"> </span><span class="s2">"USDT"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"balance"</span><span class="p">:</span><span class="w"> </span><span class="s2">"98990000"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"frozen_balance"</span><span class="p">:</span><span class="w"> </span><span class="s2">"10"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"available_balance"</span><span class="p">:</span><span class="w"> </span><span class="s2">"98989990"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="nl">"coin"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BTC"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"balance"</span><span class="p">:</span><span class="w"> </span><span class="s2">"10"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"frozen_balance"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"available_balance"</span><span class="p">:</span><span class="w"> </span><span class="s2">"10"</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">],</span><span class="w">
  </span><span class="nl">"code"</span><span class="p">:</span><span class="w"> </span><span class="mi">200</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<table><thead>
<tr>
<th>Name</th>
<th>Type</th>
<th>Description</th>
<th>Notes</th>
</tr>
</thead><tbody>
<tr>
<td>» code</td>
<td>integer</td>
<td>Status code</td>
<td></td>
</tr>
<tr>
<td>» msg</td>
<td>string</td>
<td>Message</td>
<td></td>
</tr>
<tr>
<td>» data</td>
<td>array[object]</td>
<td>Balance data</td>
<td></td>
</tr>
<tr>
<td>»» coin</td>
<td>string</td>
<td>Currency name</td>
<td></td>
</tr>
<tr>
<td>»» balance</td>
<td>string</td>
<td>Total balance</td>
<td></td>
</tr>
<tr>
<td>»» frozen_balance</td>
<td>string</td>
<td>Frozen balance</td>
<td></td>
</tr>
<tr>
<td>»» available_balance</td>
<td>string</td>
<td>Available balance</td>
<td></td>
</tr>
</tbody></table>
<h3 id='c7007335sq6q'>Get Account Transaction History (Last 7 Days)</h3><h4 id='547b187aerc4'>Rate Limit: 10 requests/second</h4><h4 id='59ff88c8far'>HTTP Request</h4>
<p><code>GET /v2/asset/bills</code></p>
<h4 id='22da1a052d41'>Request Parameters</h4>
<table><thead>
<tr>
<th>Name</th>
<th>Location</th>
<th>Type</th>
<th>Required</th>
<th>Description</th>
<th>Notes</th>
</tr>
</thead><tbody>
<tr>
<td>bill_type</td>
<td>query</td>
<td>integer</td>
<td>No</td>
<td>Bill type</td>
<td></td>
</tr>
<tr>
<td>begin</td>
<td>query</td>
<td>integer</td>
<td>No</td>
<td>Start timestamp (ms)</td>
<td></td>
</tr>
<tr>
<td>end</td>
<td>query</td>
<td>integer</td>
<td>No</td>
<td>End timestamp (ms)</td>
<td></td>
</tr>
<tr>
<td>limit</td>
<td>query</td>
<td>integer</td>
<td>No</td>
<td>Pagination limit (default: 20)</td>
<td></td>
</tr>
</tbody></table>
<h4 id='a222a51ecusg'>Response Parameters</h4>
<blockquote>
<p>Example Response</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"code"</span><span class="p">:</span><span class="w"> </span><span class="mi">200</span><span class="p">,</span><span class="w">
  </span><span class="nl">"msg"</span><span class="p">:</span><span class="w"> </span><span class="s2">"success"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="nl">"coin_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"USDT"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"bill_type"</span><span class="p">:</span><span class="w"> </span><span class="mi">4</span><span class="p">,</span><span class="w">
      </span><span class="nl">"trade_direction"</span><span class="p">:</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w">
      </span><span class="nl">"amount"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1000000"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"note"</span><span class="p">:</span><span class="w"> </span><span class="s2">"转出至交易账户"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"created_at"</span><span class="p">:</span><span class="w"> </span><span class="mi">1751423748815</span><span class="p">,</span><span class="w">
      </span><span class="nl">"log_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"b2fa280e-2042-462e-9999-ed9e041026e9"</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<table><thead>
<tr>
<th>Name</th>
<th>Type</th>
<th>Description</th>
<th>Notes</th>
</tr>
</thead><tbody>
<tr>
<td>» code</td>
<td>integer</td>
<td>Status code</td>
<td></td>
</tr>
<tr>
<td>» msg</td>
<td>string</td>
<td>Message</td>
<td></td>
</tr>
<tr>
<td>» data</td>
<td>array[object]</td>
<td>Transaction data</td>
<td></td>
</tr>
<tr>
<td>»» coin_name</td>
<td>string</td>
<td>Currency name</td>
<td></td>
</tr>
<tr>
<td>»» bill_type</td>
<td>integer</td>
<td>Transaction type</td>
<td></td>
</tr>
<tr>
<td>»» trade_direction</td>
<td>integer</td>
<td>Flow direction</td>
<td></td>
</tr>
<tr>
<td>»» amount</td>
<td>string</td>
<td>Transaction amount</td>
<td></td>
</tr>
<tr>
<td>»» note</td>
<td>string</td>
<td>Remarks</td>
<td></td>
</tr>
<tr>
<td>»» created_at</td>
<td>integer</td>
<td>Timestamp (ms)</td>
<td></td>
</tr>
<tr>
<td>»» log_id</td>
<td>string</td>
<td>Transaction ID</td>
<td></td>
</tr>
</tbody></table>
<h2 id='deb00f3f3hi1'>Trading Account</h2>
<p>The API interfaces under the <strong>Trading Account</strong> module require authentication.</p>
<h3 id='29f944d5wv7k'>Get Trading Account Balances</h3><h4 id='2f2cdc08xo3i'>Rate Limit: 10 times/second</h4><h4 id='59ff88c8ycn5'>HTTP Request</h4>
<p><code>GET /v2/account/balances</code></p>
<h4 id='22da1a05qqef'>Request Parameters</h4>
<table><thead>
<tr>
<th>Name</th>
<th>Position</th>
<th>Type</th>
<th>Required</th>
<th>Description</th>
<th>Notes</th>
</tr>
</thead><tbody>
<tr>
<td>coins</td>
<td>query</td>
<td>string</td>
<td>No</td>
<td>Coin Names</td>
<td>Example: <code>BTC,USDT</code></td>
</tr>
<tr>
<td>omit_zero</td>
<td>query</td>
<td>boolean</td>
<td>No</td>
<td>Hide Zero Values</td>
<td>None</td>
</tr>
</tbody></table>
<h4 id='a222a51e1ne7'>Response Parameters</h4>
<blockquote>
<p>Response Example</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"code"</span><span class="p">:</span><span class="w"> </span><span class="mi">200</span><span class="p">,</span><span class="w">
  </span><span class="nl">"msg"</span><span class="p">:</span><span class="w"> </span><span class="s2">"success"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="nl">"coin"</span><span class="p">:</span><span class="w"> </span><span class="s2">"USDT"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"balance"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1009879.50566968"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"available_balance"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1009875.180439"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"isolated_frozen_balance"</span><span class="p">:</span><span class="w"> </span><span class="s2">"4.32523068"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"cross_frozen_balance"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"frozen_balance"</span><span class="p">:</span><span class="w"> </span><span class="s2">"4.32523068"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"order_frozen_balance"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="nl">"coin"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BTC"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"balance"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0.0000995"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"available_balance"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0.0000995"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"isolated_frozen_balance"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"cross_frozen_balance"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"frozen_balance"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"order_frozen_balance"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<table><thead>
<tr>
<th>Name</th>
<th>Type</th>
<th>Description</th>
<th>Notes</th>
</tr>
</thead><tbody>
<tr>
<td>» code</td>
<td>integer</td>
<td>Status Code</td>
<td>none</td>
</tr>
<tr>
<td>» msg</td>
<td>string</td>
<td>Description Message</td>
<td>none</td>
</tr>
<tr>
<td>» data</td>
<td>array[object]</td>
<td>Data</td>
<td>none</td>
</tr>
<tr>
<td>»» coin</td>
<td>string</td>
<td>Coin Type</td>
<td>none</td>
</tr>
<tr>
<td>»» balance</td>
<td>string</td>
<td>Total Balance</td>
<td>none</td>
</tr>
<tr>
<td>»» available_balance</td>
<td>string</td>
<td>Available Balance</td>
<td>none</td>
</tr>
<tr>
<td>»» isolated_frozen_balance</td>
<td>string</td>
<td>Isolated Positions Frozen Balance</td>
<td>none</td>
</tr>
<tr>
<td>»» cross_frozen_balance</td>
<td>string</td>
<td>Cross Positions Frozen Balance</td>
<td>none</td>
</tr>
<tr>
<td>»» frozen_balance</td>
<td>string</td>
<td>Total Frozen Balance</td>
<td>none</td>
</tr>
<tr>
<td>»» order_frozen_balance</td>
<td>string</td>
<td>Order Frozen Balance</td>
<td>none</td>
</tr>
</tbody></table>
<h3 id='e90e0d7cxfl2'>Get Trading Account Statements (Last 7 Days)</h3><h4 id='2f2cdc082uv3'>Rate Limit: 10 times/second</h4><h4 id='59ff88c87ifm'>HTTP Request</h4>
<p><code>GET /v2/account/bills</code></p>
<h4 id='22da1a05gjwh'>Request Parameters</h4>
<table><thead>
<tr>
<th>Name</th>
<th>Position</th>
<th>Type</th>
<th>Required</th>
<th>Description</th>
<th>Notes</th>
</tr>
</thead><tbody>
<tr>
<td>ins_type</td>
<td>query</td>
<td>string</td>
<td>No</td>
<td>Instrument Type</td>
<td><code>SPOT</code> - Spot, <code>SWAP</code> - USDt-denominated, <code>OTHER_BILL</code> - Other</td>
</tr>
<tr>
<td>coin</td>
<td>query</td>
<td>string</td>
<td>No</td>
<td>Coin Name</td>
<td>None</td>
</tr>
<tr>
<td>bill_type</td>
<td>query</td>
<td>integer</td>
<td>No</td>
<td>Main Bill Type</td>
<td>See Enumeration</td>
</tr>
<tr>
<td>sub_bill_type</td>
<td>query</td>
<td>integer</td>
<td>No</td>
<td>Sub Bill Type</td>
<td>See Enumeration</td>
</tr>
<tr>
<td>begin</td>
<td>query</td>
<td>integer</td>
<td>No</td>
<td>Start Timestamp</td>
<td>Millisecond</td>
</tr>
<tr>
<td>end</td>
<td>query</td>
<td>integer</td>
<td>No</td>
<td>End Timestamp</td>
<td>Millisecond</td>
</tr>
<tr>
<td>limit</td>
<td>query</td>
<td>integer</td>
<td>No</td>
<td>Number of Records</td>
<td>Default: 20, Max: 20</td>
</tr>
</tbody></table>
<h4 id='a222a51ellyw'>Response Parameters</h4>
<blockquote>
<p>Response Example</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"code"</span><span class="p">:</span><span class="w"> </span><span class="mi">200</span><span class="p">,</span><span class="w">
  </span><span class="nl">"msg"</span><span class="p">:</span><span class="w"> </span><span class="s2">"success"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="nl">"ins_type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"SWAP"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"product_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BTCUSDT"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"coin_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"USDT"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"bill_type"</span><span class="p">:</span><span class="w"> </span><span class="mi">4</span><span class="p">,</span><span class="w">
      </span><span class="nl">"sub_bill_type"</span><span class="p">:</span><span class="w"> </span><span class="mi">16</span><span class="p">,</span><span class="w">
      </span><span class="nl">"mgn_mode"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
      </span><span class="nl">"role"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
      </span><span class="nl">"trade_direction"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
      </span><span class="nl">"amount"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0.00023325"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"experience_amount"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"fee_amount"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"price"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"income"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"created_at"</span><span class="p">:</span><span class="w"> </span><span class="mi">1751443200823850</span><span class="p">,</span><span class="w">
      </span><span class="nl">"log_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"c638cd39-9a37-4935-b119-2e394adc71e1"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="nl">"ins_type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"OTHER_BILL"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"product_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
      </span><span class="nl">"coin_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"USDT"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"bill_type"</span><span class="p">:</span><span class="w"> </span><span class="mi">6</span><span class="p">,</span><span class="w">
      </span><span class="nl">"sub_bill_type"</span><span class="p">:</span><span class="w"> </span><span class="mi">17</span><span class="p">,</span><span class="w">
      </span><span class="nl">"mgn_mode"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
      </span><span class="nl">"role"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
      </span><span class="nl">"trade_direction"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
      </span><span class="nl">"amount"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1000000"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"experience_amount"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"fee_amount"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"price"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"income"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"created_at"</span><span class="p">:</span><span class="w"> </span><span class="mi">1751423749572423</span><span class="p">,</span><span class="w">
      </span><span class="nl">"log_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"fc2cd6ff-d1f1-4ee9-a738-937591a2dca5"</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<table><thead>
<tr>
<th>Name</th>
<th>Type</th>
<th>Description</th>
<th>Notes</th>
</tr>
</thead><tbody>
<tr>
<td>» code</td>
<td>integer</td>
<td>Status Code</td>
<td>none</td>
</tr>
<tr>
<td>» msg</td>
<td>string</td>
<td>Description Message</td>
<td>none</td>
</tr>
<tr>
<td>» data</td>
<td>array[object]</td>
<td>Data</td>
<td>none</td>
</tr>
<tr>
<td>»» ins_type</td>
<td>string</td>
<td>Instrument Type</td>
<td>none</td>
</tr>
<tr>
<td>»» product_name</td>
<td>string</td>
<td>Product Name</td>
<td>none</td>
</tr>
<tr>
<td>»» coin_name</td>
<td>string</td>
<td>Coin Name</td>
<td>none</td>
</tr>
<tr>
<td>»» bill_type</td>
<td>integer</td>
<td>Main Bill Type</td>
<td>none</td>
</tr>
<tr>
<td>»» sub_bill_type</td>
<td>integer</td>
<td>Sub Bill Type</td>
<td>none</td>
</tr>
<tr>
<td>»» mgn_mode</td>
<td>integer</td>
<td>Margin Mode</td>
<td>none</td>
</tr>
<tr>
<td>»» role</td>
<td>string</td>
<td>Role</td>
<td>none</td>
</tr>
<tr>
<td>»» trade_direction</td>
<td>integer</td>
<td>Trade Direction</td>
<td>none</td>
</tr>
<tr>
<td>»» amount</td>
<td>string</td>
<td>Amount</td>
<td>none</td>
</tr>
<tr>
<td>»» experience_amount</td>
<td>string</td>
<td>Experience Amount</td>
<td>none</td>
</tr>
<tr>
<td>»» fee_amount</td>
<td>string</td>
<td>Fee Amount</td>
<td>none</td>
</tr>
<tr>
<td>»» price</td>
<td>string</td>
<td>Trade Price</td>
<td>none</td>
</tr>
<tr>
<td>»» income</td>
<td>string</td>
<td>Income</td>
<td>none</td>
</tr>
<tr>
<td>»» created_at</td>
<td>integer</td>
<td>Creation Time</td>
<td>none</td>
</tr>
<tr>
<td>»» log_id</td>
<td>string</td>
<td>Log ID</td>
<td>none</td>
</tr>
</tbody></table>
<h2 id='6af89013fyvg'>Spot Market Data</h2>
<p>API interfaces under the <strong>Spot Market Data</strong> module do not require authentication.</p>
<h3 id='534fecb45vdx'>Spot Candlestick Data</h3>
<p>Returns candlestick data. The candlestick intervals are calculated based on Shanghai time.</p>
<h4 id='652dce07uzvb'>Rate Limit: 20 times/2 seconds</h4><h4 id='50278e02ugxn'>Rate Limiting Rule: IP</h4><h4 id='59ff88c8qyfi'>HTTP Request</h4>
<p><code>GET /notification/spot/{symbol}/candles</code></p>
<h4 id='22da1a0521v3'>Request Parameters</h4>
<blockquote>
<p>Request Example</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="err">GET</span><span class="w"> </span><span class="err">/notification/spot/BTC-USDT/candles?size=</span><span class="mi">10</span><span class="err">&amp;interval=</span><span class="mi">1</span><span class="err">min</span><span class="w">
</span></code></pre></div>
<table><thead>
<tr>
<th>Name</th>
<th>Position</th>
<th>Type</th>
<th>Required</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>symbol</td>
<td>path</td>
<td>string</td>
<td>Yes</td>
<td>Trading Pair Name</td>
</tr>
<tr>
<td>size</td>
<td>query</td>
<td>integer</td>
<td>Yes</td>
<td>Number of Records: Maximum 2000</td>
</tr>
<tr>
<td>start</td>
<td>query</td>
<td>integer</td>
<td>Yes</td>
<td>Start Timestamp (seconds)</td>
</tr>
<tr>
<td>end</td>
<td>query</td>
<td>integer</td>
<td>Yes</td>
<td>End Timestamp (seconds)</td>
</tr>
<tr>
<td>interval</td>
<td>query</td>
<td>string</td>
<td>Yes</td>
<td>Time Interval: See enumeration</td>
</tr>
</tbody></table>
<h4 id='a222a51e4nq1'>Response Parameters</h4>
<blockquote>
<p>Response Example</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"code"</span><span class="p">:</span><span class="w"> </span><span class="mi">200</span><span class="p">,</span><span class="w">
  </span><span class="nl">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="nl">"open"</span><span class="p">:</span><span class="w"> </span><span class="s2">"98955"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"close"</span><span class="p">:</span><span class="w"> </span><span class="s2">"98955"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"high"</span><span class="p">:</span><span class="w"> </span><span class="s2">"98955"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"low"</span><span class="p">:</span><span class="w"> </span><span class="s2">"98955"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"turn_over"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"vol"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"count"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="nl">"open"</span><span class="p">:</span><span class="w"> </span><span class="s2">"98955"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"close"</span><span class="p">:</span><span class="w"> </span><span class="s2">"98955"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"high"</span><span class="p">:</span><span class="w"> </span><span class="s2">"98955"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"low"</span><span class="p">:</span><span class="w"> </span><span class="s2">"98955"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"turn_over"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"vol"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"count"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">],</span><span class="w">
  </span><span class="nl">"interval"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1min"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"msg"</span><span class="p">:</span><span class="w"> </span><span class="s2">"success"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"symbol"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BTC-USDT"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"ts"</span><span class="p">:</span><span class="w"> </span><span class="mi">1746754786392</span><span class="p">,</span><span class="w">
  </span><span class="nl">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"spot.candles"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<table><thead>
<tr>
<th>Name</th>
<th>Type</th>
<th>Description</th>
<th>Notes</th>
</tr>
</thead><tbody>
<tr>
<td>» symbol</td>
<td>string</td>
<td>Trading Pair Name</td>
<td>none</td>
</tr>
<tr>
<td>» interval</td>
<td>string</td>
<td>Candlestick Type</td>
<td>none</td>
</tr>
<tr>
<td>» msg</td>
<td>string</td>
<td>Description Message</td>
<td>none</td>
</tr>
<tr>
<td>» code</td>
<td>integer</td>
<td>Status Code</td>
<td>none</td>
</tr>
<tr>
<td>» ts</td>
<td>string</td>
<td>Timestamp in Milliseconds</td>
<td>none</td>
</tr>
<tr>
<td>» data</td>
<td>array[object]</td>
<td>Data</td>
<td>none</td>
</tr>
<tr>
<td>»» open</td>
<td>string</td>
<td>Open Price</td>
<td>none</td>
</tr>
<tr>
<td>»» close</td>
<td>string</td>
<td>Close Price</td>
<td>none</td>
</tr>
<tr>
<td>»» high</td>
<td>string</td>
<td>High Price</td>
<td>none</td>
</tr>
<tr>
<td>»» low</td>
<td>string</td>
<td>Low Price</td>
<td>none</td>
</tr>
<tr>
<td>»» turn_over</td>
<td>string</td>
<td>Turnover</td>
<td>none</td>
</tr>
<tr>
<td>»» vol</td>
<td>string</td>
<td>Volume</td>
<td>none</td>
</tr>
<tr>
<td>»» count</td>
<td>integer</td>
<td>Number of Trades</td>
<td>none</td>
</tr>
</tbody></table>
<h3 id='c07cef3aib0r'>Spot Order Book</h3><h4 id='652dce07squ3'>Rate Limit: 20 times/2 seconds</h4><h4 id='50278e025we'>Rate Limiting Rule: IP</h4><h4 id='59ff88c8wfj6'>HTTP Request</h4>
<p><code>GET /notification/spot/{symbol}/orderbook</code></p>
<h4 id='22da1a056jhf'>Request Parameters</h4>
<blockquote>
<p>Request Example</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="err">GET</span><span class="w"> </span><span class="err">/notification/spot/BTC-USDT/orderbook?interval=step</span><span class="mi">0</span><span class="w">
</span></code></pre></div>
<table><thead>
<tr>
<th>Name</th>
<th>Position</th>
<th>Type</th>
<th>Required</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>symbol</td>
<td>path</td>
<td>string</td>
<td>Yes</td>
<td>Trading Pair</td>
</tr>
<tr>
<td>interval</td>
<td>query</td>
<td>string</td>
<td>Yes</td>
<td>Depth Level (step0-step3)</td>
</tr>
</tbody></table>
<h4 id='a222a51e8w2d'>Response Parameters</h4>
<blockquote>
<p>Response Example</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"code"</span><span class="p">:</span><span class="w"> </span><span class="mi">200</span><span class="p">,</span><span class="w">
  </span><span class="nl">"interval"</span><span class="p">:</span><span class="w"> </span><span class="s2">"step1"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"msg"</span><span class="p">:</span><span class="w"> </span><span class="s2">"success"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ok"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"ts"</span><span class="p">:</span><span class="w"> </span><span class="mi">1746759469400</span><span class="p">,</span><span class="w">
  </span><span class="nl">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"spot.orderBook"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"bids"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
      </span><span class="p">[</span><span class="w">
        </span><span class="s2">"102551.64603"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"0.02"</span><span class="w">
      </span><span class="p">]</span><span class="w">
    </span><span class="p">],</span><span class="w">
    </span><span class="nl">"asks"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
      </span><span class="p">[</span><span class="w">
        </span><span class="s2">"102551.65383"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"0.04"</span><span class="w">
      </span><span class="p">]</span><span class="w">
    </span><span class="p">],</span><span class="w">
    </span><span class="nl">"ts"</span><span class="p">:</span><span class="w"> </span><span class="mi">1746759469321</span><span class="p">,</span><span class="w">
    </span><span class="nl">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"spot.orderBook"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"product_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BTC-USDT"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"interval"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1"</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<table><thead>
<tr>
<th>Name</th>
<th>Type</th>
<th>Description</th>
<th>Notes</th>
</tr>
</thead><tbody>
<tr>
<td>» code</td>
<td>integer</td>
<td>Status Code</td>
<td>none</td>
</tr>
<tr>
<td>» interval</td>
<td>string</td>
<td>Depth Level</td>
<td>none</td>
</tr>
<tr>
<td>» msg</td>
<td>string</td>
<td>Description Message</td>
<td>none</td>
</tr>
<tr>
<td>» status</td>
<td>string</td>
<td>Status</td>
<td>none</td>
</tr>
<tr>
<td>» ts</td>
<td>integer</td>
<td>Timestamp in Milliseconds</td>
<td>none</td>
</tr>
<tr>
<td>» type</td>
<td>string</td>
<td>Type</td>
<td>none</td>
</tr>
<tr>
<td>» data</td>
<td>object</td>
<td>Data</td>
<td>none</td>
</tr>
<tr>
<td>»» bids</td>
<td>[array]</td>
<td>Buy Orders</td>
<td>Array of [price, quantity]</td>
</tr>
<tr>
<td>»» asks</td>
<td>[array]</td>
<td>Sell Orders</td>
<td>Array of [price, quantity]</td>
</tr>
<tr>
<td>»» ts</td>
<td>integer</td>
<td>Timestamp in Milliseconds</td>
<td>13-digit timestamp</td>
</tr>
<tr>
<td>»» type</td>
<td>string</td>
<td>Request Method</td>
<td>none</td>
</tr>
<tr>
<td>»» product_name</td>
<td>string</td>
<td>Product Name</td>
<td>none</td>
</tr>
<tr>
<td>»» interval</td>
<td>string</td>
<td>Depth Level</td>
<td>none</td>
</tr>
</tbody></table>
<h3 id='ea05241e9fp5'>Spot Tickers</h3><h4 id='652dce072jid'>Rate Limit: 20 times/2 seconds</h4><h4 id='50278e02aai9'>Rate Limiting Rule: IP</h4><h4 id='59ff88c8phze'>HTTP Request</h4>
<p><code>GET /notification/spot/tickers</code></p>
<h4 id='22da1a057ohm'>Request Parameters</h4><h4 id='a222a51egpxq'>Response Parameters</h4>
<blockquote>
<p>Response Example</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"ch"</span><span class="p">:</span><span class="w"> </span><span class="s2">"spot.tickers"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"code"</span><span class="p">:</span><span class="w"> </span><span class="mi">200</span><span class="p">,</span><span class="w">
  </span><span class="nl">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="nl">"market"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nl">"open"</span><span class="p">:</span><span class="w"> </span><span class="s2">"100000"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"close"</span><span class="p">:</span><span class="w"> </span><span class="s2">"100000"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"low"</span><span class="p">:</span><span class="w"> </span><span class="s2">"100000"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"high"</span><span class="p">:</span><span class="w"> </span><span class="s2">"100000"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"turn_over"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"count"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
        </span><span class="nl">"vol"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"change"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"change_percent"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="nl">"symbol"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BTC-USDT"</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">],</span><span class="w">
  </span><span class="nl">"msg"</span><span class="p">:</span><span class="w"> </span><span class="s2">"success"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"ts"</span><span class="p">:</span><span class="w"> </span><span class="mi">1746727154821</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<table><thead>
<tr>
<th>Name</th>
<th>Type</th>
<th>Description</th>
<th>Notes</th>
</tr>
</thead><tbody>
<tr>
<td>» code</td>
<td>integer</td>
<td>Status Code</td>
<td>none</td>
</tr>
<tr>
<td>» data</td>
<td>array[object]</td>
<td>Data</td>
<td>none</td>
</tr>
<tr>
<td>»» market</td>
<td>object</td>
<td>Market Data</td>
<td>none</td>
</tr>
<tr>
<td>»»» open</td>
<td>string</td>
<td>Open Price</td>
<td>none</td>
</tr>
<tr>
<td>»»» close</td>
<td>string</td>
<td>Close Price</td>
<td>none</td>
</tr>
<tr>
<td>»»» low</td>
<td>string</td>
<td>Low Price</td>
<td>none</td>
</tr>
<tr>
<td>»»» high</td>
<td>string</td>
<td>High Price</td>
<td>none</td>
</tr>
<tr>
<td>»»» turn_over</td>
<td>string</td>
<td>Turnover</td>
<td>none</td>
</tr>
<tr>
<td>»»» count</td>
<td>integer</td>
<td>Trade Count</td>
<td>none</td>
</tr>
<tr>
<td>»»» vol</td>
<td>string</td>
<td>Volume</td>
<td>none</td>
</tr>
<tr>
<td>»»» change</td>
<td>string</td>
<td>24-hour Change</td>
<td>none</td>
</tr>
<tr>
<td>»»» change_percent</td>
<td>string</td>
<td>24-hour Change Percentage</td>
<td>none</td>
</tr>
<tr>
<td>»» symbol</td>
<td>string</td>
<td>Symbol</td>
<td>none</td>
</tr>
<tr>
<td>» msg</td>
<td>string</td>
<td>Description Message</td>
<td>none</td>
</tr>
<tr>
<td>» ts</td>
<td>integer</td>
<td>Timestamp in Milliseconds</td>
<td>none</td>
</tr>
</tbody></table>
<h3 id='3cd370f07zhz'>Spot Ticker</h3><h4 id='652dce075vak'>Rate Limit: 20 times/2 seconds</h4><h4 id='50278e02q0xh'>Rate Limiting Rule: IP</h4><h4 id='59ff88c8dvm4'>HTTP Request</h4>
<p><code>GET /notification/spot/{symbol}/ticker</code></p>
<h4 id='22da1a05ubeh'>Request Parameters</h4>
<table><thead>
<tr>
<th>Name</th>
<th>Position</th>
<th>Type</th>
<th>Required</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>symbol</td>
<td>path</td>
<td>string</td>
<td>Yes</td>
<td>Trading Pair Name</td>
</tr>
</tbody></table>
<h4 id='a222a51e1ix0'>Response Parameters</h4>
<blockquote>
<p>Response Example</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"ch"</span><span class="p">:</span><span class="w"> </span><span class="s2">"spot.BTC-USDT.detail"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"code"</span><span class="p">:</span><span class="w"> </span><span class="mi">200</span><span class="p">,</span><span class="w">
  </span><span class="nl">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"market"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nl">"open"</span><span class="p">:</span><span class="w"> </span><span class="s2">"89000"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"close"</span><span class="p">:</span><span class="w"> </span><span class="s2">"89001"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"low"</span><span class="p">:</span><span class="w"> </span><span class="s2">"89000"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"high"</span><span class="p">:</span><span class="w"> </span><span class="s2">"89500"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"turn_over"</span><span class="p">:</span><span class="w"> </span><span class="s2">"178089.9785"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"count"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
      </span><span class="nl">"vol"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2.000983"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"change"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"change_percent"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nl">"symbol"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BTC-USDT"</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="nl">"msg"</span><span class="p">:</span><span class="w"> </span><span class="s2">"success"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"ts"</span><span class="p">:</span><span class="w"> </span><span class="mi">1744000114682</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<table><thead>
<tr>
<th>Name</th>
<th>Type</th>
<th>Description</th>
<th>Notes</th>
</tr>
</thead><tbody>
<tr>
<td>» code</td>
<td>integer</td>
<td>Status Code</td>
<td>none</td>
</tr>
<tr>
<td>» data</td>
<td>object</td>
<td>Data</td>
<td>none</td>
</tr>
<tr>
<td>»» market</td>
<td>object</td>
<td>Market Data</td>
<td>none</td>
</tr>
<tr>
<td>»»» open</td>
<td>string</td>
<td>Open Price</td>
<td>none</td>
</tr>
<tr>
<td>»»» close</td>
<td>string</td>
<td>Close Price</td>
<td>none</td>
</tr>
<tr>
<td>»»» low</td>
<td>string</td>
<td>Low Price</td>
<td>none</td>
</tr>
<tr>
<td>»»» high</td>
<td>string</td>
<td>High Price</td>
<td>none</td>
</tr>
<tr>
<td>»»» turn_over</td>
<td>string</td>
<td>Turnover</td>
<td>none</td>
</tr>
<tr>
<td>»»» count</td>
<td>integer</td>
<td>Trade Count</td>
<td>none</td>
</tr>
<tr>
<td>»»» vol</td>
<td>string</td>
<td>Volume</td>
<td>none</td>
</tr>
<tr>
<td>»»» change</td>
<td>string</td>
<td>24-hour Change</td>
<td>none</td>
</tr>
<tr>
<td>»»» change_percent</td>
<td>string</td>
<td>24-hour Change Percentage</td>
<td>none</td>
</tr>
<tr>
<td>»» symbol</td>
<td>string</td>
<td>Symbol</td>
<td>none</td>
</tr>
<tr>
<td>» msg</td>
<td>string</td>
<td>Description Message</td>
<td>none</td>
</tr>
<tr>
<td>» ts</td>
<td>integer</td>
<td>Timestamp in Milliseconds</td>
<td>none</td>
</tr>
</tbody></table>
<h3 id='459d9bf4acua'>Spot Trade Record</h3>
<p>The most recent trade record.</p>
<h4 id='652dce07jfn1'>Rate Limit: 20 times/2 seconds</h4><h4 id='50278e02pk7x'>Rate Limiting Rule: IP</h4><h4 id='59ff88c8upi7'>HTTP Request</h4>
<p><code>GET /notification/spot/{symbol}/trade</code></p>
<h4 id='22da1a05y23u'>Request Parameters</h4>
<blockquote>
<p>Request Example</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="err">GET</span><span class="w"> </span><span class="err">/notification/spot/BTC-USDT/trade</span><span class="w">
</span></code></pre></div>
<table><thead>
<tr>
<th>Name</th>
<th>Position</th>
<th>Type</th>
<th>Required</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>symbol</td>
<td>path</td>
<td>string</td>
<td>Yes</td>
<td>Trading Pair</td>
</tr>
</tbody></table>
<h4 id='a222a51enh9j'>Response Parameters</h4>
<blockquote>
<p>Response Example</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"code"</span><span class="p">:</span><span class="w"> </span><span class="mi">200</span><span class="p">,</span><span class="w">
  </span><span class="nl">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
      </span><span class="p">{</span><span class="w">
        </span><span class="nl">"direction"</span><span class="p">:</span><span class="w"> </span><span class="s2">"sell"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"price"</span><span class="p">:</span><span class="w"> </span><span class="s2">"102680.546869"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"ts"</span><span class="p">:</span><span class="w"> </span><span class="mi">1746759096603</span><span class="p">,</span><span class="w">
        </span><span class="nl">"vol"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0.04"</span><span class="w">
      </span><span class="p">}</span><span class="w">
    </span><span class="p">],</span><span class="w">
    </span><span class="nl">"ts"</span><span class="p">:</span><span class="w"> </span><span class="mi">1746759097067</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="nl">"msg"</span><span class="p">:</span><span class="w"> </span><span class="s2">"success"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"ts"</span><span class="p">:</span><span class="w"> </span><span class="mi">1746759097067</span><span class="p">,</span><span class="w">
  </span><span class="nl">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"swap.detail"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<table><thead>
<tr>
<th>Name</th>
<th>Type</th>
<th>Description</th>
<th>Notes</th>
</tr>
</thead><tbody>
<tr>
<td>» code</td>
<td>integer</td>
<td>Status Code</td>
<td>none</td>
</tr>
<tr>
<td>» data</td>
<td>object</td>
<td>Data</td>
<td>none</td>
</tr>
<tr>
<td>»» data</td>
<td>array[object]</td>
<td>Trade Records</td>
<td>none</td>
</tr>
<tr>
<td>»»» direction</td>
<td>string</td>
<td>Trade Direction</td>
<td><code>sell</code>, <code>buy</code></td>
</tr>
<tr>
<td>»»» price</td>
<td>string</td>
<td>Trade Price</td>
<td>none</td>
</tr>
<tr>
<td>»»» ts</td>
<td>integer</td>
<td>Timestamp in Milliseconds</td>
<td>none</td>
</tr>
<tr>
<td>»»» vol</td>
<td>string</td>
<td>Trade Volume</td>
<td>none</td>
</tr>
<tr>
<td>»» ts</td>
<td>integer</td>
<td>Timestamp</td>
<td>none</td>
</tr>
<tr>
<td>» msg</td>
<td>string</td>
<td>Description Message</td>
<td>none</td>
</tr>
<tr>
<td>» ts</td>
<td>integer</td>
<td>Timestamp</td>
<td>none</td>
</tr>
</tbody></table>
<h3 id='8096f75fo2w1'>Spot Batch Trade Records</h3>
<p>Retrieve the most recent trade records up to a specified number.</p>
<h4 id='652dce07a1pc'>Rate Limit: 20 times/2 seconds</h4><h4 id='50278e02t7qi'>Rate Limiting Rule: IP</h4><h4 id='59ff88c8u1b8'>HTTP Request</h4>
<p><code>GET /notification/spot/{symbol}/trades</code></p>
<h4 id='22da1a05dz5t'>Request Parameters</h4>
<blockquote>
<p>Request Example</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="err">GET</span><span class="w"> </span><span class="err">/notification/spot/BTC-USDT/trades?size=</span><span class="mi">10</span><span class="w">
</span></code></pre></div>
<table><thead>
<tr>
<th>Name</th>
<th>Position</th>
<th>Type</th>
<th>Required</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>symbol</td>
<td>path</td>
<td>string</td>
<td>Yes</td>
<td>Trading Pair</td>
</tr>
<tr>
<td>size</td>
<td>query</td>
<td>int</td>
<td>Yes</td>
<td>Number of Records, Maximum 2000</td>
</tr>
</tbody></table>
<h4 id='a222a51evu4b'>Response Parameters</h4>
<blockquote>
<p>Response Example</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"code"</span><span class="p">:</span><span class="w"> </span><span class="mi">200</span><span class="p">,</span><span class="w">
  </span><span class="nl">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="nl">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="p">{</span><span class="w">
          </span><span class="nl">"direction"</span><span class="p">:</span><span class="w"> </span><span class="s2">"buy"</span><span class="p">,</span><span class="w">
          </span><span class="nl">"price"</span><span class="p">:</span><span class="w"> </span><span class="s2">"102599.946583"</span><span class="p">,</span><span class="w">
          </span><span class="nl">"ts"</span><span class="p">:</span><span class="w"> </span><span class="mi">1746759371209</span><span class="p">,</span><span class="w">
          </span><span class="nl">"vol"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0.02"</span><span class="w">
        </span><span class="p">}</span><span class="w">
      </span><span class="p">],</span><span class="w">
      </span><span class="nl">"product_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BTC-USDT"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"ts"</span><span class="p">:</span><span class="w"> </span><span class="mi">1746759371209</span><span class="p">,</span><span class="w">
      </span><span class="nl">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"spot.BTC-USDT.fills"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="nl">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="p">{</span><span class="w">
          </span><span class="nl">"direction"</span><span class="p">:</span><span class="w"> </span><span class="s2">"sell"</span><span class="p">,</span><span class="w">
          </span><span class="nl">"price"</span><span class="p">:</span><span class="w"> </span><span class="s2">"102599.946583"</span><span class="p">,</span><span class="w">
          </span><span class="nl">"ts"</span><span class="p">:</span><span class="w"> </span><span class="mi">1746759371725</span><span class="p">,</span><span class="w">
          </span><span class="nl">"vol"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0.02"</span><span class="w">
        </span><span class="p">}</span><span class="w">
      </span><span class="p">],</span><span class="w">
      </span><span class="nl">"product_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BTC-USDT"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"ts"</span><span class="p">:</span><span class="w"> </span><span class="mi">1746759371725</span><span class="p">,</span><span class="w">
      </span><span class="nl">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"spot.BTC-USDT.fills"</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">],</span><span class="w">
  </span><span class="nl">"msg"</span><span class="p">:</span><span class="w"> </span><span class="s2">"success"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"ts"</span><span class="p">:</span><span class="w"> </span><span class="mi">1746759374498</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<table><thead>
<tr>
<th>Name</th>
<th>Type</th>
<th>Description</th>
<th>Notes</th>
</tr>
</thead><tbody>
<tr>
<td>» code</td>
<td>integer</td>
<td>Status Code</td>
<td>none</td>
</tr>
<tr>
<td>» data</td>
<td>array[object]</td>
<td>Data</td>
<td>none</td>
</tr>
<tr>
<td>»» data</td>
<td>array[object]</td>
<td>Trade Records</td>
<td>none</td>
</tr>
<tr>
<td>»»» direction</td>
<td>string</td>
<td>Trade Direction</td>
<td><code>sell</code>, <code>buy</code></td>
</tr>
<tr>
<td>»»» price</td>
<td>string</td>
<td>Trade Price</td>
<td>none</td>
</tr>
<tr>
<td>»»» ts</td>
<td>integer</td>
<td>Timestamp in Milliseconds</td>
<td>none</td>
</tr>
<tr>
<td>»»» vol</td>
<td>string</td>
<td>Trade Volume</td>
<td>none</td>
</tr>
<tr>
<td>»» product_name</td>
<td>string</td>
<td>Product Name</td>
<td>none</td>
</tr>
<tr>
<td>»» ts</td>
<td>integer</td>
<td>Timestamp in Milliseconds</td>
<td>none</td>
</tr>
<tr>
<td>» msg</td>
<td>string</td>
<td>Description Message</td>
<td>none</td>
</tr>
<tr>
<td>» ts</td>
<td>integer</td>
<td>Timestamp in Milliseconds</td>
<td>none</td>
</tr>
</tbody></table>
<h3 id='551dd740eqd7'>Spot Historical Trade Records</h3>
<p>Retrieves historical trade information in the market; paginated data for the last 3 months is supported.</p>
<h4 id='5c8dcc6752jt'>Rate Limit: 20 requests per 2 seconds</h4><h4 id='b04be0capek4'>Limit Rule: IP-based</h4><h4 id='59ff88c8uw6s'>HTTP Request</h4>
<p><code>GET /notification/spot/{symbol}/history-trades</code></p>
<h4 id='22da1a05hehu'>Request Parameters</h4>
<blockquote>
<p>Request Example</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="err">GET</span><span class="w"> </span><span class="err">/notification/spot/BTC-USDT/history-trades?size=</span><span class="mi">10</span><span class="w">
</span></code></pre></div>
<table><thead>
<tr>
<th>Name</th>
<th>Location</th>
<th>Type</th>
<th>Required</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>symbol</td>
<td>path</td>
<td>string</td>
<td>Yes</td>
<td>Trading pair name</td>
</tr>
<tr>
<td>size</td>
<td>query</td>
<td>integer</td>
<td>No</td>
<td>Number of records (max 100). Default is 100 when omitted.</td>
</tr>
<tr>
<td>after</td>
<td>query</td>
<td>integer</td>
<td>No</td>
<td>Millisecond timestamp. Use the last record’s timestamp from the previous response to paginate backwards.</td>
</tr>
</tbody></table>
<h4 id='a222a51e3hsq'>Response Parameters</h4>
<blockquote>
<p>Response Example</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"code"</span><span class="p">:</span><span class="w"> </span><span class="mi">200</span><span class="p">,</span><span class="w">
  </span><span class="nl">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="nl">"ts"</span><span class="p">:</span><span class="w"> </span><span class="mi">1752557507585</span><span class="p">,</span><span class="w">
      </span><span class="nl">"direction"</span><span class="p">:</span><span class="w"> </span><span class="s2">"buy"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"price"</span><span class="p">:</span><span class="w"> </span><span class="s2">"108640.42"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"vol"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0.0002"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">184664390001</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">],</span><span class="w">
  </span><span class="nl">"msg"</span><span class="p">:</span><span class="w"> </span><span class="s2">"success"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"ts"</span><span class="p">:</span><span class="w"> </span><span class="mi">1752725468921</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<table><thead>
<tr>
<th>Name</th>
<th>Type</th>
<th>Description</th>
<th>Notes</th>
</tr>
</thead><tbody>
<tr>
<td>» code</td>
<td>integer</td>
<td>Status code</td>
<td></td>
</tr>
<tr>
<td>» data</td>
<td>array[object]</td>
<td>Trade data</td>
<td></td>
</tr>
<tr>
<td>»» direction</td>
<td>string</td>
<td>Trade side</td>
<td><code>sell</code> or <code>buy</code></td>
</tr>
<tr>
<td>»» price</td>
<td>string</td>
<td>Trade price</td>
<td></td>
</tr>
<tr>
<td>»» ts</td>
<td>integer</td>
<td>Millisecond timestamp</td>
<td></td>
</tr>
<tr>
<td>»» vol</td>
<td>string</td>
<td>Trade volume</td>
<td></td>
</tr>
<tr>
<td>»» id</td>
<td>integer</td>
<td>Trade ID</td>
<td></td>
</tr>
<tr>
<td>» msg</td>
<td>string</td>
<td>Description</td>
<td></td>
</tr>
<tr>
<td>» ts</td>
<td>integer</td>
<td>Response timestamp</td>
<td></td>
</tr>
</tbody></table>
<h2 id='c7c313b5u4mu'>Swap Market Data</h2>
<p>API interfaces under the <strong>Swap Market Data</strong> module do not require authentication.</p>
<h3 id='d68573972by3'>Swap Candlestick Data</h3>
<p>Returns candlestick data. The candlestick intervals are calculated based on Shanghai time.</p>
<h4 id='652dce07zth0'>Rate Limit: 20 times/2 seconds</h4><h4 id='50278e02pann'>Rate Limiting Rule: IP</h4><h4 id='59ff88c8t83x'>HTTP Request</h4>
<p><code>GET /notification/swap/{symbol}/candles</code></p>
<h4 id='22da1a053fas'>Request Parameters</h4>
<blockquote>
<p>Request Example</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="err">GET</span><span class="w"> </span><span class="err">/notification/swap/BTCUSDT/candles?size=</span><span class="mi">10</span><span class="err">&amp;interval=</span><span class="mi">1</span><span class="err">min</span><span class="w">
</span></code></pre></div>
<table><thead>
<tr>
<th>Name</th>
<th>Position</th>
<th>Type</th>
<th>Required</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>symbol</td>
<td>path</td>
<td>string</td>
<td>Yes</td>
<td>Trading Pair Name</td>
</tr>
<tr>
<td>interval</td>
<td>query</td>
<td>string</td>
<td>Yes</td>
<td>Candlestick Type, See Enumeration</td>
</tr>
<tr>
<td>size</td>
<td>query</td>
<td>integer</td>
<td>Yes</td>
<td>Number of Records, Maximum 2000</td>
</tr>
<tr>
<td>start</td>
<td>query</td>
<td>integer</td>
<td>Yes</td>
<td>Start Timestamp (seconds)</td>
</tr>
<tr>
<td>end</td>
<td>query</td>
<td>integer</td>
<td>Yes</td>
<td>End Timestamp (seconds)</td>
</tr>
</tbody></table>
<h4 id='a222a51ecqjb'>Response Parameters</h4>
<blockquote>
<p>Response Example</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"code"</span><span class="p">:</span><span class="w"> </span><span class="mi">200</span><span class="p">,</span><span class="w">
  </span><span class="nl">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="nl">"open"</span><span class="p">:</span><span class="w"> </span><span class="s2">"102380.8"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"close"</span><span class="p">:</span><span class="w"> </span><span class="s2">"102380.3"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"high"</span><span class="p">:</span><span class="w"> </span><span class="s2">"102380.8"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"low"</span><span class="p">:</span><span class="w"> </span><span class="s2">"102379.2"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"turn_over"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
      </span><span class="nl">"vol"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
      </span><span class="nl">"count"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">],</span><span class="w">
  </span><span class="nl">"interval"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1min"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"msg"</span><span class="p">:</span><span class="w"> </span><span class="s2">"success"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"symbol"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BTCUSDT"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"ts"</span><span class="p">:</span><span class="w"> </span><span class="mi">1746763025575</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<table><thead>
<tr>
<th>Name</th>
<th>Type</th>
<th>Description</th>
<th>Notes</th>
</tr>
</thead><tbody>
<tr>
<td>» code</td>
<td>integer</td>
<td>Status Code</td>
<td>none</td>
</tr>
<tr>
<td>» data</td>
<td>array[object]</td>
<td>Data</td>
<td>none</td>
</tr>
<tr>
<td>»» open</td>
<td>string</td>
<td>Open Price</td>
<td>none</td>
</tr>
<tr>
<td>»» close</td>
<td>string</td>
<td>Close Price</td>
<td>none</td>
</tr>
<tr>
<td>»» high</td>
<td>string</td>
<td>High Price</td>
<td>none</td>
</tr>
<tr>
<td>»» low</td>
<td>string</td>
<td>Low Price</td>
<td>none</td>
</tr>
<tr>
<td>»» turn_over</td>
<td>string</td>
<td>Turnover</td>
<td>none</td>
</tr>
<tr>
<td>»» vol</td>
<td>string</td>
<td>Volume</td>
<td>none</td>
</tr>
<tr>
<td>»» count</td>
<td>integer</td>
<td>Number of Trades</td>
<td>none</td>
</tr>
<tr>
<td>» msg</td>
<td>string</td>
<td>Description Message</td>
<td>none</td>
</tr>
<tr>
<td>» symbol</td>
<td>string</td>
<td>Trading Pair Name</td>
<td>none</td>
</tr>
<tr>
<td>» interval</td>
<td>string</td>
<td>Candlestick Type</td>
<td>none</td>
</tr>
<tr>
<td>» ts</td>
<td>integer</td>
<td>Timestamp in Milliseconds</td>
<td>none</td>
</tr>
</tbody></table>
<h3 id='463d9e67irt1'>Swap Order Book</h3>
<p>Retrieve market depth information for a product.</p>
<h4 id='652dce07y7ab'>Rate Limit: 20 times/2 seconds</h4><h4 id='50278e02p75b'>Rate Limiting Rule: IP</h4><h4 id='59ff88c8w8sa'>HTTP Request</h4>
<p><code>GET /notification/swap/{symbol}/orderbook</code></p>
<h4 id='22da1a05c5te'>Request Parameters</h4>
<blockquote>
<p>Request Example</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="err">GET</span><span class="w"> </span><span class="err">/notification/swap/BTCUSDT/orderbook?interval=step</span><span class="mi">0</span><span class="w">
</span></code></pre></div>
<table><thead>
<tr>
<th>Name</th>
<th>Position</th>
<th>Type</th>
<th>Required</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>symbol</td>
<td>path</td>
<td>string</td>
<td>Yes</td>
<td>Trading Pair Name</td>
</tr>
<tr>
<td>interval</td>
<td>query</td>
<td>string</td>
<td>No</td>
<td>depth step0-step3</td>
</tr>
</tbody></table>
<h4 id='a222a51e2bo5'>Response Parameters</h4>
<blockquote>
<p>Response Example</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"code"</span><span class="p">:</span><span class="w"> </span><span class="mi">200</span><span class="p">,</span><span class="w">
  </span><span class="nl">"interval"</span><span class="p">:</span><span class="w"> </span><span class="s2">"step1"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"msg"</span><span class="p">:</span><span class="w"> </span><span class="s2">"success"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ok"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"ts"</span><span class="p">:</span><span class="w"> </span><span class="mi">1746782857053</span><span class="p">,</span><span class="w">
  </span><span class="nl">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"swap.orderBook"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"bids"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
      </span><span class="p">[</span><span class="w">
        </span><span class="s2">"102623"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"59494"</span><span class="w">
      </span><span class="p">]</span><span class="w">
    </span><span class="p">],</span><span class="w">
    </span><span class="nl">"asks"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
      </span><span class="p">[</span><span class="w">
        </span><span class="s2">"102624"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"2143"</span><span class="w">
      </span><span class="p">]</span><span class="w">
    </span><span class="p">],</span><span class="w">
    </span><span class="nl">"ts"</span><span class="p">:</span><span class="w"> </span><span class="mi">1746782856804</span><span class="p">,</span><span class="w">
    </span><span class="nl">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"swap.BTCUSDT.orderBook"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"product_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BTCUSDT"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"interval"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1"</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<table><thead>
<tr>
<th>Name</th>
<th>Type</th>
<th>Description</th>
<th>Notes</th>
</tr>
</thead><tbody>
<tr>
<td>» code</td>
<td>integer</td>
<td>Status Code</td>
<td>none</td>
</tr>
<tr>
<td>» interval</td>
<td>string</td>
<td>Depth Level</td>
<td>none</td>
</tr>
<tr>
<td>» msg</td>
<td>string</td>
<td>Description Message</td>
<td>none</td>
</tr>
<tr>
<td>» status</td>
<td>string</td>
<td>Status</td>
<td>none</td>
</tr>
<tr>
<td>» ts</td>
<td>integer</td>
<td>Timestamp in Milliseconds</td>
<td>none</td>
</tr>
<tr>
<td>» type</td>
<td>string</td>
<td>Type</td>
<td>none</td>
</tr>
<tr>
<td>» data</td>
<td>object</td>
<td>Data</td>
<td>none</td>
</tr>
<tr>
<td>»» bids</td>
<td>[array]</td>
<td>Buy Orders</td>
<td>Array of [price, quantity]</td>
</tr>
<tr>
<td>»» asks</td>
<td>[array]</td>
<td>Sell Orders</td>
<td>Array of [price, quantity]</td>
</tr>
<tr>
<td>»» ts</td>
<td>integer</td>
<td>Timestamp in Milliseconds</td>
<td>13-digit timestamp</td>
</tr>
<tr>
<td>»» type</td>
<td>string</td>
<td>Request Method</td>
<td>none</td>
</tr>
<tr>
<td>»» product_name</td>
<td>string</td>
<td>Product Name</td>
<td>none</td>
</tr>
<tr>
<td>»» interval</td>
<td>string</td>
<td>Depth Level</td>
<td>none</td>
</tr>
</tbody></table>
<h3 id='12c02d7b15op'>Swap Ticker</h3><h4 id='652dce07mueo'>Rate Limit: 20 times/2 seconds</h4><h4 id='50278e02vzut'>Rate Limiting Rule: IP</h4><h4 id='59ff88c8d5ye'>HTTP Request</h4>
<p><code>GET /notification/swap/{symbol}/ticker</code></p>
<h4 id='22da1a05qie'>Request Parameters</h4>
<blockquote>
<p>Request Example</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="err">GET</span><span class="w"> </span><span class="err">/notification/swap/BTCUSDT/ticker</span><span class="w">
</span></code></pre></div>
<table><thead>
<tr>
<th>Name</th>
<th>Position</th>
<th>Type</th>
<th>Required</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>symbol</td>
<td>path</td>
<td>string</td>
<td>Yes</td>
<td>Trading Pair Name</td>
</tr>
</tbody></table>
<h4 id='a222a51evzdi'>Response Parameters</h4>
<blockquote>
<p>Response Example</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"ch"</span><span class="p">:</span><span class="w"> </span><span class="s2">"swap.BTCUSDT.detail"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"code"</span><span class="p">:</span><span class="w"> </span><span class="mi">200</span><span class="p">,</span><span class="w">
  </span><span class="nl">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"market"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nl">"open"</span><span class="p">:</span><span class="w"> </span><span class="s2">"10000"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"close"</span><span class="p">:</span><span class="w"> </span><span class="s2">"102382.3557"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"low"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0.3538"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"high"</span><span class="p">:</span><span class="w"> </span><span class="s2">"102938.655"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"turn_over"</span><span class="p">:</span><span class="w"> </span><span class="s2">"411364424037.47854688"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"count"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
      </span><span class="nl">"vol"</span><span class="p">:</span><span class="w"> </span><span class="s2">"4009858.7732"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"change"</span><span class="p">:</span><span class="w"> </span><span class="s2">"92382.3557"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"change_percent"</span><span class="p">:</span><span class="w"> </span><span class="s2">"9.23823557"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nl">"index"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nl">"open"</span><span class="p">:</span><span class="w"> </span><span class="s2">"103276.62"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"close"</span><span class="p">:</span><span class="w"> </span><span class="s2">"102412.29"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"low"</span><span class="p">:</span><span class="w"> </span><span class="s2">"102358.29"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"high"</span><span class="p">:</span><span class="w"> </span><span class="s2">"103276.62"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nl">"tag"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nl">"open"</span><span class="p">:</span><span class="w"> </span><span class="s2">"103276.62"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"close"</span><span class="p">:</span><span class="w"> </span><span class="s2">"102412.2"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"low"</span><span class="p">:</span><span class="w"> </span><span class="s2">"102358.2"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"high"</span><span class="p">:</span><span class="w"> </span><span class="s2">"103276.62"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nl">"funding_rate"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0.00000001"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"funding_next_time"</span><span class="p">:</span><span class="w"> </span><span class="mi">1746777600</span><span class="p">,</span><span class="w">
    </span><span class="nl">"pre_funding_rate"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0.00000001"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"symbol"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BTCUSDT"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"risk_fund"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="nl">"msg"</span><span class="p">:</span><span class="w"> </span><span class="s2">"success"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"ts"</span><span class="p">:</span><span class="w"> </span><span class="mi">1746763088919</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<table><thead>
<tr>
<th>Name</th>
<th>Type</th>
<th>Description</th>
<th>Notes</th>
</tr>
</thead><tbody>
<tr>
<td>» code</td>
<td>integer</td>
<td>Status Code</td>
<td>none</td>
</tr>
<tr>
<td>» msg</td>
<td>string</td>
<td>Description Message</td>
<td>none</td>
</tr>
<tr>
<td>» ts</td>
<td>integer</td>
<td>Timestamp in Milliseconds</td>
<td>none</td>
</tr>
<tr>
<td>» data</td>
<td>object</td>
<td>Data</td>
<td>none</td>
</tr>
<tr>
<td>»» market</td>
<td>object</td>
<td>Market Data</td>
<td>none</td>
</tr>
<tr>
<td>»»» open</td>
<td>string</td>
<td>Open Price</td>
<td>none</td>
</tr>
<tr>
<td>»»» close</td>
<td>string</td>
<td>Close Price</td>
<td>none</td>
</tr>
<tr>
<td>»»» low</td>
<td>string</td>
<td>Low Price</td>
<td>none</td>
</tr>
<tr>
<td>»»» high</td>
<td>string</td>
<td>High Price</td>
<td>none</td>
</tr>
<tr>
<td>»»» turn_over</td>
<td>string</td>
<td>Turnover</td>
<td>none</td>
</tr>
<tr>
<td>»»» count</td>
<td>integer</td>
<td>Trade Count</td>
<td>none</td>
</tr>
<tr>
<td>»»» vol</td>
<td>string</td>
<td>Volume</td>
<td>none</td>
</tr>
<tr>
<td>»»» change</td>
<td>string</td>
<td>24-hour Change</td>
<td>none</td>
</tr>
<tr>
<td>»»» change_percent</td>
<td>string</td>
<td>24-hour Change Percentage</td>
<td>none</td>
</tr>
<tr>
<td>»» index</td>
<td>object</td>
<td>Index Data</td>
<td>none</td>
</tr>
<tr>
<td>»»» open</td>
<td>string</td>
<td>Open Price</td>
<td>none</td>
</tr>
<tr>
<td>»»» close</td>
<td>string</td>
<td>Close Price</td>
<td>none</td>
</tr>
<tr>
<td>»»» low</td>
<td>string</td>
<td>Low Price</td>
<td>none</td>
</tr>
<tr>
<td>»»» high</td>
<td>string</td>
<td>High Price</td>
<td>none</td>
</tr>
<tr>
<td>»» tag</td>
<td>object</td>
<td>Tag Data</td>
<td>none</td>
</tr>
<tr>
<td>»»» open</td>
<td>string</td>
<td>Open Price</td>
<td>none</td>
</tr>
<tr>
<td>»»» close</td>
<td>string</td>
<td>Close Price</td>
<td>none</td>
</tr>
<tr>
<td>»»» low</td>
<td>string</td>
<td>Low Price</td>
<td>none</td>
</tr>
<tr>
<td>»»» high</td>
<td>string</td>
<td>High Price</td>
<td>none</td>
</tr>
<tr>
<td>»» funding_rate</td>
<td>string</td>
<td>Funding Rate</td>
<td>none</td>
</tr>
<tr>
<td>»» funding_next_time</td>
<td>integer</td>
<td>Next Funding Time</td>
<td>Unix timestamp in seconds</td>
</tr>
<tr>
<td>»» pre_funding_rate</td>
<td>string</td>
<td>Predicted Funding Rate</td>
<td>none</td>
</tr>
<tr>
<td>»» symbol</td>
<td>string</td>
<td>Symbol</td>
<td>none</td>
</tr>
<tr>
<td>»» risk_fund</td>
<td>string</td>
<td>Risk Fund Balance</td>
<td>none</td>
</tr>
</tbody></table>
<h3 id='2ff69aa59q8j'>Swap Tickers</h3>
<p>Retrieve market data for multiple products, including the latest 24-hour aggregated trading information.</p>
<h4 id='652dce07if74'>Rate Limit: 20 times/2 seconds</h4><h4 id='50278e02jlfy'>Rate Limiting Rule: IP</h4><h4 id='59ff88c8nx56'>HTTP Request</h4>
<p><code>GET /notification/swap/tickers</code></p>
<h4 id='22da1a05pjwl'>Request Parameters</h4>
<blockquote>
<p>Request Example</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="err">GET</span><span class="w"> </span><span class="err">/notification/swap/tickers</span><span class="w">
</span></code></pre></div><h4 id='a222a51e6kaw'>Response Parameters</h4>
<blockquote>
<p>Response Example</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"ch"</span><span class="p">:</span><span class="w"> </span><span class="s2">"swap.tickers"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"code"</span><span class="p">:</span><span class="w"> </span><span class="mi">200</span><span class="p">,</span><span class="w">
  </span><span class="nl">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="nl">"market"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nl">"open"</span><span class="p">:</span><span class="w"> </span><span class="s2">"10000"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"close"</span><span class="p">:</span><span class="w"> </span><span class="s2">"102564.2999"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"low"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0.3538"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"high"</span><span class="p">:</span><span class="w"> </span><span class="s2">"102938.655"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"turn_over"</span><span class="p">:</span><span class="w"> </span><span class="s2">"554079954983.83727936"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"count"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
        </span><span class="nl">"vol"</span><span class="p">:</span><span class="w"> </span><span class="s2">"5426486.2397"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"change"</span><span class="p">:</span><span class="w"> </span><span class="s2">"92564.2999"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"change_percent"</span><span class="p">:</span><span class="w"> </span><span class="s2">"9.25642999"</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="nl">"index"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nl">"open"</span><span class="p">:</span><span class="w"> </span><span class="s2">"103276.62"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"close"</span><span class="p">:</span><span class="w"> </span><span class="s2">"102824.77"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"low"</span><span class="p">:</span><span class="w"> </span><span class="s2">"102358.29"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"high"</span><span class="p">:</span><span class="w"> </span><span class="s2">"103276.62"</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="nl">"tag"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nl">"open"</span><span class="p">:</span><span class="w"> </span><span class="s2">"103276.62"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"close"</span><span class="p">:</span><span class="w"> </span><span class="s2">"102824.7"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"low"</span><span class="p">:</span><span class="w"> </span><span class="s2">"102358.2"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"high"</span><span class="p">:</span><span class="w"> </span><span class="s2">"103276.62"</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="nl">"funding_rate"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0.00000001"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"funding_next_time"</span><span class="p">:</span><span class="w"> </span><span class="mi">1746777600</span><span class="p">,</span><span class="w">
      </span><span class="nl">"pre_funding_rate"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0.00000001"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"symbol"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BTCUSDT"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"risk_fund"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">],</span><span class="w">
  </span><span class="nl">"msg"</span><span class="p">:</span><span class="w"> </span><span class="s2">"success"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"ts"</span><span class="p">:</span><span class="w"> </span><span class="mi">1746766867341</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<table><thead>
<tr>
<th>Name</th>
<th>Type</th>
<th>Description</th>
<th>Notes</th>
</tr>
</thead><tbody>
<tr>
<td>» code</td>
<td>integer</td>
<td>Status Code</td>
<td>none</td>
</tr>
<tr>
<td>» msg</td>
<td>string</td>
<td>Description Message</td>
<td>none</td>
</tr>
<tr>
<td>» ts</td>
<td>integer</td>
<td>Timestamp in Milliseconds</td>
<td>none</td>
</tr>
<tr>
<td>» data</td>
<td>array[object]</td>
<td>Data</td>
<td>none</td>
</tr>
<tr>
<td>»» market</td>
<td>object</td>
<td>Market Data</td>
<td>none</td>
</tr>
<tr>
<td>»»» open</td>
<td>string</td>
<td>Open Price</td>
<td>none</td>
</tr>
<tr>
<td>»»» close</td>
<td>string</td>
<td>Close Price</td>
<td>none</td>
</tr>
<tr>
<td>»»» low</td>
<td>string</td>
<td>Low Price</td>
<td>none</td>
</tr>
<tr>
<td>»»» high</td>
<td>string</td>
<td>High Price</td>
<td>none</td>
</tr>
<tr>
<td>»»» turn_over</td>
<td>string</td>
<td>Turnover</td>
<td>none</td>
</tr>
<tr>
<td>»»» count</td>
<td>string</td>
<td>Trade Count</td>
<td>none</td>
</tr>
<tr>
<td>»»» vol</td>
<td>string</td>
<td>Volume</td>
<td>none</td>
</tr>
<tr>
<td>»»» change</td>
<td>string</td>
<td>24-hour Change</td>
<td>none</td>
</tr>
<tr>
<td>»»» change_percent</td>
<td>string</td>
<td>24-hour Change Percentage</td>
<td>none</td>
</tr>
<tr>
<td>»» index</td>
<td>object</td>
<td>Index Data</td>
<td>none</td>
</tr>
<tr>
<td>»»» open</td>
<td>string</td>
<td>Open Price</td>
<td>none</td>
</tr>
<tr>
<td>»»» close</td>
<td>string</td>
<td>Close Price</td>
<td>none</td>
</tr>
<tr>
<td>»»» low</td>
<td>string</td>
<td>Low Price</td>
<td>none</td>
</tr>
<tr>
<td>»»» high</td>
<td>string</td>
<td>High Price</td>
<td>none</td>
</tr>
<tr>
<td>»» tag</td>
<td>object</td>
<td>Tag Data</td>
<td>none</td>
</tr>
<tr>
<td>»»» open</td>
<td>string</td>
<td>Open Price</td>
<td>none</td>
</tr>
<tr>
<td>»»» close</td>
<td>string</td>
<td>Close Price</td>
<td>none</td>
</tr>
<tr>
<td>»»» low</td>
<td>string</td>
<td>Low Price</td>
<td>none</td>
</tr>
<tr>
<td>»»» high</td>
<td>string</td>
<td>High Price</td>
<td>none</td>
</tr>
<tr>
<td>»» funding_rate</td>
<td>string</td>
<td>Funding Rate</td>
<td>none</td>
</tr>
<tr>
<td>»» funding_next_time</td>
<td>integer</td>
<td>Next Funding Time</td>
<td>Unix timestamp in seconds</td>
</tr>
<tr>
<td>»» pre_funding_rate</td>
<td>string</td>
<td>Predicted Funding Rate</td>
<td>none</td>
</tr>
<tr>
<td>»» symbol</td>
<td>string</td>
<td>Symbol</td>
<td>none</td>
</tr>
<tr>
<td>»» risk_fund</td>
<td>string</td>
<td>Risk Fund Balance</td>
<td>none</td>
</tr>
</tbody></table>
<h3 id='78857a28ak8w'>Swap Trade Record</h3>
<p>Retrieve the most recent trade record for a specific contract.</p>
<h4 id='652dce07gbii'>Rate Limit: 20 times/2 seconds</h4><h4 id='50278e02nzwy'>Rate Limiting Rule: IP</h4><h4 id='59ff88c8yunr'>HTTP Request</h4>
<p><code>GET /notification/swap/{symbol}/trade</code></p>
<h4 id='22da1a05pfre'>Request Parameters</h4>
<blockquote>
<p>Request Example</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="err">GET</span><span class="w"> </span><span class="err">/notification/swap/BTCUSDT/trade</span><span class="w">
</span></code></pre></div>
<table><thead>
<tr>
<th>Name</th>
<th>Position</th>
<th>Type</th>
<th>Required</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>symbol</td>
<td>path</td>
<td>string</td>
<td>Yes</td>
<td>Trading Pair Name</td>
</tr>
</tbody></table>
<h4 id='a222a51etsbk'>Response Parameters</h4>
<blockquote>
<p>Response Example</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"code"</span><span class="p">:</span><span class="w"> </span><span class="mi">200</span><span class="p">,</span><span class="w">
  </span><span class="nl">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
      </span><span class="p">{</span><span class="w">
        </span><span class="nl">"direction"</span><span class="p">:</span><span class="w"> </span><span class="s2">"buy"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"price"</span><span class="p">:</span><span class="w"> </span><span class="s2">"102736.9001"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"ts"</span><span class="p">:</span><span class="w"> </span><span class="mi">1746766999793</span><span class="p">,</span><span class="w">
        </span><span class="nl">"vol"</span><span class="p">:</span><span class="w"> </span><span class="s2">"79300"</span><span class="w">
      </span><span class="p">}</span><span class="w">
    </span><span class="p">],</span><span class="w">
    </span><span class="nl">"ts"</span><span class="p">:</span><span class="w"> </span><span class="mi">1746766999982</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="nl">"msg"</span><span class="p">:</span><span class="w"> </span><span class="s2">"success"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"ts"</span><span class="p">:</span><span class="w"> </span><span class="mi">1746766999982</span><span class="p">,</span><span class="w">
  </span><span class="nl">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"swap.detail"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<table><thead>
<tr>
<th>Name</th>
<th>Type</th>
<th>Description</th>
<th>Notes</th>
</tr>
</thead><tbody>
<tr>
<td>» code</td>
<td>integer</td>
<td>Status Code</td>
<td>none</td>
</tr>
<tr>
<td>» msg</td>
<td>string</td>
<td>Description Message</td>
<td>none</td>
</tr>
<tr>
<td>» ts</td>
<td>integer</td>
<td>Timestamp in Milliseconds</td>
<td>none</td>
</tr>
<tr>
<td>» data</td>
<td>object</td>
<td>Data</td>
<td>none</td>
</tr>
<tr>
<td>»» data</td>
<td>array[object]</td>
<td>Trade Records</td>
<td>none</td>
</tr>
<tr>
<td>»»» direction</td>
<td>string</td>
<td>Trade Direction</td>
<td><code>sell</code>, <code>buy</code></td>
</tr>
<tr>
<td>»»» price</td>
<td>string</td>
<td>Trade Price</td>
<td>none</td>
</tr>
<tr>
<td>»»» ts</td>
<td>integer</td>
<td>Timestamp in Milliseconds</td>
<td>none</td>
</tr>
<tr>
<td>»»» vol</td>
<td>string</td>
<td>Trade Volume</td>
<td>none</td>
</tr>
<tr>
<td>»» ts</td>
<td>integer</td>
<td>Timestamp in Milliseconds</td>
<td>none</td>
</tr>
</tbody></table>
<h3 id='e51910935trk'>Swap Batch Trade Records</h3>
<p>Retrieve the most recent trade records for a specific contract, up to a specified number.</p>
<h4 id='652dce079m8u'>Rate Limit: 20 times/2 seconds</h4><h4 id='50278e02q4g5'>Rate Limiting Rule: IP</h4><h4 id='59ff88c8esup'>HTTP Request</h4>
<p><code>GET /notification/swap/{symbol}/trades</code></p>
<h4 id='22da1a05dzze'>Request Parameters</h4>
<blockquote>
<p>Request Example</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="err">GET</span><span class="w"> </span><span class="err">/notification/swap/BTCUSDT/trades?size=</span><span class="mi">10</span><span class="w">
</span></code></pre></div>
<table><thead>
<tr>
<th>Name</th>
<th>Position</th>
<th>Type</th>
<th>Required</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>symbol</td>
<td>path</td>
<td>string</td>
<td>Yes</td>
<td>Trading Pair Name</td>
</tr>
<tr>
<td>size</td>
<td>query</td>
<td>int</td>
<td>Yes</td>
<td>Number of Records, Maximum 2000</td>
</tr>
</tbody></table>
<h4 id='a222a51eb9ns'>Response Parameters</h4>
<blockquote>
<p>Response Example</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"code"</span><span class="p">:</span><span class="w"> </span><span class="mi">200</span><span class="p">,</span><span class="w">
  </span><span class="nl">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
      </span><span class="p">{</span><span class="w">
        </span><span class="nl">"direction"</span><span class="p">:</span><span class="w"> </span><span class="s2">"sell"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"price"</span><span class="p">:</span><span class="w"> </span><span class="s2">"102771.2"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"ts"</span><span class="p">:</span><span class="w"> </span><span class="mi">1746767096612</span><span class="p">,</span><span class="w">
        </span><span class="nl">"vol"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1"</span><span class="w">
      </span><span class="p">}</span><span class="w">
    </span><span class="p">],</span><span class="w">
    </span><span class="nl">"ts"</span><span class="p">:</span><span class="w"> </span><span class="mi">1746767097114</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="nl">"msg"</span><span class="p">:</span><span class="w"> </span><span class="s2">"success"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"ts"</span><span class="p">:</span><span class="w"> </span><span class="mi">1746767097114</span><span class="p">,</span><span class="w">
  </span><span class="nl">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"swap.detail"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<table><thead>
<tr>
<th>Name</th>
<th>Type</th>
<th>Description</th>
<th>Notes</th>
</tr>
</thead><tbody>
<tr>
<td>» code</td>
<td>integer</td>
<td>Status Code</td>
<td>none</td>
</tr>
<tr>
<td>» msg</td>
<td>string</td>
<td>Description Message</td>
<td>none</td>
</tr>
<tr>
<td>» ts</td>
<td>integer</td>
<td>Timestamp in Milliseconds</td>
<td>none</td>
</tr>
<tr>
<td>» data</td>
<td>object</td>
<td>Data</td>
<td>none</td>
</tr>
<tr>
<td>»» data</td>
<td>array[object]</td>
<td>Trade Records</td>
<td>none</td>
</tr>
<tr>
<td>»»» direction</td>
<td>string</td>
<td>Trade Direction</td>
<td><code>sell</code>, <code>buy</code></td>
</tr>
<tr>
<td>»»» price</td>
<td>string</td>
<td>Trade Price</td>
<td>none</td>
</tr>
<tr>
<td>»»» ts</td>
<td>integer</td>
<td>Timestamp in Milliseconds</td>
<td>none</td>
</tr>
<tr>
<td>»»» vol</td>
<td>string</td>
<td>Trade Volume</td>
<td>none</td>
</tr>
<tr>
<td>»» ts</td>
<td>integer</td>
<td>Timestamp in Milliseconds</td>
<td>none</td>
</tr>
</tbody></table>
<h3 id='c9531161inu8'>Swap Historical Trade Records</h3>
<p>Retrieves historical trade information in the market; paginated data for the last 3 months is supported.</p>
<h4 id='5c8dcc67nmx4'>Rate Limit: 20 requests per 2 seconds</h4><h4 id='b04be0cakzt2'>Limit Rule: IP-based</h4><h4 id='59ff88c860ke'>HTTP Request</h4>
<p><code>GET /notification/swap/{symbol}/history-trades</code></p>
<h4 id='22da1a051ly4'>Request Parameters</h4>
<blockquote>
<p>Request Example</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="err">GET</span><span class="w"> </span><span class="err">/notification/swap/BTCUSDT/history-trades?size=</span><span class="mi">10</span><span class="w">
</span></code></pre></div>
<table><thead>
<tr>
<th>Name</th>
<th>Location</th>
<th>Type</th>
<th>Required</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>symbol</td>
<td>path</td>
<td>string</td>
<td>Yes</td>
<td>Trading pair name</td>
</tr>
<tr>
<td>size</td>
<td>query</td>
<td>integer</td>
<td>No</td>
<td>Number of records (max 100). Default is 100 when omitted.</td>
</tr>
<tr>
<td>after</td>
<td>query</td>
<td>integer</td>
<td>No</td>
<td>Millisecond timestamp. Use the last record’s timestamp from the previous response to paginate backwards.</td>
</tr>
</tbody></table>
<h4 id='a222a51emqwl'>Response Parameters</h4>
<blockquote>
<p>Response Example</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"code"</span><span class="p">:</span><span class="w"> </span><span class="mi">200</span><span class="p">,</span><span class="w">
  </span><span class="nl">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="nl">"ts"</span><span class="p">:</span><span class="w"> </span><span class="mi">1752557507585</span><span class="p">,</span><span class="w">
      </span><span class="nl">"direction"</span><span class="p">:</span><span class="w"> </span><span class="s2">"buy"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"price"</span><span class="p">:</span><span class="w"> </span><span class="s2">"108640.42"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"vol"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0.0002"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">184664390001</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">],</span><span class="w">
  </span><span class="nl">"msg"</span><span class="p">:</span><span class="w"> </span><span class="s2">"success"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"ts"</span><span class="p">:</span><span class="w"> </span><span class="mi">1752725468921</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<table><thead>
<tr>
<th>Name</th>
<th>Type</th>
<th>Description</th>
<th>Notes</th>
</tr>
</thead><tbody>
<tr>
<td>» code</td>
<td>integer</td>
<td>Status code</td>
<td></td>
</tr>
<tr>
<td>» data</td>
<td>array[object]</td>
<td>Trade data</td>
<td></td>
</tr>
<tr>
<td>»» direction</td>
<td>string</td>
<td>Trade side</td>
<td><code>sell</code> or <code>buy</code></td>
</tr>
<tr>
<td>»» price</td>
<td>string</td>
<td>Trade price</td>
<td></td>
</tr>
<tr>
<td>»» ts</td>
<td>integer</td>
<td>Millisecond timestamp</td>
<td></td>
</tr>
<tr>
<td>»» vol</td>
<td>string</td>
<td>Trade volume</td>
<td></td>
</tr>
<tr>
<td>»» id</td>
<td>integer</td>
<td>Trade ID</td>
<td></td>
</tr>
<tr>
<td>» msg</td>
<td>string</td>
<td>Description</td>
<td></td>
</tr>
<tr>
<td>» ts</td>
<td>integer</td>
<td>Response timestamp</td>
<td></td>
</tr>
</tbody></table>
<h3 id='5d99e7c6lgmw'>Index Candlestick Data</h3>
<p>Retrieve index candlestick data.</p>
<h4 id='652dce07g177'>Rate Limit: 20 times/2 seconds</h4><h4 id='50278e02wszz'>Rate Limiting Rule: IP</h4><h4 id='59ff88c8zjgt'>HTTP Request</h4>
<p><code>GET /notification/swap/{symbol}/index</code></p>
<h4 id='22da1a05bu44'>Request Parameters</h4>
<blockquote>
<p>Request Example</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="err">GET</span><span class="w"> </span><span class="err">/notification/swap/BTCUSDT/index?size=</span><span class="mi">10</span><span class="err">&amp;interval=</span><span class="mi">1</span><span class="err">min</span><span class="w">
</span></code></pre></div>
<table><thead>
<tr>
<th>Name</th>
<th>Position</th>
<th>Type</th>
<th>Required</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>symbol</td>
<td>path</td>
<td>string</td>
<td>Yes</td>
<td>Trading Pair Name</td>
</tr>
<tr>
<td>interval</td>
<td>query</td>
<td>string</td>
<td>Yes</td>
<td>Candlestick Type, See Enumeration</td>
</tr>
<tr>
<td>size</td>
<td>query</td>
<td>integer</td>
<td>Yes</td>
<td>Number of Records, Maximum 2000</td>
</tr>
<tr>
<td>start</td>
<td>query</td>
<td>integer</td>
<td>Yes</td>
<td>Start Timestamp (seconds)</td>
</tr>
<tr>
<td>end</td>
<td>query</td>
<td>integer</td>
<td>Yes</td>
<td>End Timestamp (seconds)</td>
</tr>
</tbody></table>
<h4 id='a222a51e2vuw'>Response Parameters</h4>
<blockquote>
<p>Response Example</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"code"</span><span class="p">:</span><span class="w"> </span><span class="mi">200</span><span class="p">,</span><span class="w">
  </span><span class="nl">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="nl">"open"</span><span class="p">:</span><span class="w"> </span><span class="s2">"102380.8"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"close"</span><span class="p">:</span><span class="w"> </span><span class="s2">"102380.3"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"high"</span><span class="p">:</span><span class="w"> </span><span class="s2">"102380.8"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"low"</span><span class="p">:</span><span class="w"> </span><span class="s2">"102379.2"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"turn_over"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
      </span><span class="nl">"vol"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
      </span><span class="nl">"count"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">],</span><span class="w">
  </span><span class="nl">"interval"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1min"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"msg"</span><span class="p">:</span><span class="w"> </span><span class="s2">"success"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"symbol"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BTCUSDT"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"ts"</span><span class="p">:</span><span class="w"> </span><span class="mi">1746763025575</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<table><thead>
<tr>
<th>Name</th>
<th>Type</th>
<th>Description</th>
<th>Notes</th>
</tr>
</thead><tbody>
<tr>
<td>» code</td>
<td>integer</td>
<td>Status Code</td>
<td>none</td>
</tr>
<tr>
<td>» msg</td>
<td>string</td>
<td>Description Message</td>
<td>none</td>
</tr>
<tr>
<td>» symbol</td>
<td>string</td>
<td>Trading Pair Name</td>
<td>none</td>
</tr>
<tr>
<td>» interval</td>
<td>string</td>
<td>Candlestick Type</td>
<td>none</td>
</tr>
<tr>
<td>» ts</td>
<td>integer</td>
<td>Timestamp in Milliseconds</td>
<td>none</td>
</tr>
<tr>
<td>» data</td>
<td>array[object]</td>
<td>Data</td>
<td>none</td>
</tr>
<tr>
<td>»» open</td>
<td>string</td>
<td>Open Price</td>
<td>none</td>
</tr>
<tr>
<td>»» close</td>
<td>string</td>
<td>Close Price</td>
<td>none</td>
</tr>
<tr>
<td>»» high</td>
<td>string</td>
<td>High Price</td>
<td>none</td>
</tr>
<tr>
<td>»» low</td>
<td>string</td>
<td>Low Price</td>
<td>none</td>
</tr>
<tr>
<td>»» turn_over</td>
<td>string</td>
<td>Turnover</td>
<td>none</td>
</tr>
<tr>
<td>»» vol</td>
<td>string</td>
<td>Volume</td>
<td>none</td>
</tr>
<tr>
<td>»» count</td>
<td>integer</td>
<td>Trade Count</td>
<td>none</td>
</tr>
</tbody></table>
<h3 id='0cdb8dbbvep6'>Mark Price Candlestick Data</h3>
<p>Retrieve mark price candlestick data.</p>
<h4 id='652dce079e36'>Rate Limit: 20 times/2 seconds</h4><h4 id='50278e02r2t7'>Rate Limiting Rule: IP</h4><h4 id='59ff88c8yg52'>HTTP Request</h4>
<p><code>GET /notification/swap/{symbol}/tag</code></p>
<h4 id='22da1a05c67l'>Request Parameters</h4>
<blockquote>
<p>Request Example</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="err">GET</span><span class="w"> </span><span class="err">/notification/swap/BTCUSDT/tag?size=</span><span class="mi">10</span><span class="err">&amp;interval=</span><span class="mi">1</span><span class="err">min</span><span class="w">
</span></code></pre></div>
<table><thead>
<tr>
<th>Name</th>
<th>Position</th>
<th>Type</th>
<th>Required</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>symbol</td>
<td>path</td>
<td>string</td>
<td>Yes</td>
<td>Trading Pair Name</td>
</tr>
<tr>
<td>interval</td>
<td>query</td>
<td>string</td>
<td>Yes</td>
<td>Candlestick Type, See Enumeration</td>
</tr>
<tr>
<td>size</td>
<td>query</td>
<td>integer</td>
<td>Yes</td>
<td>Number of Records, Maximum 2000</td>
</tr>
<tr>
<td>start</td>
<td>query</td>
<td>integer</td>
<td>Yes</td>
<td>Start Timestamp (seconds)</td>
</tr>
<tr>
<td>end</td>
<td>query</td>
<td>integer</td>
<td>Yes</td>
<td>End Timestamp (seconds)</td>
</tr>
</tbody></table>
<h4 id='a222a51euil3'>Response Parameters</h4>
<blockquote>
<p>Response Example</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"code"</span><span class="p">:</span><span class="w"> </span><span class="mi">200</span><span class="p">,</span><span class="w">
  </span><span class="nl">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="nl">"open"</span><span class="p">:</span><span class="w"> </span><span class="s2">"102380.8"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"close"</span><span class="p">:</span><span class="w"> </span><span class="s2">"102380.3"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"high"</span><span class="p">:</span><span class="w"> </span><span class="s2">"102380.8"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"low"</span><span class="p">:</span><span class="w"> </span><span class="s2">"102379.2"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"turn_over"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
      </span><span class="nl">"vol"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
      </span><span class="nl">"count"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">],</span><span class="w">
  </span><span class="nl">"interval"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1min"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"msg"</span><span class="p">:</span><span class="w"> </span><span class="s2">"success"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"symbol"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BTCUSDT"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"ts"</span><span class="p">:</span><span class="w"> </span><span class="mi">1746763025575</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<table><thead>
<tr>
<th>Name</th>
<th>Type</th>
<th>Description</th>
<th>Notes</th>
</tr>
</thead><tbody>
<tr>
<td>» code</td>
<td>integer</td>
<td>Status Code</td>
<td>none</td>
</tr>
<tr>
<td>» msg</td>
<td>string</td>
<td>Description Message</td>
<td>none</td>
</tr>
<tr>
<td>» symbol</td>
<td>string</td>
<td>Trading Pair Name</td>
<td>none</td>
</tr>
<tr>
<td>» interval</td>
<td>string</td>
<td>Candlestick Type</td>
<td>none</td>
</tr>
<tr>
<td>» ts</td>
<td>integer</td>
<td>Timestamp in Milliseconds</td>
<td>none</td>
</tr>
<tr>
<td>» data</td>
<td>array[object]</td>
<td>Data</td>
<td>none</td>
</tr>
<tr>
<td>»» open</td>
<td>string</td>
<td>Open Price</td>
<td>none</td>
</tr>
<tr>
<td>»» close</td>
<td>string</td>
<td>Close Price</td>
<td>none</td>
</tr>
<tr>
<td>»» high</td>
<td>string</td>
<td>High Price</td>
<td>none</td>
</tr>
<tr>
<td>»» low</td>
<td>string</td>
<td>Low Price</td>
<td>none</td>
</tr>
<tr>
<td>»» turn_over</td>
<td>string</td>
<td>Turnover</td>
<td>none</td>
</tr>
<tr>
<td>»» vol</td>
<td>string</td>
<td>Volume</td>
<td>none</td>
</tr>
<tr>
<td>»» count</td>
<td>integer</td>
<td>Trade Count</td>
<td>none</td>
</tr>
</tbody></table>
<h2 id='be5c56474e4b'>Public Data</h2>
<p>The API interfaces under the <code>Public Data</code> feature module do not require authentication.</p>
<h3 id='c5272bee5ifa'>Get Server Time</h3><h4 id='2f2cdc08foc0'>Rate Limit: 10 times/second</h4><h4 id='59ff88c8y16l'>HTTP Request</h4>
<p><code>GET /v2/time</code></p>
<h4 id='a222a51e2s1n'>Response Parameters</h4>
<blockquote>
<p>Response Example</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"code"</span><span class="p">:</span><span class="w"> </span><span class="mi">200</span><span class="p">,</span><span class="w">
  </span><span class="nl">"msg"</span><span class="p">:</span><span class="w"> </span><span class="s2">"success"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"server_time"</span><span class="p">:</span><span class="w"> </span><span class="mi">1746498430903</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<table><thead>
<tr>
<th>Name</th>
<th>Type</th>
<th>Description</th>
<th>Notes</th>
</tr>
</thead><tbody>
<tr>
<td>» code</td>
<td>integer</td>
<td>Status Code</td>
<td>none</td>
</tr>
<tr>
<td>» msg</td>
<td>string</td>
<td>Description Message</td>
<td>none</td>
</tr>
<tr>
<td>» data</td>
<td>object</td>
<td>Data</td>
<td>none</td>
</tr>
<tr>
<td>»» server_time</td>
<td>integer</td>
<td>Server Time (ms)</td>
<td>none</td>
</tr>
</tbody></table>
<h3 id='11817f3fu8l2'>Get Coin List</h3><h4 id='2f2cdc08yvw9'>Rate Limit: 10 times/second</h4><h4 id='59ff88c8nvzk'>HTTP Request</h4>
<p><code>GET /v2/coins</code></p>
<h4 id='a222a51evtgi'>Response Parameters</h4>
<blockquote>
<p>Response Example</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"code"</span><span class="p">:</span><span class="w"> </span><span class="mi">200</span><span class="p">,</span><span class="w">
  </span><span class="nl">"msg"</span><span class="p">:</span><span class="w"> </span><span class="s2">"success"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="nl">"coin_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BTC"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"icon"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://uzx-icon.oss-cn-hongkong.aliyuncs.com/coin/BTC.png"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"decimal"</span><span class="p">:</span><span class="w"> </span><span class="mi">8</span><span class="p">,</span><span class="w">
      </span><span class="nl">"can_deposit"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
      </span><span class="nl">"can_withdrawal"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<table><thead>
<tr>
<th>Name</th>
<th>Type</th>
<th>Description</th>
<th>Notes</th>
</tr>
</thead><tbody>
<tr>
<td>» code</td>
<td>integer</td>
<td>Status Code</td>
<td>none</td>
</tr>
<tr>
<td>» msg</td>
<td>string</td>
<td>Description Message</td>
<td>none</td>
</tr>
<tr>
<td>» data</td>
<td>array[object]</td>
<td>Data</td>
<td>none</td>
</tr>
<tr>
<td>»» coin_name</td>
<td>string</td>
<td>Coin Name</td>
<td>none</td>
</tr>
<tr>
<td>»» icon</td>
<td>string</td>
<td>Icon URL</td>
<td>none</td>
</tr>
<tr>
<td>»» decimal</td>
<td>integer</td>
<td>Decimal Precision</td>
<td>none</td>
</tr>
<tr>
<td>»» can_deposit</td>
<td>boolean</td>
<td>Deposit Enabled</td>
<td>none</td>
</tr>
<tr>
<td>»» can_withdrawal</td>
<td>boolean</td>
<td>Withdrawal Enabled</td>
<td>none</td>
</tr>
</tbody></table>
<h3 id='47596ed3a8th'>Get Product List</h3><h4 id='2f2cdc08vc9o'>Rate Limit: 10 times/second</h4><h4 id='59ff88c8kopl'>HTTP Request</h4>
<p><code>GET /v2/products</code></p>
<h4 id='22da1a05yi1r'>Request Parameters</h4>
<table><thead>
<tr>
<th>Name</th>
<th>Position</th>
<th>Type</th>
<th>Required</th>
<th>Description</th>
<th>Notes</th>
</tr>
</thead><tbody>
<tr>
<td>ins_type</td>
<td>query</td>
<td>string</td>
<td>No</td>
<td>Instrument Type</td>
<td><code>SPOT</code> - Spot, <code>SWAP</code> - USDt-denominated, <code>BASE</code> - Coin-denominated</td>
</tr>
<tr>
<td>product_name</td>
<td>query</td>
<td>string</td>
<td>No</td>
<td>Product Name</td>
<td>None</td>
</tr>
</tbody></table>
<h4 id='a222a51evlra'>Response Parameters</h4>
<blockquote>
<p>Response Example</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"code"</span><span class="p">:</span><span class="w"> </span><span class="mi">200</span><span class="p">,</span><span class="w">
  </span><span class="nl">"msg"</span><span class="p">:</span><span class="w"> </span><span class="s2">"success"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="nl">"ins_type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"SWAP"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"product_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BTCUSDT"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"base_coin_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BTC"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"quote_coin_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"USDT"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"price_precision"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
      </span><span class="nl">"num_precision"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
      </span><span class="nl">"max_once_vol"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"max_once_amount"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"min_once_vol"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"min_once_amount"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"swap_value"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0.0001"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"price_unit"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0.1"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"max_leverage"</span><span class="p">:</span><span class="w"> </span><span class="mi">125</span><span class="p">,</span><span class="w">
      </span><span class="nl">"max_once_limit_num"</span><span class="p">:</span><span class="w"> </span><span class="mi">100000001</span><span class="p">,</span><span class="w">
      </span><span class="nl">"max_once_market_num"</span><span class="p">:</span><span class="w"> </span><span class="mi">100000000</span><span class="p">,</span><span class="w">
      </span><span class="nl">"max_hold_num"</span><span class="p">:</span><span class="w"> </span><span class="mi">100000000</span><span class="p">,</span><span class="w">
      </span><span class="nl">"maintenance_margin_rate"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0.001"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"market_max_deeps"</span><span class="p">:</span><span class="w"> </span><span class="mi">5</span><span class="p">,</span><span class="w">
      </span><span class="nl">"max_book_num"</span><span class="p">:</span><span class="w"> </span><span class="mi">500</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<table><thead>
<tr>
<th>Name</th>
<th>Type</th>
<th>Description</th>
<th>Notes</th>
</tr>
</thead><tbody>
<tr>
<td>» code</td>
<td>integer</td>
<td>Status Code</td>
<td>none</td>
</tr>
<tr>
<td>» msg</td>
<td>string</td>
<td>Description Message</td>
<td>none</td>
</tr>
<tr>
<td>» data</td>
<td>array[object]</td>
<td>Data</td>
<td>none</td>
</tr>
<tr>
<td>»» ins_type</td>
<td>string</td>
<td>Instrument Type</td>
<td>none</td>
</tr>
<tr>
<td>»» product_name</td>
<td>string</td>
<td>Product Name</td>
<td>none</td>
</tr>
<tr>
<td>»» base_coin_name</td>
<td>string</td>
<td>Base Coin Name</td>
<td>none</td>
</tr>
<tr>
<td>»» quote_coin_name</td>
<td>string</td>
<td>Quote Coin Name</td>
<td>none</td>
</tr>
<tr>
<td>»» price_precision</td>
<td>integer</td>
<td>Price Precision</td>
<td>Applicable for spot trading</td>
</tr>
<tr>
<td>»» num_precision</td>
<td>integer</td>
<td>Quantity Precision</td>
<td>Applicable for spot trading</td>
</tr>
<tr>
<td>»» max_once_vol</td>
<td>string</td>
<td>Maximum Single Trade Volume</td>
<td>Applicable for spot trading</td>
</tr>
<tr>
<td>»» max_once_amount</td>
<td>string</td>
<td>Maximum Single Trade Amount</td>
<td>Applicable for spot trading</td>
</tr>
<tr>
<td>»» min_once_vol</td>
<td>string</td>
<td>Minimum Single Trade Volume</td>
<td>Applicable for spot trading</td>
</tr>
<tr>
<td>»» min_once_amount</td>
<td>string</td>
<td>Minimum Single Trade Amount</td>
<td>Applicable for spot trading</td>
</tr>
<tr>
<td>»» swap_value</td>
<td>string</td>
<td>Contract Notional Value</td>
<td>Applicable for contract trading (U-based, Coin-based)</td>
</tr>
<tr>
<td>»» price_unit</td>
<td>string</td>
<td>Contract Price Increment</td>
<td>Applicable for contract trading (U-based, Coin-based)</td>
</tr>
<tr>
<td>»» max_leverage</td>
<td>integer</td>
<td>Maximum Leverage</td>
<td>Applicable for contract trading (U-based, Coin-based)</td>
</tr>
<tr>
<td>»» max_once_limit_num</td>
<td>integer</td>
<td>Maximum Limit Order Quantity per Trade</td>
<td>Applicable for contract trading (U-based, Coin-based)</td>
</tr>
<tr>
<td>»» max_once_market_num</td>
<td>integer</td>
<td>Maximum Market Order Quantity per Trade</td>
<td>Applicable for contract trading (U-based, Coin-based)</td>
</tr>
<tr>
<td>»» max_hold_num</td>
<td>integer</td>
<td>Maximum Position Quantity</td>
<td>Applicable for contract trading (U-based, Coin-based)</td>
</tr>
<tr>
<td>»» maintenance_margin_rate</td>
<td>string</td>
<td>Maintenance Margin Rate</td>
<td>Applicable for contract trading (U-based, Coin-based)</td>
</tr>
<tr>
<td>»» market_max_deeps</td>
<td>integer</td>
<td>Maximum Market Depth</td>
<td>none</td>
</tr>
<tr>
<td>»» max_book_num</td>
<td>integer</td>
<td>Maximum Open Orders</td>
<td>none</td>
</tr>
</tbody></table>
<h1 id='02a11319dmmf'>WebSocket API</h1><h2 id='0efc2e6btbi4'>Overview</h2>
<p>WebSocket is a new protocol introduced in HTML5. It enables full-duplex communication between the client and the server, allowing data to be transmitted bidirectionally in real-time. A simple handshake establishes the connection between the client and the server, and the server can proactively push information to the client based on business rules. Its advantages include:</p>

<ul>
<li>When transmitting data between the client and the server, the request header information is minimal, approximately 2 bytes.</li>
<li>Both the client and the server can proactively send data to each other.</li>
<li>There is no need to repeatedly create and destroy TCP connections, which saves bandwidth and server resources.</li>
</ul>

<aside class="notice">It is strongly recommended that developers use the WebSocket API to obtain market data and order book information.</aside>
<h2 id='6512ee153unh'>Connection</h2><h4 id='0a308fe1dqfl'>Connection Description:</h4><h4 id='f8c5c1a653oa'>Connection Limit: 1 time/second</h4>
<p>When subscribing to public channels, use the public service address; when subscribing to private channels, use the private service address.</p>
<h4 id='a3a00d0bjf3q'>Subscription Limit: 240 times/hour</h4>
<aside class="notice">If a network issue occurs, the system will automatically disconnect the connection.<br/>

If no subscription is made within 30 seconds after a successful connection, or if the server does not push data to the user within 30 seconds after subscription, the system will automatically disconnect the connection.<br/>

To maintain a valid and stable connection, it is recommended that you perform the following actions:<br/>

1. The server will periodically (every 5 seconds) send a `ping` message to the client, eg. `{"ping": 1751273700330}`.<br>
2 .Upon receiving a `ping` message, the client must respond within 5 seconds with a `pong` message containing the same timestamp, eg. `{"pong": 1751273700330}`.<br>
3. If the server does not receive a `pong` response for four consecutive `ping` messages, the connection will be terminated by the system.<br>

</aside>
<h3 id='8fde48f3qk87'>Subscription</h3>
<p>Subscribe to the BTC-USDT spot candlestick chart.</p>
<h4 id='22da1a05g4xw'>Request Parameters</h4>
<blockquote>
<p>Request Example</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"event"</span><span class="p">:</span><span class="w"> </span><span class="s2">"sub"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"params"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"biz"</span><span class="p">:</span><span class="w"> </span><span class="s2">"makert"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"spot.candles"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"symbol"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BTC-USDT"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"interval"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1min"</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="nl">"zip"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div><div class="highlight"><pre class="highlight python tab-python"><code><span class="kn">import</span> <span class="nn">asyncio</span>
<span class="kn">import</span> <span class="nn">json</span>
<span class="kn">import</span> <span class="nn">websockets</span>

<span class="k">async</span> <span class="k">def</span> <span class="nf">handle_websocket</span><span class="p">():</span>
    <span class="k">async</span> <span class="k">with</span> <span class="n">websockets</span><span class="p">.</span><span class="n">connect</span><span class="p">(</span><span class="s">"wss://stream.uzx.com/notification/ws"</span><span class="p">)</span> <span class="k">as</span> <span class="n">ws</span><span class="p">:</span>
        <span class="k">await</span> <span class="n">ws</span><span class="p">.</span><span class="n">send</span><span class="p">(</span><span class="n">json</span><span class="p">.</span><span class="n">dumps</span><span class="p">({</span>
            <span class="s">"event"</span><span class="p">:</span> <span class="s">"sub"</span><span class="p">,</span>
            <span class="s">"params"</span><span class="p">:</span> <span class="p">{</span>
                <span class="s">"biz"</span><span class="p">:</span> <span class="s">"market"</span><span class="p">,</span>
                <span class="s">"type"</span><span class="p">:</span> <span class="s">"spot.candles"</span><span class="p">,</span>
                <span class="s">"symbol"</span><span class="p">:</span> <span class="s">"BTC-USDT"</span><span class="p">,</span>
                <span class="s">"interval"</span><span class="p">:</span> <span class="s">"1min"</span>
            <span class="p">},</span>
            <span class="s">"zip"</span><span class="p">:</span> <span class="bp">False</span>
        <span class="p">}))</span>

        <span class="k">while</span> <span class="bp">True</span><span class="p">:</span>
            <span class="n">msg</span> <span class="o">=</span> <span class="k">await</span> <span class="n">ws</span><span class="p">.</span><span class="n">recv</span><span class="p">()</span>
            <span class="n">data</span> <span class="o">=</span> <span class="n">json</span><span class="p">.</span><span class="n">loads</span><span class="p">(</span><span class="n">msg</span><span class="p">)</span>
            <span class="k">if</span> <span class="s">"ping"</span> <span class="ow">in</span> <span class="n">data</span><span class="p">:</span>
                <span class="k">await</span> <span class="n">ws</span><span class="p">.</span><span class="n">send</span><span class="p">(</span><span class="n">json</span><span class="p">.</span><span class="n">dumps</span><span class="p">({</span><span class="s">"pong"</span><span class="p">:</span> <span class="n">data</span><span class="p">[</span><span class="s">"ping"</span><span class="p">]}))</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="k">print</span><span class="p">(</span><span class="n">json</span><span class="p">.</span><span class="n">dumps</span><span class="p">(</span><span class="n">data</span><span class="p">,</span> <span class="n">indent</span><span class="o">=</span><span class="mi">2</span><span class="p">))</span>

<span class="n">asyncio</span><span class="p">.</span><span class="n">run</span><span class="p">(</span><span class="n">handle_websocket</span><span class="p">())</span>
</code></pre></div><div class="highlight"><pre class="highlight go tab-go"><code><span class="k">package</span> <span class="n">main</span>

<span class="k">import</span> <span class="p">(</span>
    <span class="s">"encoding/json"</span>
    <span class="s">"fmt"</span>
    <span class="s">"github.com/gorilla/websocket"</span>
    <span class="s">"log"</span>
    <span class="s">"net"</span>
    <span class="s">"net/http"</span>
    <span class="s">"time"</span>
<span class="p">)</span>

<span class="k">func</span> <span class="n">main</span><span class="p">()</span> <span class="p">{</span>
    <span class="n">url</span> <span class="o">:=</span> <span class="s">"wss://stream.uzx.com/notification/ws"</span>

    <span class="c">// Custom dialer configuration</span>
    <span class="n">dialer</span> <span class="o">:=</span> <span class="o">&amp;</span><span class="n">websocket</span><span class="o">.</span><span class="n">Dialer</span><span class="p">{</span>
        <span class="n">Proxy</span><span class="o">:</span> <span class="n">http</span><span class="o">.</span><span class="n">ProxyFromEnvironment</span><span class="p">,</span>
        <span class="n">NetDial</span><span class="o">:</span> <span class="k">func</span><span class="p">(</span><span class="n">network</span><span class="p">,</span> <span class="n">addr</span> <span class="kt">string</span><span class="p">)</span> <span class="p">(</span><span class="n">net</span><span class="o">.</span><span class="n">Conn</span><span class="p">,</span> <span class="kt">error</span><span class="p">)</span> <span class="p">{</span>
            <span class="c">// Force use of IPv4</span>
            <span class="k">return</span> <span class="n">net</span><span class="o">.</span><span class="n">Dial</span><span class="p">(</span><span class="s">"tcp4"</span><span class="p">,</span> <span class="n">addr</span><span class="p">)</span>
        <span class="p">},</span>
        <span class="n">HandshakeTimeout</span><span class="o">:</span> <span class="m">10</span> <span class="o">*</span> <span class="n">time</span><span class="o">.</span><span class="n">Second</span><span class="p">,</span>
    <span class="p">}</span>

    <span class="c">// Establish WebSocket connection</span>
    <span class="n">c</span><span class="p">,</span> <span class="n">_</span><span class="p">,</span> <span class="n">err</span> <span class="o">:=</span> <span class="n">dialer</span><span class="o">.</span><span class="n">Dial</span><span class="p">(</span><span class="n">url</span><span class="p">,</span> <span class="no">nil</span><span class="p">)</span>
    <span class="k">if</span> <span class="n">err</span> <span class="o">!=</span> <span class="no">nil</span> <span class="p">{</span>
        <span class="n">log</span><span class="o">.</span><span class="n">Fatal</span><span class="p">(</span><span class="s">"Connection failed:"</span><span class="p">,</span> <span class="n">err</span><span class="p">)</span>
    <span class="p">}</span>
    <span class="k">defer</span> <span class="n">c</span><span class="o">.</span><span class="n">Close</span><span class="p">()</span>

    <span class="c">// Subscribe to messages</span>
    <span class="n">subMsg</span> <span class="o">:=</span> <span class="k">map</span><span class="p">[</span><span class="kt">string</span><span class="p">]</span><span class="k">interface</span><span class="p">{}{</span>
        <span class="s">"event"</span><span class="o">:</span> <span class="s">"sub"</span><span class="p">,</span>
        <span class="s">"params"</span><span class="o">:</span> <span class="k">map</span><span class="p">[</span><span class="kt">string</span><span class="p">]</span><span class="k">interface</span><span class="p">{}{</span>
            <span class="s">"biz"</span><span class="o">:</span>      <span class="s">"market"</span><span class="p">,</span>
            <span class="s">"type"</span><span class="o">:</span>     <span class="s">"spot.candles"</span><span class="p">,</span>
            <span class="s">"symbol"</span><span class="o">:</span>   <span class="s">"BTC-USDT"</span><span class="p">,</span>
            <span class="s">"interval"</span><span class="o">:</span> <span class="s">"1min"</span><span class="p">,</span>
        <span class="p">},</span>
        <span class="s">"zip"</span><span class="o">:</span> <span class="no">false</span><span class="p">,</span>
    <span class="p">}</span>
    <span class="n">err</span> <span class="o">=</span> <span class="n">c</span><span class="o">.</span><span class="n">WriteJSON</span><span class="p">(</span><span class="n">subMsg</span><span class="p">)</span>
    <span class="k">if</span> <span class="n">err</span> <span class="o">!=</span> <span class="no">nil</span> <span class="p">{</span>
        <span class="n">log</span><span class="o">.</span><span class="n">Fatal</span><span class="p">(</span><span class="s">"Failed to send subscription:"</span><span class="p">,</span> <span class="n">err</span><span class="p">)</span>
    <span class="p">}</span>
    <span class="n">fmt</span><span class="o">.</span><span class="n">Println</span><span class="p">(</span><span class="s">"Subscription request sent:"</span><span class="p">,</span> <span class="n">subMsg</span><span class="p">)</span>

    <span class="c">// Handle messages</span>
    <span class="k">for</span> <span class="p">{</span>
        <span class="n">_</span><span class="p">,</span> <span class="n">message</span><span class="p">,</span> <span class="n">err</span> <span class="o">:=</span> <span class="n">c</span><span class="o">.</span><span class="n">ReadMessage</span><span class="p">()</span>
        <span class="k">if</span> <span class="n">err</span> <span class="o">!=</span> <span class="no">nil</span> <span class="p">{</span>
            <span class="n">log</span><span class="o">.</span><span class="n">Println</span><span class="p">(</span><span class="s">"Error reading message:"</span><span class="p">,</span> <span class="n">err</span><span class="p">)</span>
            <span class="k">return</span>
        <span class="p">}</span>

        <span class="k">var</span> <span class="n">data</span> <span class="k">map</span><span class="p">[</span><span class="kt">string</span><span class="p">]</span><span class="k">interface</span><span class="p">{}</span>
        <span class="k">if</span> <span class="n">err</span> <span class="o">:=</span> <span class="n">json</span><span class="o">.</span><span class="n">Unmarshal</span><span class="p">(</span><span class="n">message</span><span class="p">,</span> <span class="o">&amp;</span><span class="n">data</span><span class="p">);</span> <span class="n">err</span> <span class="o">!=</span> <span class="no">nil</span> <span class="p">{</span>
            <span class="n">log</span><span class="o">.</span><span class="n">Println</span><span class="p">(</span><span class="s">"Failed to parse JSON:"</span><span class="p">,</span> <span class="n">err</span><span class="p">)</span>
            <span class="k">continue</span>
        <span class="p">}</span>

        <span class="c">// Handle ping message</span>
        <span class="k">if</span> <span class="n">ping</span><span class="p">,</span> <span class="n">ok</span> <span class="o">:=</span> <span class="n">data</span><span class="p">[</span><span class="s">"ping"</span><span class="p">]</span><span class="o">.</span><span class="p">(</span><span class="kt">float64</span><span class="p">);</span> <span class="n">ok</span> <span class="p">{</span>
            <span class="n">pong</span> <span class="o">:=</span> <span class="k">map</span><span class="p">[</span><span class="kt">string</span><span class="p">]</span><span class="k">interface</span><span class="p">{}{</span><span class="s">"pong"</span><span class="o">:</span> <span class="n">ping</span><span class="p">}</span>
            <span class="k">if</span> <span class="n">err</span> <span class="o">:=</span> <span class="n">c</span><span class="o">.</span><span class="n">WriteJSON</span><span class="p">(</span><span class="n">pong</span><span class="p">);</span> <span class="n">err</span> <span class="o">!=</span> <span class="no">nil</span> <span class="p">{</span>
                <span class="n">log</span><span class="o">.</span><span class="n">Println</span><span class="p">(</span><span class="s">"Failed to send pong:"</span><span class="p">,</span> <span class="n">err</span><span class="p">)</span>
                <span class="k">return</span>
            <span class="p">}</span>
            <span class="n">fmt</span><span class="o">.</span><span class="n">Println</span><span class="p">(</span><span class="s">"Pong response sent"</span><span class="p">)</span>
            <span class="k">continue</span>
        <span class="p">}</span>

        <span class="c">// Print other messages</span>
        <span class="n">pretty</span><span class="p">,</span> <span class="n">_</span> <span class="o">:=</span> <span class="n">json</span><span class="o">.</span><span class="n">MarshalIndent</span><span class="p">(</span><span class="n">data</span><span class="p">,</span> <span class="s">""</span><span class="p">,</span> <span class="s">"  "</span><span class="p">)</span>
        <span class="n">fmt</span><span class="o">.</span><span class="n">Printf</span><span class="p">(</span><span class="s">"</span><span class="se">\n</span><span class="s">Received message:</span><span class="se">\n</span><span class="s">%s</span><span class="se">\n</span><span class="s">"</span><span class="p">,</span> <span class="n">pretty</span><span class="p">)</span>
    <span class="p">}</span>
<span class="p">}</span>
</code></pre></div><div class="highlight"><pre class="highlight java tab-java"><code><span class="kn">import</span> <span class="nn">java.io.IOException</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">java.net.URI</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">java.net.http.HttpClient</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">java.net.http.WebSocket</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">java.nio.ByteBuffer</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">java.util.concurrent.CompletionStage</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">java.util.concurrent.CountDownLatch</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">java.util.concurrent.TimeUnit</span><span class="o">;</span>

<span class="kd">public</span> <span class="kd">class</span> <span class="nc">WebSocketClient</span> <span class="o">{</span>
    <span class="kd">private</span> <span class="kd">static</span> <span class="nc">CountDownLatch</span> <span class="n">latch</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">CountDownLatch</span><span class="o">(</span><span class="mi">1</span><span class="o">);</span>

    <span class="kd">public</span> <span class="kd">static</span> <span class="kt">void</span> <span class="nf">main</span><span class="o">(</span><span class="nc">String</span><span class="o">[]</span> <span class="n">args</span><span class="o">)</span> <span class="o">{</span>
        <span class="nc">HttpClient</span> <span class="n">client</span> <span class="o">=</span> <span class="nc">HttpClient</span><span class="o">.</span><span class="na">newHttpClient</span><span class="o">();</span>
        <span class="nc">String</span> <span class="n">uri</span> <span class="o">=</span> <span class="s">"wss://stream.uzx.com/notification/ws"</span><span class="o">;</span>

        <span class="nc">WebSocket</span> <span class="n">webSocket</span> <span class="o">=</span> <span class="n">client</span><span class="o">.</span><span class="na">newWebSocketBuilder</span><span class="o">()</span>
               <span class="o">.</span><span class="na">buildAsync</span><span class="o">(</span><span class="no">URI</span><span class="o">.</span><span class="na">create</span><span class="o">(</span><span class="n">uri</span><span class="o">),</span> <span class="k">new</span> <span class="nc">WebSocket</span><span class="o">.</span><span class="na">Listener</span><span class="o">()</span> <span class="o">{</span>
                    <span class="nd">@Override</span>
                    <span class="kd">public</span> <span class="kt">void</span> <span class="nf">onOpen</span><span class="o">(</span><span class="nc">WebSocket</span> <span class="n">webSocket</span><span class="o">)</span> <span class="o">{</span>
                        <span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">"Connection established"</span><span class="o">);</span>
                        <span class="c1">// Send subscription message</span>
                        <span class="nc">String</span> <span class="n">subscribeMsg</span> <span class="o">=</span> <span class="s">"{\"event\":\"sub\",\"params\":{\"biz\":\"market\",\"type\":\"spot.candles\",\"symbol\":\"BTC-USDT\",\"interval\":\"1min\"},\"zip\":false}"</span><span class="o">;</span>
                        <span class="n">webSocket</span><span class="o">.</span><span class="na">sendText</span><span class="o">(</span><span class="n">subscribeMsg</span><span class="o">,</span> <span class="kc">true</span><span class="o">);</span>
                        <span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">"Subscription request sent: "</span> <span class="o">+</span> <span class="n">subscribeMsg</span><span class="o">);</span>
                        <span class="nc">WebSocket</span><span class="o">.</span><span class="na">Listener</span><span class="o">.</span><span class="na">super</span><span class="o">.</span><span class="na">onOpen</span><span class="o">(</span><span class="n">webSocket</span><span class="o">);</span>
                    <span class="o">}</span>

                    <span class="nd">@Override</span>
                    <span class="kd">public</span> <span class="nc">CompletionStage</span><span class="o">&lt;?&gt;</span> <span class="n">onText</span><span class="o">(</span><span class="nc">WebSocket</span> <span class="n">webSocket</span><span class="o">,</span> <span class="nc">CharSequence</span> <span class="n">data</span><span class="o">,</span> <span class="kt">boolean</span> <span class="n">last</span><span class="o">)</span> <span class="o">{</span>
                        <span class="nc">String</span> <span class="n">message</span> <span class="o">=</span> <span class="n">data</span><span class="o">.</span><span class="na">toString</span><span class="o">();</span>
                        <span class="k">try</span> <span class="o">{</span>
                            <span class="c1">// Handle ping message</span>
                            <span class="k">if</span> <span class="o">(</span><span class="n">message</span><span class="o">.</span><span class="na">contains</span><span class="o">(</span><span class="s">"\"ping\""</span><span class="o">))</span> <span class="o">{</span>
                                <span class="nc">String</span> <span class="n">pongMsg</span> <span class="o">=</span> <span class="n">message</span><span class="o">.</span><span class="na">replace</span><span class="o">(</span><span class="s">"\"ping\""</span><span class="o">,</span> <span class="s">"\"pong\""</span><span class="o">);</span>
                                <span class="n">webSocket</span><span class="o">.</span><span class="na">sendText</span><span class="o">(</span><span class="n">pongMsg</span><span class="o">,</span> <span class="kc">true</span><span class="o">);</span>
                                <span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">"Pong response sent"</span><span class="o">);</span>
                            <span class="o">}</span> <span class="k">else</span> <span class="o">{</span>
                                <span class="c1">// Print other messages</span>
                                <span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">"\nReceived message:"</span><span class="o">);</span>
                                <span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="n">message</span><span class="o">);</span>
                            <span class="o">}</span>
                        <span class="o">}</span> <span class="k">catch</span> <span class="o">(</span><span class="nc">Exception</span> <span class="n">e</span><span class="o">)</span> <span class="o">{</span>
                            <span class="n">e</span><span class="o">.</span><span class="na">printStackTrace</span><span class="o">();</span>
                        <span class="o">}</span>
                        <span class="k">return</span> <span class="nc">WebSocket</span><span class="o">.</span><span class="na">Listener</span><span class="o">.</span><span class="na">super</span><span class="o">.</span><span class="na">onText</span><span class="o">(</span><span class="n">webSocket</span><span class="o">,</span> <span class="n">data</span><span class="o">,</span> <span class="n">last</span><span class="o">);</span>
                    <span class="o">}</span>

                    <span class="nd">@Override</span>
                    <span class="kd">public</span> <span class="nc">CompletionStage</span><span class="o">&lt;?&gt;</span> <span class="n">onClose</span><span class="o">(</span><span class="nc">WebSocket</span> <span class="n">webSocket</span><span class="o">,</span> <span class="kt">int</span> <span class="n">statusCode</span><span class="o">,</span> <span class="nc">String</span> <span class="n">reason</span><span class="o">)</span> <span class="o">{</span>
                        <span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">"Connection closed: status code "</span> <span class="o">+</span> <span class="n">statusCode</span> <span class="o">+</span> <span class="s">", reason: "</span> <span class="o">+</span> <span class="n">reason</span><span class="o">);</span>
                        <span class="n">latch</span><span class="o">.</span><span class="na">countDown</span><span class="o">();</span>
                        <span class="k">return</span> <span class="nc">WebSocket</span><span class="o">.</span><span class="na">Listener</span><span class="o">.</span><span class="na">super</span><span class="o">.</span><span class="na">onClose</span><span class="o">(</span><span class="n">webSocket</span><span class="o">,</span> <span class="n">statusCode</span><span class="o">,</span> <span class="n">reason</span><span class="o">);</span>
                    <span class="o">}</span>

                    <span class="nd">@Override</span>
                    <span class="kd">public</span> <span class="kt">void</span> <span class="nf">onError</span><span class="o">(</span><span class="nc">WebSocket</span> <span class="n">webSocket</span><span class="o">,</span> <span class="nc">Throwable</span> <span class="n">error</span><span class="o">)</span> <span class="o">{</span>
                        <span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">"Error occurred:"</span><span class="o">);</span>
                        <span class="n">error</span><span class="o">.</span><span class="na">printStackTrace</span><span class="o">();</span>
                        <span class="n">latch</span><span class="o">.</span><span class="na">countDown</span><span class="o">();</span>
                    <span class="o">}</span>
                <span class="o">}).</span><span class="na">join</span><span class="o">();</span>

        <span class="k">try</span> <span class="o">{</span>
            <span class="c1">// Keep the connection alive</span>
            <span class="n">latch</span><span class="o">.</span><span class="na">await</span><span class="o">(</span><span class="mi">1</span><span class="o">,</span> <span class="nc">TimeUnit</span><span class="o">.</span><span class="na">HOURS</span><span class="o">);</span>
        <span class="o">}</span> <span class="k">catch</span> <span class="o">(</span><span class="nc">InterruptedException</span> <span class="n">e</span><span class="o">)</span> <span class="o">{</span>
            <span class="n">e</span><span class="o">.</span><span class="na">printStackTrace</span><span class="o">();</span>
            <span class="nc">Thread</span><span class="o">.</span><span class="na">currentThread</span><span class="o">().</span><span class="na">interrupt</span><span class="o">();</span>
        <span class="o">}</span>
    <span class="o">}</span>
<span class="o">}</span>
</code></pre></div>
<table><thead>
<tr>
<th>Parameter Name</th>
<th>Required</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>event</td>
<td>Yes</td>
<td>string</td>
<td>Operation <code>sub</code></td>
</tr>
<tr>
<td>params</td>
<td>Yes</td>
<td>object</td>
<td>Subscription parameter information</td>
</tr>
<tr>
<td>&gt;symbol</td>
<td>Yes</td>
<td>string</td>
<td>Product Name (currency pair)</td>
</tr>
<tr>
<td>&gt;biz</td>
<td>Yes</td>
<td>string</td>
<td>Type, <code>market</code></td>
</tr>
<tr>
<td>&gt;type</td>
<td>Yes</td>
<td>string</td>
<td>Channel name</td>
</tr>
<tr>
<td>&gt;interval</td>
<td>No</td>
<td>string</td>
<td>Period</td>
</tr>
<tr>
<td>zip</td>
<td>Yes</td>
<td>Boolean</td>
<td>Whether to enable gzip</td>
</tr>
</tbody></table>
<h3 id='834cc0eexq0b'>Unsubscribe</h3>
<p>Unsubscribe from the BTC-USDT spot candlestick chart.</p>
<h4 id='22da1a053qzi'>Request Parameters</h4>
<blockquote>
<p>Request Example</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"event"</span><span class="p">:</span><span class="w"> </span><span class="s2">"unsub"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"params"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"biz"</span><span class="p">:</span><span class="w"> </span><span class="s2">"makert"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"spot.candles"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"symbol"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BTC-USDT"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"interval"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1min"</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="nl">"zip"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div><div class="highlight"><pre class="highlight python tab-python"><code><span class="kn">import</span> <span class="nn">asyncio</span>
<span class="kn">import</span> <span class="nn">json</span>
<span class="kn">import</span> <span class="nn">websockets</span>

<span class="k">async</span> <span class="k">def</span> <span class="nf">handle_websocket</span><span class="p">():</span>
    <span class="k">async</span> <span class="k">with</span> <span class="n">websockets</span><span class="p">.</span><span class="n">connect</span><span class="p">(</span><span class="s">"wss://stream.uzx.com/notification/ws"</span><span class="p">)</span> <span class="k">as</span> <span class="n">ws</span><span class="p">:</span>
        <span class="k">await</span> <span class="n">ws</span><span class="p">.</span><span class="n">send</span><span class="p">(</span><span class="n">json</span><span class="p">.</span><span class="n">dumps</span><span class="p">({</span>
            <span class="s">"event"</span><span class="p">:</span> <span class="s">"unsub"</span><span class="p">,</span>
            <span class="s">"params"</span><span class="p">:</span> <span class="p">{</span>
                <span class="s">"biz"</span><span class="p">:</span> <span class="s">"market"</span><span class="p">,</span>
                <span class="s">"type"</span><span class="p">:</span> <span class="s">"spot.candles"</span><span class="p">,</span>
                <span class="s">"symbol"</span><span class="p">:</span> <span class="s">"BTC-USDT"</span><span class="p">,</span>
                <span class="s">"interval"</span><span class="p">:</span> <span class="s">"1min"</span>
            <span class="p">},</span>
            <span class="s">"zip"</span><span class="p">:</span> <span class="bp">False</span>
        <span class="p">}))</span>

        <span class="k">while</span> <span class="bp">True</span><span class="p">:</span>
            <span class="n">msg</span> <span class="o">=</span> <span class="k">await</span> <span class="n">ws</span><span class="p">.</span><span class="n">recv</span><span class="p">()</span>
            <span class="n">data</span> <span class="o">=</span> <span class="n">json</span><span class="p">.</span><span class="n">loads</span><span class="p">(</span><span class="n">msg</span><span class="p">)</span>
            <span class="k">if</span> <span class="s">"ping"</span> <span class="ow">in</span> <span class="n">data</span><span class="p">:</span>
                <span class="k">await</span> <span class="n">ws</span><span class="p">.</span><span class="n">send</span><span class="p">(</span><span class="n">json</span><span class="p">.</span><span class="n">dumps</span><span class="p">({</span><span class="s">"pong"</span><span class="p">:</span> <span class="n">data</span><span class="p">[</span><span class="s">"ping"</span><span class="p">]}))</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="k">print</span><span class="p">(</span><span class="n">json</span><span class="p">.</span><span class="n">dumps</span><span class="p">(</span><span class="n">data</span><span class="p">,</span> <span class="n">indent</span><span class="o">=</span><span class="mi">2</span><span class="p">))</span>

<span class="n">asyncio</span><span class="p">.</span><span class="n">run</span><span class="p">(</span><span class="n">handle_websocket</span><span class="p">())</span>
</code></pre></div><div class="highlight"><pre class="highlight go tab-go"><code><span class="k">package</span> <span class="n">main</span>

<span class="k">import</span> <span class="p">(</span>
    <span class="s">"encoding/json"</span>
    <span class="s">"fmt"</span>
    <span class="s">"github.com/gorilla/websocket"</span>
    <span class="s">"log"</span>
    <span class="s">"net"</span>
    <span class="s">"net/http"</span>
    <span class="s">"time"</span>
<span class="p">)</span>

<span class="k">func</span> <span class="n">main</span><span class="p">()</span> <span class="p">{</span>
    <span class="n">url</span> <span class="o">:=</span> <span class="s">"wss://stream.uzx.com/notification/ws"</span>

    <span class="c">// Custom dialer configuration</span>
    <span class="n">dialer</span> <span class="o">:=</span> <span class="o">&amp;</span><span class="n">websocket</span><span class="o">.</span><span class="n">Dialer</span><span class="p">{</span>
        <span class="n">Proxy</span><span class="o">:</span> <span class="n">http</span><span class="o">.</span><span class="n">ProxyFromEnvironment</span><span class="p">,</span>
        <span class="n">NetDial</span><span class="o">:</span> <span class="k">func</span><span class="p">(</span><span class="n">network</span><span class="p">,</span> <span class="n">addr</span> <span class="kt">string</span><span class="p">)</span> <span class="p">(</span><span class="n">net</span><span class="o">.</span><span class="n">Conn</span><span class="p">,</span> <span class="kt">error</span><span class="p">)</span> <span class="p">{</span>
            <span class="c">// Force use of IPv4</span>
            <span class="k">return</span> <span class="n">net</span><span class="o">.</span><span class="n">Dial</span><span class="p">(</span><span class="s">"tcp4"</span><span class="p">,</span> <span class="n">addr</span><span class="p">)</span>
        <span class="p">},</span>
        <span class="n">HandshakeTimeout</span><span class="o">:</span> <span class="m">10</span> <span class="o">*</span> <span class="n">time</span><span class="o">.</span><span class="n">Second</span><span class="p">,</span>
    <span class="p">}</span>

    <span class="c">// Establish WebSocket connection</span>
    <span class="n">c</span><span class="p">,</span> <span class="n">_</span><span class="p">,</span> <span class="n">err</span> <span class="o">:=</span> <span class="n">dialer</span><span class="o">.</span><span class="n">Dial</span><span class="p">(</span><span class="n">url</span><span class="p">,</span> <span class="no">nil</span><span class="p">)</span>
    <span class="k">if</span> <span class="n">err</span> <span class="o">!=</span> <span class="no">nil</span> <span class="p">{</span>
        <span class="n">log</span><span class="o">.</span><span class="n">Fatal</span><span class="p">(</span><span class="s">"Connection failed:"</span><span class="p">,</span> <span class="n">err</span><span class="p">)</span>
    <span class="p">}</span>
    <span class="k">defer</span> <span class="n">c</span><span class="o">.</span><span class="n">Close</span><span class="p">()</span>

    <span class="c">// Subscribe to messages</span>
    <span class="n">subMsg</span> <span class="o">:=</span> <span class="k">map</span><span class="p">[</span><span class="kt">string</span><span class="p">]</span><span class="k">interface</span><span class="p">{}{</span>
        <span class="s">"event"</span><span class="o">:</span> <span class="s">"unsub"</span><span class="p">,</span>
        <span class="s">"params"</span><span class="o">:</span> <span class="k">map</span><span class="p">[</span><span class="kt">string</span><span class="p">]</span><span class="k">interface</span><span class="p">{}{</span>
            <span class="s">"biz"</span><span class="o">:</span>      <span class="s">"market"</span><span class="p">,</span>
            <span class="s">"type"</span><span class="o">:</span>     <span class="s">"spot.candles"</span><span class="p">,</span>
            <span class="s">"symbol"</span><span class="o">:</span>   <span class="s">"BTC-USDT"</span><span class="p">,</span>
            <span class="s">"interval"</span><span class="o">:</span> <span class="s">"1min"</span><span class="p">,</span>
        <span class="p">},</span>
        <span class="s">"zip"</span><span class="o">:</span> <span class="no">false</span><span class="p">,</span>
    <span class="p">}</span>
    <span class="n">err</span> <span class="o">=</span> <span class="n">c</span><span class="o">.</span><span class="n">WriteJSON</span><span class="p">(</span><span class="n">subMsg</span><span class="p">)</span>
    <span class="k">if</span> <span class="n">err</span> <span class="o">!=</span> <span class="no">nil</span> <span class="p">{</span>
        <span class="n">log</span><span class="o">.</span><span class="n">Fatal</span><span class="p">(</span><span class="s">"Failed to send subscription:"</span><span class="p">,</span> <span class="n">err</span><span class="p">)</span>
    <span class="p">}</span>
    <span class="n">fmt</span><span class="o">.</span><span class="n">Println</span><span class="p">(</span><span class="s">"Subscription request sent:"</span><span class="p">,</span> <span class="n">subMsg</span><span class="p">)</span>

    <span class="c">// Handle messages</span>
    <span class="k">for</span> <span class="p">{</span>
        <span class="n">_</span><span class="p">,</span> <span class="n">message</span><span class="p">,</span> <span class="n">err</span> <span class="o">:=</span> <span class="n">c</span><span class="o">.</span><span class="n">ReadMessage</span><span class="p">()</span>
        <span class="k">if</span> <span class="n">err</span> <span class="o">!=</span> <span class="no">nil</span> <span class="p">{</span>
            <span class="n">log</span><span class="o">.</span><span class="n">Println</span><span class="p">(</span><span class="s">"Error reading message:"</span><span class="p">,</span> <span class="n">err</span><span class="p">)</span>
            <span class="k">return</span>
        <span class="p">}</span>

        <span class="k">var</span> <span class="n">data</span> <span class="k">map</span><span class="p">[</span><span class="kt">string</span><span class="p">]</span><span class="k">interface</span><span class="p">{}</span>
        <span class="k">if</span> <span class="n">err</span> <span class="o">:=</span> <span class="n">json</span><span class="o">.</span><span class="n">Unmarshal</span><span class="p">(</span><span class="n">message</span><span class="p">,</span> <span class="o">&amp;</span><span class="n">data</span><span class="p">);</span> <span class="n">err</span> <span class="o">!=</span> <span class="no">nil</span> <span class="p">{</span>
            <span class="n">log</span><span class="o">.</span><span class="n">Println</span><span class="p">(</span><span class="s">"Failed to parse JSON:"</span><span class="p">,</span> <span class="n">err</span><span class="p">)</span>
            <span class="k">continue</span>
        <span class="p">}</span>

        <span class="c">// Handle ping message</span>
        <span class="k">if</span> <span class="n">ping</span><span class="p">,</span> <span class="n">ok</span> <span class="o">:=</span> <span class="n">data</span><span class="p">[</span><span class="s">"ping"</span><span class="p">]</span><span class="o">.</span><span class="p">(</span><span class="kt">float64</span><span class="p">);</span> <span class="n">ok</span> <span class="p">{</span>
            <span class="n">pong</span> <span class="o">:=</span> <span class="k">map</span><span class="p">[</span><span class="kt">string</span><span class="p">]</span><span class="k">interface</span><span class="p">{}{</span><span class="s">"pong"</span><span class="o">:</span> <span class="n">ping</span><span class="p">}</span>
            <span class="k">if</span> <span class="n">err</span> <span class="o">:=</span> <span class="n">c</span><span class="o">.</span><span class="n">WriteJSON</span><span class="p">(</span><span class="n">pong</span><span class="p">);</span> <span class="n">err</span> <span class="o">!=</span> <span class="no">nil</span> <span class="p">{</span>
                <span class="n">log</span><span class="o">.</span><span class="n">Println</span><span class="p">(</span><span class="s">"Failed to send pong:"</span><span class="p">,</span> <span class="n">err</span><span class="p">)</span>
                <span class="k">return</span>
            <span class="p">}</span>
            <span class="n">fmt</span><span class="o">.</span><span class="n">Println</span><span class="p">(</span><span class="s">"Pong response sent"</span><span class="p">)</span>
            <span class="k">continue</span>
        <span class="p">}</span>

        <span class="c">// Print other messages</span>
        <span class="n">pretty</span><span class="p">,</span> <span class="n">_</span> <span class="o">:=</span> <span class="n">json</span><span class="o">.</span><span class="n">MarshalIndent</span><span class="p">(</span><span class="n">data</span><span class="p">,</span> <span class="s">""</span><span class="p">,</span> <span class="s">"  "</span><span class="p">)</span>
        <span class="n">fmt</span><span class="o">.</span><span class="n">Printf</span><span class="p">(</span><span class="s">"</span><span class="se">\n</span><span class="s">Received message:</span><span class="se">\n</span><span class="s">%s</span><span class="se">\n</span><span class="s">"</span><span class="p">,</span> <span class="n">pretty</span><span class="p">)</span>
    <span class="p">}</span>
<span class="p">}</span>
</code></pre></div><div class="highlight"><pre class="highlight java tab-java"><code><span class="kn">import</span> <span class="nn">java.io.IOException</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">java.net.URI</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">java.net.http.HttpClient</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">java.net.http.WebSocket</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">java.nio.ByteBuffer</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">java.util.concurrent.CompletionStage</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">java.util.concurrent.CountDownLatch</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">java.util.concurrent.TimeUnit</span><span class="o">;</span>

<span class="kd">public</span> <span class="kd">class</span> <span class="nc">WebSocketClient</span> <span class="o">{</span>
    <span class="kd">private</span> <span class="kd">static</span> <span class="nc">CountDownLatch</span> <span class="n">latch</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">CountDownLatch</span><span class="o">(</span><span class="mi">1</span><span class="o">);</span>

    <span class="kd">public</span> <span class="kd">static</span> <span class="kt">void</span> <span class="nf">main</span><span class="o">(</span><span class="nc">String</span><span class="o">[]</span> <span class="n">args</span><span class="o">)</span> <span class="o">{</span>
        <span class="nc">HttpClient</span> <span class="n">client</span> <span class="o">=</span> <span class="nc">HttpClient</span><span class="o">.</span><span class="na">newHttpClient</span><span class="o">();</span>
        <span class="nc">String</span> <span class="n">uri</span> <span class="o">=</span> <span class="s">"wss://stream.uzx.com/notification/ws"</span><span class="o">;</span>

        <span class="nc">WebSocket</span> <span class="n">webSocket</span> <span class="o">=</span> <span class="n">client</span><span class="o">.</span><span class="na">newWebSocketBuilder</span><span class="o">()</span>
               <span class="o">.</span><span class="na">buildAsync</span><span class="o">(</span><span class="no">URI</span><span class="o">.</span><span class="na">create</span><span class="o">(</span><span class="n">uri</span><span class="o">),</span> <span class="k">new</span> <span class="nc">WebSocket</span><span class="o">.</span><span class="na">Listener</span><span class="o">()</span> <span class="o">{</span>
                    <span class="nd">@Override</span>
                    <span class="kd">public</span> <span class="kt">void</span> <span class="nf">onOpen</span><span class="o">(</span><span class="nc">WebSocket</span> <span class="n">webSocket</span><span class="o">)</span> <span class="o">{</span>
                        <span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">"Connection established"</span><span class="o">);</span>
                        <span class="c1">// Send subscription message</span>
                        <span class="nc">String</span> <span class="n">subscribeMsg</span> <span class="o">=</span> <span class="s">"{\"event\":\"unsub\",\"params\":{\"biz\":\"market\",\"type\":\"spot.candles\",\"symbol\":\"BTC-USDT\",\"interval\":\"1min\"},\"zip\":false}"</span><span class="o">;</span>
                        <span class="n">webSocket</span><span class="o">.</span><span class="na">sendText</span><span class="o">(</span><span class="n">subscribeMsg</span><span class="o">,</span> <span class="kc">true</span><span class="o">);</span>
                        <span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">"Subscription request sent: "</span> <span class="o">+</span> <span class="n">subscribeMsg</span><span class="o">);</span>
                        <span class="nc">WebSocket</span><span class="o">.</span><span class="na">Listener</span><span class="o">.</span><span class="na">super</span><span class="o">.</span><span class="na">onOpen</span><span class="o">(</span><span class="n">webSocket</span><span class="o">);</span>
                    <span class="o">}</span>

                    <span class="nd">@Override</span>
                    <span class="kd">public</span> <span class="nc">CompletionStage</span><span class="o">&lt;?&gt;</span> <span class="n">onText</span><span class="o">(</span><span class="nc">WebSocket</span> <span class="n">webSocket</span><span class="o">,</span> <span class="nc">CharSequence</span> <span class="n">data</span><span class="o">,</span> <span class="kt">boolean</span> <span class="n">last</span><span class="o">)</span> <span class="o">{</span>
                        <span class="nc">String</span> <span class="n">message</span> <span class="o">=</span> <span class="n">data</span><span class="o">.</span><span class="na">toString</span><span class="o">();</span>
                        <span class="k">try</span> <span class="o">{</span>
                            <span class="c1">// Handle ping message</span>
                            <span class="k">if</span> <span class="o">(</span><span class="n">message</span><span class="o">.</span><span class="na">contains</span><span class="o">(</span><span class="s">"\"ping\""</span><span class="o">))</span> <span class="o">{</span>
                                <span class="nc">String</span> <span class="n">pongMsg</span> <span class="o">=</span> <span class="n">message</span><span class="o">.</span><span class="na">replace</span><span class="o">(</span><span class="s">"\"ping\""</span><span class="o">,</span> <span class="s">"\"pong\""</span><span class="o">);</span>
                                <span class="n">webSocket</span><span class="o">.</span><span class="na">sendText</span><span class="o">(</span><span class="n">pongMsg</span><span class="o">,</span> <span class="kc">true</span><span class="o">);</span>
                                <span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">"Pong response sent"</span><span class="o">);</span>
                            <span class="o">}</span> <span class="k">else</span> <span class="o">{</span>
                                <span class="c1">// Print other messages</span>
                                <span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">"\nReceived message:"</span><span class="o">);</span>
                                <span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="n">message</span><span class="o">);</span>
                            <span class="o">}</span>
                        <span class="o">}</span> <span class="k">catch</span> <span class="o">(</span><span class="nc">Exception</span> <span class="n">e</span><span class="o">)</span> <span class="o">{</span>
                            <span class="n">e</span><span class="o">.</span><span class="na">printStackTrace</span><span class="o">();</span>
                        <span class="o">}</span>
                        <span class="k">return</span> <span class="nc">WebSocket</span><span class="o">.</span><span class="na">Listener</span><span class="o">.</span><span class="na">super</span><span class="o">.</span><span class="na">onText</span><span class="o">(</span><span class="n">webSocket</span><span class="o">,</span> <span class="n">data</span><span class="o">,</span> <span class="n">last</span><span class="o">);</span>
                    <span class="o">}</span>

                    <span class="nd">@Override</span>
                    <span class="kd">public</span> <span class="nc">CompletionStage</span><span class="o">&lt;?&gt;</span> <span class="n">onClose</span><span class="o">(</span><span class="nc">WebSocket</span> <span class="n">webSocket</span><span class="o">,</span> <span class="kt">int</span> <span class="n">statusCode</span><span class="o">,</span> <span class="nc">String</span> <span class="n">reason</span><span class="o">)</span> <span class="o">{</span>
                        <span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">"Connection closed: status code "</span> <span class="o">+</span> <span class="n">statusCode</span> <span class="o">+</span> <span class="s">", reason: "</span> <span class="o">+</span> <span class="n">reason</span><span class="o">);</span>
                        <span class="n">latch</span><span class="o">.</span><span class="na">countDown</span><span class="o">();</span>
                        <span class="k">return</span> <span class="nc">WebSocket</span><span class="o">.</span><span class="na">Listener</span><span class="o">.</span><span class="na">super</span><span class="o">.</span><span class="na">onClose</span><span class="o">(</span><span class="n">webSocket</span><span class="o">,</span> <span class="n">statusCode</span><span class="o">,</span> <span class="n">reason</span><span class="o">);</span>
                    <span class="o">}</span>

                    <span class="nd">@Override</span>
                    <span class="kd">public</span> <span class="kt">void</span> <span class="nf">onError</span><span class="o">(</span><span class="nc">WebSocket</span> <span class="n">webSocket</span><span class="o">,</span> <span class="nc">Throwable</span> <span class="n">error</span><span class="o">)</span> <span class="o">{</span>
                        <span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">"Error occurred:"</span><span class="o">);</span>
                        <span class="n">error</span><span class="o">.</span><span class="na">printStackTrace</span><span class="o">();</span>
                        <span class="n">latch</span><span class="o">.</span><span class="na">countDown</span><span class="o">();</span>
                    <span class="o">}</span>
                <span class="o">}).</span><span class="na">join</span><span class="o">();</span>

        <span class="k">try</span> <span class="o">{</span>
            <span class="c1">// Keep the connection alive</span>
            <span class="n">latch</span><span class="o">.</span><span class="na">await</span><span class="o">(</span><span class="mi">1</span><span class="o">,</span> <span class="nc">TimeUnit</span><span class="o">.</span><span class="na">HOURS</span><span class="o">);</span>
        <span class="o">}</span> <span class="k">catch</span> <span class="o">(</span><span class="nc">InterruptedException</span> <span class="n">e</span><span class="o">)</span> <span class="o">{</span>
            <span class="n">e</span><span class="o">.</span><span class="na">printStackTrace</span><span class="o">();</span>
            <span class="nc">Thread</span><span class="o">.</span><span class="na">currentThread</span><span class="o">().</span><span class="na">interrupt</span><span class="o">();</span>
        <span class="o">}</span>
    <span class="o">}</span>
<span class="o">}</span>
</code></pre></div>
<table><thead>
<tr>
<th>Parameter Name</th>
<th>Required</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>event</td>
<td>Yes</td>
<td>string</td>
<td>Operation <code>unsub</code></td>
</tr>
<tr>
<td>params</td>
<td>Yes</td>
<td>object</td>
<td>Subscription parameter information</td>
</tr>
<tr>
<td>&gt;product</td>
<td>Yes</td>
<td>string</td>
<td>Product Name (currency pair)</td>
</tr>
<tr>
<td>&gt;biz</td>
<td>Yes</td>
<td>string</td>
<td>Type, <code>market</code></td>
</tr>
<tr>
<td>&gt;type</td>
<td>Yes</td>
<td>string</td>
<td>Channel name</td>
</tr>
<tr>
<td>&gt;interval</td>
<td>No</td>
<td>string</td>
<td>Period</td>
</tr>
<tr>
<td>zip</td>
<td>Yes</td>
<td>Boolean</td>
<td>Whether to enable gzip</td>
</tr>
</tbody></table>
<h4 id='a222a51er1mp'>Response Parameters</h4>
<blockquote>
<p>Response Example</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
  </span><span class="nl">"event"</span><span class="p">:</span><span class="w"> </span><span class="s2">"unsubbed"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"topic"</span><span class="p">:</span><span class="w"> </span><span class="s2">"spot.BTC-USDT.kline.1min"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ok"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<table><thead>
<tr>
<th>Parameter Name</th>
<th>Required</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>id</td>
<td>String</td>
<td>Ignore this field</td>
<td></td>
</tr>
<tr>
<td>event</td>
<td>String</td>
<td>Event type</td>
<td></td>
</tr>
<tr>
<td>topic</td>
<td>String</td>
<td>Topic name</td>
<td></td>
</tr>
<tr>
<td>status</td>
<td>String</td>
<td>Status code</td>
<td></td>
</tr>
</tbody></table>
<h3 id='21aae00a89co'>Request Historical Data</h3>
<p>Request historical 1-minute candlestick data for BTC-USDT.</p>
<h4 id='22da1a05ogaj'>Request Parameters</h4>
<blockquote>
<p>Request Example</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"event"</span><span class="p">:</span><span class="w"> </span><span class="s2">"req"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"params"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"symbol"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BTC-USDT"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"biz"</span><span class="p">:</span><span class="w"> </span><span class="s2">"market"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"spot.candles"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"interval"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1min"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"size"</span><span class="p">:</span><span class="w"> </span><span class="mi">300</span><span class="p">,</span><span class="w">
    </span><span class="nl">"from"</span><span class="p">:</span><span class="w"> </span><span class="mi">1751295600</span><span class="p">,</span><span class="w">
    </span><span class="nl">"to"</span><span class="p">:</span><span class="w"> </span><span class="mi">1751299200</span><span class="p">,</span><span class="w">
    </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"his"</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="nl">"zip"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div><div class="highlight"><pre class="highlight python tab-python"><code><span class="kn">import</span> <span class="nn">asyncio</span>
<span class="kn">import</span> <span class="nn">json</span>
<span class="kn">import</span> <span class="nn">websockets</span>

<span class="k">async</span> <span class="k">def</span> <span class="nf">handle_websocket</span><span class="p">():</span>
    <span class="k">async</span> <span class="k">with</span> <span class="n">websockets</span><span class="p">.</span><span class="n">connect</span><span class="p">(</span><span class="s">"wss://stream.uzx.com/notification/ws"</span><span class="p">)</span> <span class="k">as</span> <span class="n">ws</span><span class="p">:</span>
        <span class="k">await</span> <span class="n">ws</span><span class="p">.</span><span class="n">send</span><span class="p">(</span><span class="n">json</span><span class="p">.</span><span class="n">dumps</span><span class="p">({</span>
          <span class="s">"event"</span><span class="p">:</span> <span class="s">"req"</span><span class="p">,</span>
          <span class="s">"params"</span><span class="p">:</span> <span class="p">{</span>
            <span class="s">"symbol"</span><span class="p">:</span> <span class="s">"BTC-USDT"</span><span class="p">,</span>
            <span class="s">"biz"</span><span class="p">:</span> <span class="s">"market"</span><span class="p">,</span>
            <span class="s">"type"</span><span class="p">:</span> <span class="s">"spot.candles"</span><span class="p">,</span>
            <span class="s">"interval"</span><span class="p">:</span> <span class="s">"1min"</span><span class="p">,</span>
            <span class="s">"size"</span><span class="p">:</span> <span class="mi">300</span><span class="p">,</span>
            <span class="s">"from"</span><span class="p">:</span> <span class="mi">1751295600</span><span class="p">,</span>
            <span class="s">"to"</span><span class="p">:</span> <span class="mi">1751299200</span><span class="p">,</span>
            <span class="s">"id"</span><span class="p">:</span> <span class="s">"his"</span>
          <span class="p">},</span>
          <span class="s">"zip"</span><span class="p">:</span> <span class="n">false</span>
        <span class="p">}))</span>

        <span class="k">while</span> <span class="bp">True</span><span class="p">:</span>
            <span class="n">msg</span> <span class="o">=</span> <span class="k">await</span> <span class="n">ws</span><span class="p">.</span><span class="n">recv</span><span class="p">()</span>
            <span class="n">data</span> <span class="o">=</span> <span class="n">json</span><span class="p">.</span><span class="n">loads</span><span class="p">(</span><span class="n">msg</span><span class="p">)</span>
            <span class="k">if</span> <span class="s">"ping"</span> <span class="ow">in</span> <span class="n">data</span><span class="p">:</span>
                <span class="k">await</span> <span class="n">ws</span><span class="p">.</span><span class="n">send</span><span class="p">(</span><span class="n">json</span><span class="p">.</span><span class="n">dumps</span><span class="p">({</span><span class="s">"pong"</span><span class="p">:</span> <span class="n">data</span><span class="p">[</span><span class="s">"ping"</span><span class="p">]}))</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="k">print</span><span class="p">(</span><span class="n">json</span><span class="p">.</span><span class="n">dumps</span><span class="p">(</span><span class="n">data</span><span class="p">,</span> <span class="n">indent</span><span class="o">=</span><span class="mi">2</span><span class="p">))</span>

<span class="n">asyncio</span><span class="p">.</span><span class="n">run</span><span class="p">(</span><span class="n">handle_websocket</span><span class="p">())</span>
</code></pre></div><div class="highlight"><pre class="highlight go tab-go"><code><span class="k">package</span> <span class="n">main</span>

<span class="k">import</span> <span class="p">(</span>
    <span class="s">"encoding/json"</span>
    <span class="s">"fmt"</span>
    <span class="s">"github.com/gorilla/websocket"</span>
    <span class="s">"log"</span>
    <span class="s">"net"</span>
    <span class="s">"net/http"</span>
    <span class="s">"time"</span>
<span class="p">)</span>

<span class="k">func</span> <span class="n">main</span><span class="p">()</span> <span class="p">{</span>
    <span class="n">url</span> <span class="o">:=</span> <span class="s">"wss://stream.uzx.com/notification/ws"</span>

    <span class="c">// Custom dialer configuration</span>
    <span class="n">dialer</span> <span class="o">:=</span> <span class="o">&amp;</span><span class="n">websocket</span><span class="o">.</span><span class="n">Dialer</span><span class="p">{</span>
        <span class="n">Proxy</span><span class="o">:</span> <span class="n">http</span><span class="o">.</span><span class="n">ProxyFromEnvironment</span><span class="p">,</span>
        <span class="n">NetDial</span><span class="o">:</span> <span class="k">func</span><span class="p">(</span><span class="n">network</span><span class="p">,</span> <span class="n">addr</span> <span class="kt">string</span><span class="p">)</span> <span class="p">(</span><span class="n">net</span><span class="o">.</span><span class="n">Conn</span><span class="p">,</span> <span class="kt">error</span><span class="p">)</span> <span class="p">{</span>
            <span class="c">// Force use of IPv4</span>
            <span class="k">return</span> <span class="n">net</span><span class="o">.</span><span class="n">Dial</span><span class="p">(</span><span class="s">"tcp4"</span><span class="p">,</span> <span class="n">addr</span><span class="p">)</span>
        <span class="p">},</span>
        <span class="n">HandshakeTimeout</span><span class="o">:</span> <span class="m">10</span> <span class="o">*</span> <span class="n">time</span><span class="o">.</span><span class="n">Second</span><span class="p">,</span>
    <span class="p">}</span>

    <span class="c">// Establish WebSocket connection</span>
    <span class="n">c</span><span class="p">,</span> <span class="n">_</span><span class="p">,</span> <span class="n">err</span> <span class="o">:=</span> <span class="n">dialer</span><span class="o">.</span><span class="n">Dial</span><span class="p">(</span><span class="n">url</span><span class="p">,</span> <span class="no">nil</span><span class="p">)</span>
    <span class="k">if</span> <span class="n">err</span> <span class="o">!=</span> <span class="no">nil</span> <span class="p">{</span>
        <span class="n">log</span><span class="o">.</span><span class="n">Fatal</span><span class="p">(</span><span class="s">"Connection failed:"</span><span class="p">,</span> <span class="n">err</span><span class="p">)</span>
    <span class="p">}</span>
    <span class="k">defer</span> <span class="n">c</span><span class="o">.</span><span class="n">Close</span><span class="p">()</span>

    <span class="c">// Subscribe to messages</span>
    <span class="n">subMsg</span> <span class="o">:=</span> <span class="k">map</span><span class="p">[</span><span class="kt">string</span><span class="p">]</span><span class="k">interface</span><span class="p">{}{</span>
      <span class="s">"event"</span><span class="o">:</span> <span class="s">"req"</span><span class="p">,</span>
      <span class="s">"params"</span><span class="o">:</span> <span class="k">map</span><span class="p">[</span><span class="kt">string</span><span class="p">]</span><span class="k">interface</span><span class="p">{}{</span>
         <span class="s">"symbol"</span><span class="o">:</span> <span class="s">"BTC-USDT"</span><span class="p">,</span>
         <span class="s">"biz"</span><span class="o">:</span> <span class="s">"market"</span><span class="p">,</span>
         <span class="s">"type"</span><span class="o">:</span> <span class="s">"spot.candles"</span><span class="p">,</span>
         <span class="s">"interval"</span><span class="o">:</span> <span class="s">"1min"</span><span class="p">,</span>
         <span class="s">"size"</span><span class="o">:</span> <span class="m">300</span><span class="p">,</span>
         <span class="s">"from"</span><span class="o">:</span> <span class="m">1751295600</span><span class="p">,</span>
         <span class="s">"to"</span><span class="o">:</span> <span class="m">1751299200</span><span class="p">,</span>
         <span class="s">"id"</span><span class="o">:</span> <span class="s">"his"</span><span class="p">,</span>
      <span class="p">},</span>
      <span class="s">"zip"</span><span class="o">:</span> <span class="no">false</span><span class="p">,</span>
    <span class="p">}</span>
    <span class="n">err</span> <span class="o">=</span> <span class="n">c</span><span class="o">.</span><span class="n">WriteJSON</span><span class="p">(</span><span class="n">subMsg</span><span class="p">)</span>
    <span class="k">if</span> <span class="n">err</span> <span class="o">!=</span> <span class="no">nil</span> <span class="p">{</span>
        <span class="n">log</span><span class="o">.</span><span class="n">Fatal</span><span class="p">(</span><span class="s">"Failed to send subscription:"</span><span class="p">,</span> <span class="n">err</span><span class="p">)</span>
    <span class="p">}</span>
    <span class="n">fmt</span><span class="o">.</span><span class="n">Println</span><span class="p">(</span><span class="s">"Subscription request sent:"</span><span class="p">,</span> <span class="n">subMsg</span><span class="p">)</span>

    <span class="c">// Handle messages</span>
    <span class="k">for</span> <span class="p">{</span>
        <span class="n">_</span><span class="p">,</span> <span class="n">message</span><span class="p">,</span> <span class="n">err</span> <span class="o">:=</span> <span class="n">c</span><span class="o">.</span><span class="n">ReadMessage</span><span class="p">()</span>
        <span class="k">if</span> <span class="n">err</span> <span class="o">!=</span> <span class="no">nil</span> <span class="p">{</span>
            <span class="n">log</span><span class="o">.</span><span class="n">Println</span><span class="p">(</span><span class="s">"Error reading message:"</span><span class="p">,</span> <span class="n">err</span><span class="p">)</span>
            <span class="k">return</span>
        <span class="p">}</span>

        <span class="k">var</span> <span class="n">data</span> <span class="k">map</span><span class="p">[</span><span class="kt">string</span><span class="p">]</span><span class="k">interface</span><span class="p">{}</span>
        <span class="k">if</span> <span class="n">err</span> <span class="o">:=</span> <span class="n">json</span><span class="o">.</span><span class="n">Unmarshal</span><span class="p">(</span><span class="n">message</span><span class="p">,</span> <span class="o">&amp;</span><span class="n">data</span><span class="p">);</span> <span class="n">err</span> <span class="o">!=</span> <span class="no">nil</span> <span class="p">{</span>
            <span class="n">log</span><span class="o">.</span><span class="n">Println</span><span class="p">(</span><span class="s">"Failed to parse JSON:"</span><span class="p">,</span> <span class="n">err</span><span class="p">)</span>
            <span class="k">continue</span>
        <span class="p">}</span>

        <span class="c">// Handle ping message</span>
        <span class="k">if</span> <span class="n">ping</span><span class="p">,</span> <span class="n">ok</span> <span class="o">:=</span> <span class="n">data</span><span class="p">[</span><span class="s">"ping"</span><span class="p">]</span><span class="o">.</span><span class="p">(</span><span class="kt">float64</span><span class="p">);</span> <span class="n">ok</span> <span class="p">{</span>
            <span class="n">pong</span> <span class="o">:=</span> <span class="k">map</span><span class="p">[</span><span class="kt">string</span><span class="p">]</span><span class="k">interface</span><span class="p">{}{</span><span class="s">"pong"</span><span class="o">:</span> <span class="n">ping</span><span class="p">}</span>
            <span class="k">if</span> <span class="n">err</span> <span class="o">:=</span> <span class="n">c</span><span class="o">.</span><span class="n">WriteJSON</span><span class="p">(</span><span class="n">pong</span><span class="p">);</span> <span class="n">err</span> <span class="o">!=</span> <span class="no">nil</span> <span class="p">{</span>
                <span class="n">log</span><span class="o">.</span><span class="n">Println</span><span class="p">(</span><span class="s">"Failed to send pong:"</span><span class="p">,</span> <span class="n">err</span><span class="p">)</span>
                <span class="k">return</span>
            <span class="p">}</span>
            <span class="n">fmt</span><span class="o">.</span><span class="n">Println</span><span class="p">(</span><span class="s">"Pong response sent"</span><span class="p">)</span>
            <span class="k">continue</span>
        <span class="p">}</span>

        <span class="c">// Print other messages</span>
        <span class="n">pretty</span><span class="p">,</span> <span class="n">_</span> <span class="o">:=</span> <span class="n">json</span><span class="o">.</span><span class="n">MarshalIndent</span><span class="p">(</span><span class="n">data</span><span class="p">,</span> <span class="s">""</span><span class="p">,</span> <span class="s">"  "</span><span class="p">)</span>
        <span class="n">fmt</span><span class="o">.</span><span class="n">Printf</span><span class="p">(</span><span class="s">"</span><span class="se">\n</span><span class="s">Received message:</span><span class="se">\n</span><span class="s">%s</span><span class="se">\n</span><span class="s">"</span><span class="p">,</span> <span class="n">pretty</span><span class="p">)</span>
    <span class="p">}</span>
<span class="p">}</span>
</code></pre></div><div class="highlight"><pre class="highlight java tab-java"><code><span class="kn">import</span> <span class="nn">java.io.IOException</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">java.net.URI</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">java.net.http.HttpClient</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">java.net.http.WebSocket</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">java.nio.ByteBuffer</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">java.util.concurrent.CompletionStage</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">java.util.concurrent.CountDownLatch</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">java.util.concurrent.TimeUnit</span><span class="o">;</span>

<span class="kd">public</span> <span class="kd">class</span> <span class="nc">WebSocketClient</span> <span class="o">{</span>
    <span class="kd">private</span> <span class="kd">static</span> <span class="nc">CountDownLatch</span> <span class="n">latch</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">CountDownLatch</span><span class="o">(</span><span class="mi">1</span><span class="o">);</span>

    <span class="kd">public</span> <span class="kd">static</span> <span class="kt">void</span> <span class="nf">main</span><span class="o">(</span><span class="nc">String</span><span class="o">[]</span> <span class="n">args</span><span class="o">)</span> <span class="o">{</span>
        <span class="nc">HttpClient</span> <span class="n">client</span> <span class="o">=</span> <span class="nc">HttpClient</span><span class="o">.</span><span class="na">newHttpClient</span><span class="o">();</span>
        <span class="nc">String</span> <span class="n">uri</span> <span class="o">=</span> <span class="s">"wss://stream.uzx.com/notification/ws"</span><span class="o">;</span>

        <span class="nc">WebSocket</span> <span class="n">webSocket</span> <span class="o">=</span> <span class="n">client</span><span class="o">.</span><span class="na">newWebSocketBuilder</span><span class="o">()</span>
               <span class="o">.</span><span class="na">buildAsync</span><span class="o">(</span><span class="no">URI</span><span class="o">.</span><span class="na">create</span><span class="o">(</span><span class="n">uri</span><span class="o">),</span> <span class="k">new</span> <span class="nc">WebSocket</span><span class="o">.</span><span class="na">Listener</span><span class="o">()</span> <span class="o">{</span>
                    <span class="nd">@Override</span>
                    <span class="kd">public</span> <span class="kt">void</span> <span class="nf">onOpen</span><span class="o">(</span><span class="nc">WebSocket</span> <span class="n">webSocket</span><span class="o">)</span> <span class="o">{</span>
                        <span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">"Connection established"</span><span class="o">);</span>
                        <span class="c1">// Send subscription message</span>
                        <span class="nc">String</span> <span class="n">subscribeMsg</span> <span class="o">=</span> <span class="s">"{\"event\":\"req\",\"params\":{\"symbol\":\"BTC-USDT\",\"biz\":\"market\",\"type\":\"spot.candles\",\"interval\":\"1min\",\"size\":300,\"from\":1751295600,\"to\":1751299200,\"id\":\"his\"},\"zip\":false}"</span><span class="o">;</span>
                        <span class="n">webSocket</span><span class="o">.</span><span class="na">sendText</span><span class="o">(</span><span class="n">subscribeMsg</span><span class="o">,</span> <span class="kc">true</span><span class="o">);</span>
                        <span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">"Subscription request sent: "</span> <span class="o">+</span> <span class="n">subscribeMsg</span><span class="o">);</span>
                        <span class="nc">WebSocket</span><span class="o">.</span><span class="na">Listener</span><span class="o">.</span><span class="na">super</span><span class="o">.</span><span class="na">onOpen</span><span class="o">(</span><span class="n">webSocket</span><span class="o">);</span>
                    <span class="o">}</span>

                    <span class="nd">@Override</span>
                    <span class="kd">public</span> <span class="nc">CompletionStage</span><span class="o">&lt;?&gt;</span> <span class="n">onText</span><span class="o">(</span><span class="nc">WebSocket</span> <span class="n">webSocket</span><span class="o">,</span> <span class="nc">CharSequence</span> <span class="n">data</span><span class="o">,</span> <span class="kt">boolean</span> <span class="n">last</span><span class="o">)</span> <span class="o">{</span>
                        <span class="nc">String</span> <span class="n">message</span> <span class="o">=</span> <span class="n">data</span><span class="o">.</span><span class="na">toString</span><span class="o">();</span>
                        <span class="k">try</span> <span class="o">{</span>
                            <span class="c1">// Handle ping message</span>
                            <span class="k">if</span> <span class="o">(</span><span class="n">message</span><span class="o">.</span><span class="na">contains</span><span class="o">(</span><span class="s">"\"ping\""</span><span class="o">))</span> <span class="o">{</span>
                                <span class="nc">String</span> <span class="n">pongMsg</span> <span class="o">=</span> <span class="n">message</span><span class="o">.</span><span class="na">replace</span><span class="o">(</span><span class="s">"\"ping\""</span><span class="o">,</span> <span class="s">"\"pong\""</span><span class="o">);</span>
                                <span class="n">webSocket</span><span class="o">.</span><span class="na">sendText</span><span class="o">(</span><span class="n">pongMsg</span><span class="o">,</span> <span class="kc">true</span><span class="o">);</span>
                                <span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">"Pong response sent"</span><span class="o">);</span>
                            <span class="o">}</span> <span class="k">else</span> <span class="o">{</span>
                                <span class="c1">// Print other messages</span>
                                <span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">"\nReceived message:"</span><span class="o">);</span>
                                <span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="n">message</span><span class="o">);</span>
                            <span class="o">}</span>
                        <span class="o">}</span> <span class="k">catch</span> <span class="o">(</span><span class="nc">Exception</span> <span class="n">e</span><span class="o">)</span> <span class="o">{</span>
                            <span class="n">e</span><span class="o">.</span><span class="na">printStackTrace</span><span class="o">();</span>
                        <span class="o">}</span>
                        <span class="k">return</span> <span class="nc">WebSocket</span><span class="o">.</span><span class="na">Listener</span><span class="o">.</span><span class="na">super</span><span class="o">.</span><span class="na">onText</span><span class="o">(</span><span class="n">webSocket</span><span class="o">,</span> <span class="n">data</span><span class="o">,</span> <span class="n">last</span><span class="o">);</span>
                    <span class="o">}</span>

                    <span class="nd">@Override</span>
                    <span class="kd">public</span> <span class="nc">CompletionStage</span><span class="o">&lt;?&gt;</span> <span class="n">onClose</span><span class="o">(</span><span class="nc">WebSocket</span> <span class="n">webSocket</span><span class="o">,</span> <span class="kt">int</span> <span class="n">statusCode</span><span class="o">,</span> <span class="nc">String</span> <span class="n">reason</span><span class="o">)</span> <span class="o">{</span>
                        <span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">"Connection closed: status code "</span> <span class="o">+</span> <span class="n">statusCode</span> <span class="o">+</span> <span class="s">", reason: "</span> <span class="o">+</span> <span class="n">reason</span><span class="o">);</span>
                        <span class="n">latch</span><span class="o">.</span><span class="na">countDown</span><span class="o">();</span>
                        <span class="k">return</span> <span class="nc">WebSocket</span><span class="o">.</span><span class="na">Listener</span><span class="o">.</span><span class="na">super</span><span class="o">.</span><span class="na">onClose</span><span class="o">(</span><span class="n">webSocket</span><span class="o">,</span> <span class="n">statusCode</span><span class="o">,</span> <span class="n">reason</span><span class="o">);</span>
                    <span class="o">}</span>

                    <span class="nd">@Override</span>
                    <span class="kd">public</span> <span class="kt">void</span> <span class="nf">onError</span><span class="o">(</span><span class="nc">WebSocket</span> <span class="n">webSocket</span><span class="o">,</span> <span class="nc">Throwable</span> <span class="n">error</span><span class="o">)</span> <span class="o">{</span>
                        <span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">"Error occurred:"</span><span class="o">);</span>
                        <span class="n">error</span><span class="o">.</span><span class="na">printStackTrace</span><span class="o">();</span>
                        <span class="n">latch</span><span class="o">.</span><span class="na">countDown</span><span class="o">();</span>
                    <span class="o">}</span>
                <span class="o">}).</span><span class="na">join</span><span class="o">();</span>

        <span class="k">try</span> <span class="o">{</span>
            <span class="c1">// Keep the connection alive</span>
            <span class="n">latch</span><span class="o">.</span><span class="na">await</span><span class="o">(</span><span class="mi">1</span><span class="o">,</span> <span class="nc">TimeUnit</span><span class="o">.</span><span class="na">HOURS</span><span class="o">);</span>
        <span class="o">}</span> <span class="k">catch</span> <span class="o">(</span><span class="nc">InterruptedException</span> <span class="n">e</span><span class="o">)</span> <span class="o">{</span>
            <span class="n">e</span><span class="o">.</span><span class="na">printStackTrace</span><span class="o">();</span>
            <span class="nc">Thread</span><span class="o">.</span><span class="na">currentThread</span><span class="o">().</span><span class="na">interrupt</span><span class="o">();</span>
        <span class="o">}</span>
    <span class="o">}</span>
<span class="o">}</span>
</code></pre></div>
<table><thead>
<tr>
<th style="text-align: left">Parameter Name</th>
<th style="text-align: left">Required</th>
<th style="text-align: left">Type</th>
<th style="text-align: left">Description</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left">event</td>
<td style="text-align: left">Yes</td>
<td style="text-align: left">String</td>
<td style="text-align: left">Event type <code>req</code></td>
</tr>
<tr>
<td style="text-align: left">params</td>
<td style="text-align: left">Yes</td>
<td style="text-align: left">Object</td>
<td style="text-align: left">Request parameters</td>
</tr>
<tr>
<td style="text-align: left">&gt; symbol</td>
<td style="text-align: left">Yes</td>
<td style="text-align: left">String</td>
<td style="text-align: left">Currency pair</td>
</tr>
<tr>
<td style="text-align: left">&gt; biz</td>
<td style="text-align: left">Yes</td>
<td style="text-align: left">String</td>
<td style="text-align: left">Type <code>market</code></td>
</tr>
<tr>
<td style="text-align: left">&gt; type</td>
<td style="text-align: left">Yes</td>
<td style="text-align: left">String</td>
<td style="text-align: left">Channel type</td>
</tr>
<tr>
<td style="text-align: left">&gt; interval</td>
<td style="text-align: left">Yes</td>
<td style="text-align: left">String</td>
<td style="text-align: left">Period</td>
</tr>
<tr>
<td style="text-align: left">&gt; size</td>
<td style="text-align: left">Yes</td>
<td style="text-align: left">Int</td>
<td style="text-align: left">Number of records to query. Note that the interval between <code>from</code> and <code>to</code> should not exceed <code>size</code>, and <code>size</code> should not exceed 300.</td>
</tr>
<tr>
<td style="text-align: left">&gt; from</td>
<td style="text-align: left">Yes</td>
<td style="text-align: left">Integer</td>
<td style="text-align: left">Start date for the query (in seconds)</td>
</tr>
<tr>
<td style="text-align: left">&gt; to</td>
<td style="text-align: left">Yes</td>
<td style="text-align: left">Integer</td>
<td style="text-align: left">End date for the query (in seconds)</td>
</tr>
<tr>
<td style="text-align: left">&gt; id</td>
<td style="text-align: left">Yes</td>
<td style="text-align: left">String</td>
<td style="text-align: left">Request Name</td>
</tr>
<tr>
<td style="text-align: left">zip</td>
<td style="text-align: left">Yes</td>
<td style="text-align: left">Boolean</td>
<td style="text-align: left">Whether to enable gzip</td>
</tr>
</tbody></table>
<h4 id='a222a51ermui'>Response Parameters</h4>
<blockquote>
<p>Response Example</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="nl">"open"</span><span class="p">:</span><span class="w"> </span><span class="s2">"109529.75"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"close"</span><span class="p">:</span><span class="w"> </span><span class="s2">"109529.75"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"high"</span><span class="p">:</span><span class="w"> </span><span class="s2">"109529.75"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"low"</span><span class="p">:</span><span class="w"> </span><span class="s2">"109529.75"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"turn_over"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"vol"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"count"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">],</span><span class="w">
  </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"his"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"interval"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1min"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ok"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"symbol"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BTC-USDT"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"ts"</span><span class="p">:</span><span class="w"> </span><span class="mi">1751358326792</span><span class="p">,</span><span class="w">
  </span><span class="nl">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"spot.candles"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<table><thead>
<tr>
<th style="text-align: left">Parameter Name</th>
<th style="text-align: left">Required</th>
<th style="text-align: left">Type</th>
<th style="text-align: left">Description</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left">data</td>
<td style="text-align: left">Yes</td>
<td style="text-align: left">Array</td>
<td style="text-align: left">List of candlestick data</td>
</tr>
<tr>
<td style="text-align: left">&gt; close</td>
<td style="text-align: left">Yes</td>
<td style="text-align: left">String</td>
<td style="text-align: left">Closing price of the period</td>
</tr>
<tr>
<td style="text-align: left">&gt; count</td>
<td style="text-align: left">Yes</td>
<td style="text-align: left">Integer</td>
<td style="text-align: left">Number of trades</td>
</tr>
<tr>
<td style="text-align: left">&gt; high</td>
<td style="text-align: left">Yes</td>
<td style="text-align: left">String</td>
<td style="text-align: left">Highest price of the period</td>
</tr>
<tr>
<td style="text-align: left">&gt; low</td>
<td style="text-align: left">Yes</td>
<td style="text-align: left">String</td>
<td style="text-align: left">Lowest price of the period</td>
</tr>
<tr>
<td style="text-align: left">&gt; open</td>
<td style="text-align: left">Yes</td>
<td style="text-align: left">String</td>
<td style="text-align: left">Opening price of the period</td>
</tr>
<tr>
<td style="text-align: left">&gt; turnOver</td>
<td style="text-align: left">Yes</td>
<td style="text-align: left">Integer</td>
<td style="text-align: left">Total trade amount</td>
</tr>
<tr>
<td style="text-align: left">&gt; vol</td>
<td style="text-align: left">Yes</td>
<td style="text-align: left">String</td>
<td style="text-align: left">Trade volume in the quoted currency</td>
</tr>
<tr>
<td style="text-align: left">interval</td>
<td style="text-align: left">Yes</td>
<td style="text-align: left">String</td>
<td style="text-align: left">Period</td>
</tr>
<tr>
<td style="text-align: left">symbol</td>
<td style="text-align: left">Yes</td>
<td style="text-align: left">String</td>
<td style="text-align: left">Currency pair</td>
</tr>
<tr>
<td style="text-align: left">type</td>
<td style="text-align: left">Yes</td>
<td style="text-align: left">String</td>
<td style="text-align: left">Channel type</td>
</tr>
</tbody></table>
<h2 id='f0aac927lc0o'>Swap Public Subscription</h2>
<p><code>/notification/ws</code></p>
<h3 id='15721f90mmiz'>Swap Candles</h3><h4 id='22da1a05om2k'>Request Parameters</h4>
<blockquote>
<p>Request Example</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
    </span><span class="nl">"event"</span><span class="p">:</span><span class="w"> </span><span class="s2">"sub"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"params"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nl">"biz"</span><span class="p">:</span><span class="w"> </span><span class="s2">"market"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"swap.candles"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"symbol"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BTCUSDT"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"interval"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1min"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nl">"zip"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div><div class="highlight"><pre class="highlight python tab-python"><code><span class="kn">import</span> <span class="nn">asyncio</span>
<span class="kn">import</span> <span class="nn">json</span>
<span class="kn">import</span> <span class="nn">websockets</span>

<span class="k">async</span> <span class="k">def</span> <span class="nf">handle_websocket</span><span class="p">():</span>
    <span class="k">async</span> <span class="k">with</span> <span class="n">websockets</span><span class="p">.</span><span class="n">connect</span><span class="p">(</span><span class="s">"wss://stream.uzx.com/notification/ws"</span><span class="p">)</span> <span class="k">as</span> <span class="n">ws</span><span class="p">:</span>
        <span class="k">await</span> <span class="n">ws</span><span class="p">.</span><span class="n">send</span><span class="p">(</span><span class="n">json</span><span class="p">.</span><span class="n">dumps</span><span class="p">({</span>
            <span class="s">"event"</span><span class="p">:</span> <span class="s">"sub"</span><span class="p">,</span>
            <span class="s">"params"</span><span class="p">:</span> <span class="p">{</span>
                <span class="s">"biz"</span><span class="p">:</span> <span class="s">"market"</span><span class="p">,</span>
                <span class="s">"type"</span><span class="p">:</span> <span class="s">"swap.candles"</span><span class="p">,</span>
                <span class="s">"symbol"</span><span class="p">:</span> <span class="s">"BTCUSDT"</span><span class="p">,</span>
                <span class="s">"interval"</span><span class="p">:</span> <span class="s">"1min"</span>
            <span class="p">},</span>
            <span class="s">"zip"</span><span class="p">:</span> <span class="bp">False</span>
        <span class="p">}))</span>

        <span class="k">while</span> <span class="bp">True</span><span class="p">:</span>
            <span class="n">msg</span> <span class="o">=</span> <span class="k">await</span> <span class="n">ws</span><span class="p">.</span><span class="n">recv</span><span class="p">()</span>
            <span class="n">data</span> <span class="o">=</span> <span class="n">json</span><span class="p">.</span><span class="n">loads</span><span class="p">(</span><span class="n">msg</span><span class="p">)</span>
            <span class="k">if</span> <span class="s">"ping"</span> <span class="ow">in</span> <span class="n">data</span><span class="p">:</span>
                <span class="k">await</span> <span class="n">ws</span><span class="p">.</span><span class="n">send</span><span class="p">(</span><span class="n">json</span><span class="p">.</span><span class="n">dumps</span><span class="p">({</span><span class="s">"pong"</span><span class="p">:</span> <span class="n">data</span><span class="p">[</span><span class="s">"ping"</span><span class="p">]}))</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="k">print</span><span class="p">(</span><span class="n">json</span><span class="p">.</span><span class="n">dumps</span><span class="p">(</span><span class="n">data</span><span class="p">,</span> <span class="n">indent</span><span class="o">=</span><span class="mi">2</span><span class="p">))</span>

<span class="n">asyncio</span><span class="p">.</span><span class="n">run</span><span class="p">(</span><span class="n">handle_websocket</span><span class="p">())</span>
</code></pre></div><div class="highlight"><pre class="highlight go tab-go"><code><span class="k">package</span> <span class="n">main</span>

<span class="k">import</span> <span class="p">(</span>
    <span class="s">"encoding/json"</span>
    <span class="s">"fmt"</span>
    <span class="s">"github.com/gorilla/websocket"</span>
    <span class="s">"log"</span>
    <span class="s">"net"</span>
    <span class="s">"net/http"</span>
    <span class="s">"time"</span>
<span class="p">)</span>

<span class="k">func</span> <span class="n">main</span><span class="p">()</span> <span class="p">{</span>
    <span class="n">url</span> <span class="o">:=</span> <span class="s">"wss://stream.uzx.com/notification/ws"</span>

    <span class="c">// Custom dialer configuration</span>
    <span class="n">dialer</span> <span class="o">:=</span> <span class="o">&amp;</span><span class="n">websocket</span><span class="o">.</span><span class="n">Dialer</span><span class="p">{</span>
        <span class="n">Proxy</span><span class="o">:</span> <span class="n">http</span><span class="o">.</span><span class="n">ProxyFromEnvironment</span><span class="p">,</span>
        <span class="n">NetDial</span><span class="o">:</span> <span class="k">func</span><span class="p">(</span><span class="n">network</span><span class="p">,</span> <span class="n">addr</span> <span class="kt">string</span><span class="p">)</span> <span class="p">(</span><span class="n">net</span><span class="o">.</span><span class="n">Conn</span><span class="p">,</span> <span class="kt">error</span><span class="p">)</span> <span class="p">{</span>
            <span class="c">// Force use of IPv4</span>
            <span class="k">return</span> <span class="n">net</span><span class="o">.</span><span class="n">Dial</span><span class="p">(</span><span class="s">"tcp4"</span><span class="p">,</span> <span class="n">addr</span><span class="p">)</span>
        <span class="p">},</span>
        <span class="n">HandshakeTimeout</span><span class="o">:</span> <span class="m">10</span> <span class="o">*</span> <span class="n">time</span><span class="o">.</span><span class="n">Second</span><span class="p">,</span>
    <span class="p">}</span>

    <span class="c">// Establish WebSocket connection</span>
    <span class="n">c</span><span class="p">,</span> <span class="n">_</span><span class="p">,</span> <span class="n">err</span> <span class="o">:=</span> <span class="n">dialer</span><span class="o">.</span><span class="n">Dial</span><span class="p">(</span><span class="n">url</span><span class="p">,</span> <span class="no">nil</span><span class="p">)</span>
    <span class="k">if</span> <span class="n">err</span> <span class="o">!=</span> <span class="no">nil</span> <span class="p">{</span>
        <span class="n">log</span><span class="o">.</span><span class="n">Fatal</span><span class="p">(</span><span class="s">"Connection failed:"</span><span class="p">,</span> <span class="n">err</span><span class="p">)</span>
    <span class="p">}</span>
    <span class="k">defer</span> <span class="n">c</span><span class="o">.</span><span class="n">Close</span><span class="p">()</span>

    <span class="c">// Subscribe to messages</span>
    <span class="n">subMsg</span> <span class="o">:=</span> <span class="k">map</span><span class="p">[</span><span class="kt">string</span><span class="p">]</span><span class="k">interface</span><span class="p">{}{</span>
        <span class="s">"event"</span><span class="o">:</span> <span class="s">"sub"</span><span class="p">,</span>
        <span class="s">"params"</span><span class="o">:</span> <span class="k">map</span><span class="p">[</span><span class="kt">string</span><span class="p">]</span><span class="k">interface</span><span class="p">{}{</span>
            <span class="s">"biz"</span><span class="o">:</span>      <span class="s">"market"</span><span class="p">,</span>
            <span class="s">"type"</span><span class="o">:</span>     <span class="s">"swap.candles"</span><span class="p">,</span>
            <span class="s">"symbol"</span><span class="o">:</span>   <span class="s">"BTCUSDT"</span><span class="p">,</span>
            <span class="s">"interval"</span><span class="o">:</span> <span class="s">"1min"</span><span class="p">,</span>
        <span class="p">},</span>
        <span class="s">"zip"</span><span class="o">:</span> <span class="no">false</span><span class="p">,</span>
    <span class="p">}</span>
    <span class="n">err</span> <span class="o">=</span> <span class="n">c</span><span class="o">.</span><span class="n">WriteJSON</span><span class="p">(</span><span class="n">subMsg</span><span class="p">)</span>
    <span class="k">if</span> <span class="n">err</span> <span class="o">!=</span> <span class="no">nil</span> <span class="p">{</span>
        <span class="n">log</span><span class="o">.</span><span class="n">Fatal</span><span class="p">(</span><span class="s">"Failed to send subscription:"</span><span class="p">,</span> <span class="n">err</span><span class="p">)</span>
    <span class="p">}</span>
    <span class="n">fmt</span><span class="o">.</span><span class="n">Println</span><span class="p">(</span><span class="s">"Subscription request sent:"</span><span class="p">,</span> <span class="n">subMsg</span><span class="p">)</span>

    <span class="c">// Handle messages</span>
    <span class="k">for</span> <span class="p">{</span>
        <span class="n">_</span><span class="p">,</span> <span class="n">message</span><span class="p">,</span> <span class="n">err</span> <span class="o">:=</span> <span class="n">c</span><span class="o">.</span><span class="n">ReadMessage</span><span class="p">()</span>
        <span class="k">if</span> <span class="n">err</span> <span class="o">!=</span> <span class="no">nil</span> <span class="p">{</span>
            <span class="n">log</span><span class="o">.</span><span class="n">Println</span><span class="p">(</span><span class="s">"Error reading message:"</span><span class="p">,</span> <span class="n">err</span><span class="p">)</span>
            <span class="k">return</span>
        <span class="p">}</span>

        <span class="k">var</span> <span class="n">data</span> <span class="k">map</span><span class="p">[</span><span class="kt">string</span><span class="p">]</span><span class="k">interface</span><span class="p">{}</span>
        <span class="k">if</span> <span class="n">err</span> <span class="o">:=</span> <span class="n">json</span><span class="o">.</span><span class="n">Unmarshal</span><span class="p">(</span><span class="n">message</span><span class="p">,</span> <span class="o">&amp;</span><span class="n">data</span><span class="p">);</span> <span class="n">err</span> <span class="o">!=</span> <span class="no">nil</span> <span class="p">{</span>
            <span class="n">log</span><span class="o">.</span><span class="n">Println</span><span class="p">(</span><span class="s">"Failed to parse JSON:"</span><span class="p">,</span> <span class="n">err</span><span class="p">)</span>
            <span class="k">continue</span>
        <span class="p">}</span>

        <span class="c">// Handle ping message</span>
        <span class="k">if</span> <span class="n">ping</span><span class="p">,</span> <span class="n">ok</span> <span class="o">:=</span> <span class="n">data</span><span class="p">[</span><span class="s">"ping"</span><span class="p">]</span><span class="o">.</span><span class="p">(</span><span class="kt">float64</span><span class="p">);</span> <span class="n">ok</span> <span class="p">{</span>
            <span class="n">pong</span> <span class="o">:=</span> <span class="k">map</span><span class="p">[</span><span class="kt">string</span><span class="p">]</span><span class="k">interface</span><span class="p">{}{</span><span class="s">"pong"</span><span class="o">:</span> <span class="n">ping</span><span class="p">}</span>
            <span class="k">if</span> <span class="n">err</span> <span class="o">:=</span> <span class="n">c</span><span class="o">.</span><span class="n">WriteJSON</span><span class="p">(</span><span class="n">pong</span><span class="p">);</span> <span class="n">err</span> <span class="o">!=</span> <span class="no">nil</span> <span class="p">{</span>
                <span class="n">log</span><span class="o">.</span><span class="n">Println</span><span class="p">(</span><span class="s">"Failed to send pong:"</span><span class="p">,</span> <span class="n">err</span><span class="p">)</span>
                <span class="k">return</span>
            <span class="p">}</span>
            <span class="n">fmt</span><span class="o">.</span><span class="n">Println</span><span class="p">(</span><span class="s">"Pong response sent"</span><span class="p">)</span>
            <span class="k">continue</span>
        <span class="p">}</span>

        <span class="c">// Print other messages</span>
        <span class="n">pretty</span><span class="p">,</span> <span class="n">_</span> <span class="o">:=</span> <span class="n">json</span><span class="o">.</span><span class="n">MarshalIndent</span><span class="p">(</span><span class="n">data</span><span class="p">,</span> <span class="s">""</span><span class="p">,</span> <span class="s">"  "</span><span class="p">)</span>
        <span class="n">fmt</span><span class="o">.</span><span class="n">Printf</span><span class="p">(</span><span class="s">"</span><span class="se">\n</span><span class="s">Received message:</span><span class="se">\n</span><span class="s">%s</span><span class="se">\n</span><span class="s">"</span><span class="p">,</span> <span class="n">pretty</span><span class="p">)</span>
    <span class="p">}</span>
<span class="p">}</span>
</code></pre></div><div class="highlight"><pre class="highlight java tab-java"><code><span class="kn">import</span> <span class="nn">java.io.IOException</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">java.net.URI</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">java.net.http.HttpClient</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">java.net.http.WebSocket</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">java.nio.ByteBuffer</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">java.util.concurrent.CompletionStage</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">java.util.concurrent.CountDownLatch</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">java.util.concurrent.TimeUnit</span><span class="o">;</span>

<span class="kd">public</span> <span class="kd">class</span> <span class="nc">WebSocketClient</span> <span class="o">{</span>
    <span class="kd">private</span> <span class="kd">static</span> <span class="nc">CountDownLatch</span> <span class="n">latch</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">CountDownLatch</span><span class="o">(</span><span class="mi">1</span><span class="o">);</span>

    <span class="kd">public</span> <span class="kd">static</span> <span class="kt">void</span> <span class="nf">main</span><span class="o">(</span><span class="nc">String</span><span class="o">[]</span> <span class="n">args</span><span class="o">)</span> <span class="o">{</span>
        <span class="nc">HttpClient</span> <span class="n">client</span> <span class="o">=</span> <span class="nc">HttpClient</span><span class="o">.</span><span class="na">newHttpClient</span><span class="o">();</span>
        <span class="nc">String</span> <span class="n">uri</span> <span class="o">=</span> <span class="s">"wss://stream.uzx.com/notification/ws"</span><span class="o">;</span>

        <span class="nc">WebSocket</span> <span class="n">webSocket</span> <span class="o">=</span> <span class="n">client</span><span class="o">.</span><span class="na">newWebSocketBuilder</span><span class="o">()</span>
               <span class="o">.</span><span class="na">buildAsync</span><span class="o">(</span><span class="no">URI</span><span class="o">.</span><span class="na">create</span><span class="o">(</span><span class="n">uri</span><span class="o">),</span> <span class="k">new</span> <span class="nc">WebSocket</span><span class="o">.</span><span class="na">Listener</span><span class="o">()</span> <span class="o">{</span>
                    <span class="nd">@Override</span>
                    <span class="kd">public</span> <span class="kt">void</span> <span class="nf">onOpen</span><span class="o">(</span><span class="nc">WebSocket</span> <span class="n">webSocket</span><span class="o">)</span> <span class="o">{</span>
                        <span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">"Connection established"</span><span class="o">);</span>
                        <span class="c1">// Send subscription message</span>
                        <span class="nc">String</span> <span class="n">subscribeMsg</span> <span class="o">=</span> <span class="s">"{\"event\":\"sub\",\"params\":{\"biz\":\"market\",\"type\":\"swap.candles\",\"symbol\":\"BTCUSDT\",\"interval\":\"1min\"},\"zip\":false}"</span><span class="o">;</span>
                        <span class="n">webSocket</span><span class="o">.</span><span class="na">sendText</span><span class="o">(</span><span class="n">subscribeMsg</span><span class="o">,</span> <span class="kc">true</span><span class="o">);</span>
                        <span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">"Subscription request sent: "</span> <span class="o">+</span> <span class="n">subscribeMsg</span><span class="o">);</span>
                        <span class="nc">WebSocket</span><span class="o">.</span><span class="na">Listener</span><span class="o">.</span><span class="na">super</span><span class="o">.</span><span class="na">onOpen</span><span class="o">(</span><span class="n">webSocket</span><span class="o">);</span>
                    <span class="o">}</span>

                    <span class="nd">@Override</span>
                    <span class="kd">public</span> <span class="nc">CompletionStage</span><span class="o">&lt;?&gt;</span> <span class="n">onText</span><span class="o">(</span><span class="nc">WebSocket</span> <span class="n">webSocket</span><span class="o">,</span> <span class="nc">CharSequence</span> <span class="n">data</span><span class="o">,</span> <span class="kt">boolean</span> <span class="n">last</span><span class="o">)</span> <span class="o">{</span>
                        <span class="nc">String</span> <span class="n">message</span> <span class="o">=</span> <span class="n">data</span><span class="o">.</span><span class="na">toString</span><span class="o">();</span>
                        <span class="k">try</span> <span class="o">{</span>
                            <span class="c1">// Handle ping message</span>
                            <span class="k">if</span> <span class="o">(</span><span class="n">message</span><span class="o">.</span><span class="na">contains</span><span class="o">(</span><span class="s">"\"ping\""</span><span class="o">))</span> <span class="o">{</span>
                                <span class="nc">String</span> <span class="n">pongMsg</span> <span class="o">=</span> <span class="n">message</span><span class="o">.</span><span class="na">replace</span><span class="o">(</span><span class="s">"\"ping\""</span><span class="o">,</span> <span class="s">"\"pong\""</span><span class="o">);</span>
                                <span class="n">webSocket</span><span class="o">.</span><span class="na">sendText</span><span class="o">(</span><span class="n">pongMsg</span><span class="o">,</span> <span class="kc">true</span><span class="o">);</span>
                                <span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">"Pong response sent"</span><span class="o">);</span>
                            <span class="o">}</span> <span class="k">else</span> <span class="o">{</span>
                                <span class="c1">// Print other messages</span>
                                <span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">"\nReceived message:"</span><span class="o">);</span>
                                <span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="n">message</span><span class="o">);</span>
                            <span class="o">}</span>
                        <span class="o">}</span> <span class="k">catch</span> <span class="o">(</span><span class="nc">Exception</span> <span class="n">e</span><span class="o">)</span> <span class="o">{</span>
                            <span class="n">e</span><span class="o">.</span><span class="na">printStackTrace</span><span class="o">();</span>
                        <span class="o">}</span>
                        <span class="k">return</span> <span class="nc">WebSocket</span><span class="o">.</span><span class="na">Listener</span><span class="o">.</span><span class="na">super</span><span class="o">.</span><span class="na">onText</span><span class="o">(</span><span class="n">webSocket</span><span class="o">,</span> <span class="n">data</span><span class="o">,</span> <span class="n">last</span><span class="o">);</span>
                    <span class="o">}</span>

                    <span class="nd">@Override</span>
                    <span class="kd">public</span> <span class="nc">CompletionStage</span><span class="o">&lt;?&gt;</span> <span class="n">onClose</span><span class="o">(</span><span class="nc">WebSocket</span> <span class="n">webSocket</span><span class="o">,</span> <span class="kt">int</span> <span class="n">statusCode</span><span class="o">,</span> <span class="nc">String</span> <span class="n">reason</span><span class="o">)</span> <span class="o">{</span>
                        <span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">"Connection closed: status code "</span> <span class="o">+</span> <span class="n">statusCode</span> <span class="o">+</span> <span class="s">", reason: "</span> <span class="o">+</span> <span class="n">reason</span><span class="o">);</span>
                        <span class="n">latch</span><span class="o">.</span><span class="na">countDown</span><span class="o">();</span>
                        <span class="k">return</span> <span class="nc">WebSocket</span><span class="o">.</span><span class="na">Listener</span><span class="o">.</span><span class="na">super</span><span class="o">.</span><span class="na">onClose</span><span class="o">(</span><span class="n">webSocket</span><span class="o">,</span> <span class="n">statusCode</span><span class="o">,</span> <span class="n">reason</span><span class="o">);</span>
                    <span class="o">}</span>

                    <span class="nd">@Override</span>
                    <span class="kd">public</span> <span class="kt">void</span> <span class="nf">onError</span><span class="o">(</span><span class="nc">WebSocket</span> <span class="n">webSocket</span><span class="o">,</span> <span class="nc">Throwable</span> <span class="n">error</span><span class="o">)</span> <span class="o">{</span>
                        <span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">"Error occurred:"</span><span class="o">);</span>
                        <span class="n">error</span><span class="o">.</span><span class="na">printStackTrace</span><span class="o">();</span>
                        <span class="n">latch</span><span class="o">.</span><span class="na">countDown</span><span class="o">();</span>
                    <span class="o">}</span>
                <span class="o">}).</span><span class="na">join</span><span class="o">();</span>

        <span class="k">try</span> <span class="o">{</span>
            <span class="c1">// Keep the connection alive</span>
            <span class="n">latch</span><span class="o">.</span><span class="na">await</span><span class="o">(</span><span class="mi">1</span><span class="o">,</span> <span class="nc">TimeUnit</span><span class="o">.</span><span class="na">HOURS</span><span class="o">);</span>
        <span class="o">}</span> <span class="k">catch</span> <span class="o">(</span><span class="nc">InterruptedException</span> <span class="n">e</span><span class="o">)</span> <span class="o">{</span>
            <span class="n">e</span><span class="o">.</span><span class="na">printStackTrace</span><span class="o">();</span>
            <span class="nc">Thread</span><span class="o">.</span><span class="na">currentThread</span><span class="o">().</span><span class="na">interrupt</span><span class="o">();</span>
        <span class="o">}</span>
    <span class="o">}</span>
<span class="o">}</span>
</code></pre></div>
<table><thead>
<tr>
<th style="text-align: left">Parameter Name</th>
<th style="text-align: left">Required</th>
<th style="text-align: left">Type</th>
<th style="text-align: left">Description</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left">event</td>
<td style="text-align: left">Yes</td>
<td style="text-align: left">string</td>
<td style="text-align: left">Operation</td>
</tr>
<tr>
<td style="text-align: left">params</td>
<td style="text-align: left">Yes</td>
<td style="text-align: left">object</td>
<td style="text-align: left">Subscription parameter information</td>
</tr>
<tr>
<td style="text-align: left">&gt;symbol</td>
<td style="text-align: left">Yes</td>
<td style="text-align: left">string</td>
<td style="text-align: left">Product Name (currency pair)</td>
</tr>
<tr>
<td style="text-align: left">&gt;biz</td>
<td style="text-align: left">Yes</td>
<td style="text-align: left">string</td>
<td style="text-align: left">Type, <code>market</code></td>
</tr>
<tr>
<td style="text-align: left">&gt;type</td>
<td style="text-align: left">Yes</td>
<td style="text-align: left">string</td>
<td style="text-align: left">Channel name</td>
</tr>
<tr>
<td style="text-align: left">&gt;interval</td>
<td style="text-align: left">No</td>
<td style="text-align: left">string</td>
<td style="text-align: left">Period</td>
</tr>
<tr>
<td style="text-align: left">zip</td>
<td style="text-align: left">Yes</td>
<td style="text-align: left">Boolean</td>
<td style="text-align: left">Whether to enable gzip</td>
</tr>
</tbody></table>
<h4 id='a222a51e9pb0'>Response Parameters</h4>
<blockquote>
<p>Response Example</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
    </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
    </span><span class="nl">"event"</span><span class="p">:</span><span class="w"> </span><span class="s2">"subscribe"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"topic"</span><span class="p">:</span><span class="w"> </span><span class="s2">"swap.BTCUSDT.kline.1min"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ok"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<table><thead>
<tr>
<th style="text-align: left">Parameter Name</th>
<th style="text-align: left">Type</th>
<th style="text-align: left">Description</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left">id</td>
<td style="text-align: left">String</td>
<td style="text-align: left">Ignore this field</td>
</tr>
<tr>
<td style="text-align: left">event</td>
<td style="text-align: left">String</td>
<td style="text-align: left">Event type</td>
</tr>
<tr>
<td style="text-align: left">topic</td>
<td style="text-align: left">String</td>
<td style="text-align: left">Topic name</td>
</tr>
<tr>
<td style="text-align: left">status</td>
<td style="text-align: left">String</td>
<td style="text-align: left">Status code</td>
</tr>
</tbody></table>
<h4 id='5efa6fabm8b0'>FEED Parameter Description</h4>
<blockquote>
<p>FEED Example</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"type"</span><span class="p">:</span><span class="s2">"swap.market.candles"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"product_name"</span><span class="p">:</span><span class="s2">"BTCUSDT"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"interval"</span><span class="p">:</span><span class="s2">"1min"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"data"</span><span class="p">:{</span><span class="w">
    </span><span class="nl">"open"</span><span class="p">:</span><span class="s2">"106566.7"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"close"</span><span class="p">:</span><span class="s2">"106592.1"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"high"</span><span class="p">:</span><span class="s2">"106592.1"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"low"</span><span class="p">:</span><span class="s2">"106555.9"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"turn_over"</span><span class="p">:</span><span class="s2">"471445.0658"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"vol"</span><span class="p">:</span><span class="s2">"4.424"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"count"</span><span class="p">:</span><span class="mi">66</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<table><thead>
<tr>
<th style="text-align: left">Parameter Name</th>
<th style="text-align: left">Type</th>
<th style="text-align: left">Description</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left">data</td>
<td style="text-align: left">Object</td>
<td style="text-align: left">Returned data</td>
</tr>
<tr>
<td style="text-align: left">&gt;close</td>
<td style="text-align: left">String</td>
<td style="text-align: left">Closing price of the period</td>
</tr>
<tr>
<td style="text-align: left">&gt;count</td>
<td style="text-align: left">Int</td>
<td style="text-align: left">Number of trades</td>
</tr>
<tr>
<td style="text-align: left">&gt;high</td>
<td style="text-align: left">String</td>
<td style="text-align: left">Highest price of the period</td>
</tr>
<tr>
<td style="text-align: left">&gt;low</td>
<td style="text-align: left">String</td>
<td style="text-align: left">Lowest price of the period</td>
</tr>
<tr>
<td style="text-align: left">&gt;open</td>
<td style="text-align: left">String</td>
<td style="text-align: left">Opening price of the period</td>
</tr>
<tr>
<td style="text-align: left">&gt;turn_over</td>
<td style="text-align: left">String</td>
<td style="text-align: left">Total trade amount</td>
</tr>
<tr>
<td style="text-align: left">&gt;vol</td>
<td style="text-align: left">String</td>
<td style="text-align: left">Trade volume in the quoted currency</td>
</tr>
<tr>
<td style="text-align: left">interval</td>
<td style="text-align: left">String</td>
<td style="text-align: left">Period</td>
</tr>
<tr>
<td style="text-align: left">product_name</td>
<td style="text-align: left">String</td>
<td style="text-align: left">Product Name</td>
</tr>
<tr>
<td style="text-align: left">type</td>
<td style="text-align: left">String</td>
<td style="text-align: left">Channel name</td>
</tr>
</tbody></table>
<h3 id='42d866cc3cfa'>Swap Overview</h3><h4 id='22da1a05gqqf'>Request Parameters</h4>
<blockquote>
<p>Request Example</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
    </span><span class="nl">"event"</span><span class="p">:</span><span class="w"> </span><span class="s2">"sub"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"params"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nl">"biz"</span><span class="p">:</span><span class="w"> </span><span class="s2">"market"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"swap.overview"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nl">"zip"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div><div class="highlight"><pre class="highlight python tab-python"><code><span class="kn">import</span> <span class="nn">asyncio</span>
<span class="kn">import</span> <span class="nn">json</span>
<span class="kn">import</span> <span class="nn">websockets</span>

<span class="k">async</span> <span class="k">def</span> <span class="nf">handle_websocket</span><span class="p">():</span>
    <span class="k">async</span> <span class="k">with</span> <span class="n">websockets</span><span class="p">.</span><span class="n">connect</span><span class="p">(</span><span class="s">"wss://stream.uzx.com/notification/ws"</span><span class="p">)</span> <span class="k">as</span> <span class="n">ws</span><span class="p">:</span>
        <span class="k">await</span> <span class="n">ws</span><span class="p">.</span><span class="n">send</span><span class="p">(</span><span class="n">json</span><span class="p">.</span><span class="n">dumps</span><span class="p">({</span>
            <span class="s">"event"</span><span class="p">:</span> <span class="s">"sub"</span><span class="p">,</span>
            <span class="s">"params"</span><span class="p">:</span> <span class="p">{</span>
                <span class="s">"biz"</span><span class="p">:</span> <span class="s">"market"</span><span class="p">,</span>
                <span class="s">"type"</span><span class="p">:</span> <span class="s">"swap.overview"</span>
            <span class="p">},</span>
            <span class="s">"zip"</span><span class="p">:</span> <span class="bp">False</span>
        <span class="p">}))</span>

        <span class="k">while</span> <span class="bp">True</span><span class="p">:</span>
            <span class="n">msg</span> <span class="o">=</span> <span class="k">await</span> <span class="n">ws</span><span class="p">.</span><span class="n">recv</span><span class="p">()</span>
            <span class="n">data</span> <span class="o">=</span> <span class="n">json</span><span class="p">.</span><span class="n">loads</span><span class="p">(</span><span class="n">msg</span><span class="p">)</span>
            <span class="k">if</span> <span class="s">"ping"</span> <span class="ow">in</span> <span class="n">data</span><span class="p">:</span>
                <span class="k">await</span> <span class="n">ws</span><span class="p">.</span><span class="n">send</span><span class="p">(</span><span class="n">json</span><span class="p">.</span><span class="n">dumps</span><span class="p">({</span><span class="s">"pong"</span><span class="p">:</span> <span class="n">data</span><span class="p">[</span><span class="s">"ping"</span><span class="p">]}))</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="k">print</span><span class="p">(</span><span class="n">json</span><span class="p">.</span><span class="n">dumps</span><span class="p">(</span><span class="n">data</span><span class="p">,</span> <span class="n">indent</span><span class="o">=</span><span class="mi">2</span><span class="p">))</span>

<span class="n">asyncio</span><span class="p">.</span><span class="n">run</span><span class="p">(</span><span class="n">handle_websocket</span><span class="p">())</span>
</code></pre></div><div class="highlight"><pre class="highlight go tab-go"><code><span class="k">package</span> <span class="n">main</span>

<span class="k">import</span> <span class="p">(</span>
    <span class="s">"encoding/json"</span>
    <span class="s">"fmt"</span>
    <span class="s">"github.com/gorilla/websocket"</span>
    <span class="s">"log"</span>
    <span class="s">"net"</span>
    <span class="s">"net/http"</span>
    <span class="s">"time"</span>
<span class="p">)</span>

<span class="k">func</span> <span class="n">main</span><span class="p">()</span> <span class="p">{</span>
    <span class="n">url</span> <span class="o">:=</span> <span class="s">"wss://stream.uzx.com/notification/ws"</span>

    <span class="c">// Custom dialer configuration</span>
    <span class="n">dialer</span> <span class="o">:=</span> <span class="o">&amp;</span><span class="n">websocket</span><span class="o">.</span><span class="n">Dialer</span><span class="p">{</span>
        <span class="n">Proxy</span><span class="o">:</span> <span class="n">http</span><span class="o">.</span><span class="n">ProxyFromEnvironment</span><span class="p">,</span>
        <span class="n">NetDial</span><span class="o">:</span> <span class="k">func</span><span class="p">(</span><span class="n">network</span><span class="p">,</span> <span class="n">addr</span> <span class="kt">string</span><span class="p">)</span> <span class="p">(</span><span class="n">net</span><span class="o">.</span><span class="n">Conn</span><span class="p">,</span> <span class="kt">error</span><span class="p">)</span> <span class="p">{</span>
            <span class="c">// Force use of IPv4</span>
            <span class="k">return</span> <span class="n">net</span><span class="o">.</span><span class="n">Dial</span><span class="p">(</span><span class="s">"tcp4"</span><span class="p">,</span> <span class="n">addr</span><span class="p">)</span>
        <span class="p">},</span>
        <span class="n">HandshakeTimeout</span><span class="o">:</span> <span class="m">10</span> <span class="o">*</span> <span class="n">time</span><span class="o">.</span><span class="n">Second</span><span class="p">,</span>
    <span class="p">}</span>

    <span class="c">// Establish WebSocket connection</span>
    <span class="n">c</span><span class="p">,</span> <span class="n">_</span><span class="p">,</span> <span class="n">err</span> <span class="o">:=</span> <span class="n">dialer</span><span class="o">.</span><span class="n">Dial</span><span class="p">(</span><span class="n">url</span><span class="p">,</span> <span class="no">nil</span><span class="p">)</span>
    <span class="k">if</span> <span class="n">err</span> <span class="o">!=</span> <span class="no">nil</span> <span class="p">{</span>
        <span class="n">log</span><span class="o">.</span><span class="n">Fatal</span><span class="p">(</span><span class="s">"Connection failed:"</span><span class="p">,</span> <span class="n">err</span><span class="p">)</span>
    <span class="p">}</span>
    <span class="k">defer</span> <span class="n">c</span><span class="o">.</span><span class="n">Close</span><span class="p">()</span>

    <span class="c">// Subscribe to messages</span>
    <span class="n">subMsg</span> <span class="o">:=</span> <span class="k">map</span><span class="p">[</span><span class="kt">string</span><span class="p">]</span><span class="k">interface</span><span class="p">{}{</span>
        <span class="s">"event"</span><span class="o">:</span> <span class="s">"sub"</span><span class="p">,</span>
        <span class="s">"params"</span><span class="o">:</span> <span class="k">map</span><span class="p">[</span><span class="kt">string</span><span class="p">]</span><span class="k">interface</span><span class="p">{}{</span>
            <span class="s">"biz"</span><span class="o">:</span>      <span class="s">"market"</span><span class="p">,</span>
            <span class="s">"type"</span><span class="o">:</span>     <span class="s">"swap.overview"</span><span class="p">,</span>
        <span class="p">},</span>
        <span class="s">"zip"</span><span class="o">:</span> <span class="no">false</span><span class="p">,</span>
    <span class="p">}</span>
    <span class="n">err</span> <span class="o">=</span> <span class="n">c</span><span class="o">.</span><span class="n">WriteJSON</span><span class="p">(</span><span class="n">subMsg</span><span class="p">)</span>
    <span class="k">if</span> <span class="n">err</span> <span class="o">!=</span> <span class="no">nil</span> <span class="p">{</span>
        <span class="n">log</span><span class="o">.</span><span class="n">Fatal</span><span class="p">(</span><span class="s">"Failed to send subscription:"</span><span class="p">,</span> <span class="n">err</span><span class="p">)</span>
    <span class="p">}</span>
    <span class="n">fmt</span><span class="o">.</span><span class="n">Println</span><span class="p">(</span><span class="s">"Subscription request sent:"</span><span class="p">,</span> <span class="n">subMsg</span><span class="p">)</span>

    <span class="c">// Handle messages</span>
    <span class="k">for</span> <span class="p">{</span>
        <span class="n">_</span><span class="p">,</span> <span class="n">message</span><span class="p">,</span> <span class="n">err</span> <span class="o">:=</span> <span class="n">c</span><span class="o">.</span><span class="n">ReadMessage</span><span class="p">()</span>
        <span class="k">if</span> <span class="n">err</span> <span class="o">!=</span> <span class="no">nil</span> <span class="p">{</span>
            <span class="n">log</span><span class="o">.</span><span class="n">Println</span><span class="p">(</span><span class="s">"Error reading message:"</span><span class="p">,</span> <span class="n">err</span><span class="p">)</span>
            <span class="k">return</span>
        <span class="p">}</span>

        <span class="k">var</span> <span class="n">data</span> <span class="k">map</span><span class="p">[</span><span class="kt">string</span><span class="p">]</span><span class="k">interface</span><span class="p">{}</span>
        <span class="k">if</span> <span class="n">err</span> <span class="o">:=</span> <span class="n">json</span><span class="o">.</span><span class="n">Unmarshal</span><span class="p">(</span><span class="n">message</span><span class="p">,</span> <span class="o">&amp;</span><span class="n">data</span><span class="p">);</span> <span class="n">err</span> <span class="o">!=</span> <span class="no">nil</span> <span class="p">{</span>
            <span class="n">log</span><span class="o">.</span><span class="n">Println</span><span class="p">(</span><span class="s">"Failed to parse JSON:"</span><span class="p">,</span> <span class="n">err</span><span class="p">)</span>
            <span class="k">continue</span>
        <span class="p">}</span>

        <span class="c">// Handle ping message</span>
        <span class="k">if</span> <span class="n">ping</span><span class="p">,</span> <span class="n">ok</span> <span class="o">:=</span> <span class="n">data</span><span class="p">[</span><span class="s">"ping"</span><span class="p">]</span><span class="o">.</span><span class="p">(</span><span class="kt">float64</span><span class="p">);</span> <span class="n">ok</span> <span class="p">{</span>
            <span class="n">pong</span> <span class="o">:=</span> <span class="k">map</span><span class="p">[</span><span class="kt">string</span><span class="p">]</span><span class="k">interface</span><span class="p">{}{</span><span class="s">"pong"</span><span class="o">:</span> <span class="n">ping</span><span class="p">}</span>
            <span class="k">if</span> <span class="n">err</span> <span class="o">:=</span> <span class="n">c</span><span class="o">.</span><span class="n">WriteJSON</span><span class="p">(</span><span class="n">pong</span><span class="p">);</span> <span class="n">err</span> <span class="o">!=</span> <span class="no">nil</span> <span class="p">{</span>
                <span class="n">log</span><span class="o">.</span><span class="n">Println</span><span class="p">(</span><span class="s">"Failed to send pong:"</span><span class="p">,</span> <span class="n">err</span><span class="p">)</span>
                <span class="k">return</span>
            <span class="p">}</span>
            <span class="n">fmt</span><span class="o">.</span><span class="n">Println</span><span class="p">(</span><span class="s">"Pong response sent"</span><span class="p">)</span>
            <span class="k">continue</span>
        <span class="p">}</span>

        <span class="c">// Print other messages</span>
        <span class="n">pretty</span><span class="p">,</span> <span class="n">_</span> <span class="o">:=</span> <span class="n">json</span><span class="o">.</span><span class="n">MarshalIndent</span><span class="p">(</span><span class="n">data</span><span class="p">,</span> <span class="s">""</span><span class="p">,</span> <span class="s">"  "</span><span class="p">)</span>
        <span class="n">fmt</span><span class="o">.</span><span class="n">Printf</span><span class="p">(</span><span class="s">"</span><span class="se">\n</span><span class="s">Received message:</span><span class="se">\n</span><span class="s">%s</span><span class="se">\n</span><span class="s">"</span><span class="p">,</span> <span class="n">pretty</span><span class="p">)</span>
    <span class="p">}</span>
<span class="p">}</span>
</code></pre></div><div class="highlight"><pre class="highlight java tab-java"><code><span class="kn">import</span> <span class="nn">java.io.IOException</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">java.net.URI</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">java.net.http.HttpClient</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">java.net.http.WebSocket</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">java.nio.ByteBuffer</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">java.util.concurrent.CompletionStage</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">java.util.concurrent.CountDownLatch</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">java.util.concurrent.TimeUnit</span><span class="o">;</span>

<span class="kd">public</span> <span class="kd">class</span> <span class="nc">WebSocketClient</span> <span class="o">{</span>
    <span class="kd">private</span> <span class="kd">static</span> <span class="nc">CountDownLatch</span> <span class="n">latch</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">CountDownLatch</span><span class="o">(</span><span class="mi">1</span><span class="o">);</span>

    <span class="kd">public</span> <span class="kd">static</span> <span class="kt">void</span> <span class="nf">main</span><span class="o">(</span><span class="nc">String</span><span class="o">[]</span> <span class="n">args</span><span class="o">)</span> <span class="o">{</span>
        <span class="nc">HttpClient</span> <span class="n">client</span> <span class="o">=</span> <span class="nc">HttpClient</span><span class="o">.</span><span class="na">newHttpClient</span><span class="o">();</span>
        <span class="nc">String</span> <span class="n">uri</span> <span class="o">=</span> <span class="s">"wss://stream.uzx.com/notification/ws"</span><span class="o">;</span>

        <span class="nc">WebSocket</span> <span class="n">webSocket</span> <span class="o">=</span> <span class="n">client</span><span class="o">.</span><span class="na">newWebSocketBuilder</span><span class="o">()</span>
               <span class="o">.</span><span class="na">buildAsync</span><span class="o">(</span><span class="no">URI</span><span class="o">.</span><span class="na">create</span><span class="o">(</span><span class="n">uri</span><span class="o">),</span> <span class="k">new</span> <span class="nc">WebSocket</span><span class="o">.</span><span class="na">Listener</span><span class="o">()</span> <span class="o">{</span>
                    <span class="nd">@Override</span>
                    <span class="kd">public</span> <span class="kt">void</span> <span class="nf">onOpen</span><span class="o">(</span><span class="nc">WebSocket</span> <span class="n">webSocket</span><span class="o">)</span> <span class="o">{</span>
                        <span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">"Connection established"</span><span class="o">);</span>
                        <span class="c1">// Send subscription message</span>
                        <span class="nc">String</span> <span class="n">subscribeMsg</span> <span class="o">=</span> <span class="s">"{\"event\":\"sub\",\"params\":{\"biz\":\"market\",\"type\":\"swap.overview\"},\"zip\":false}"</span><span class="o">;</span>
                        <span class="n">webSocket</span><span class="o">.</span><span class="na">sendText</span><span class="o">(</span><span class="n">subscribeMsg</span><span class="o">,</span> <span class="kc">true</span><span class="o">);</span>
                        <span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">"Subscription request sent: "</span> <span class="o">+</span> <span class="n">subscribeMsg</span><span class="o">);</span>
                        <span class="nc">WebSocket</span><span class="o">.</span><span class="na">Listener</span><span class="o">.</span><span class="na">super</span><span class="o">.</span><span class="na">onOpen</span><span class="o">(</span><span class="n">webSocket</span><span class="o">);</span>
                    <span class="o">}</span>

                    <span class="nd">@Override</span>
                    <span class="kd">public</span> <span class="nc">CompletionStage</span><span class="o">&lt;?&gt;</span> <span class="n">onText</span><span class="o">(</span><span class="nc">WebSocket</span> <span class="n">webSocket</span><span class="o">,</span> <span class="nc">CharSequence</span> <span class="n">data</span><span class="o">,</span> <span class="kt">boolean</span> <span class="n">last</span><span class="o">)</span> <span class="o">{</span>
                        <span class="nc">String</span> <span class="n">message</span> <span class="o">=</span> <span class="n">data</span><span class="o">.</span><span class="na">toString</span><span class="o">();</span>
                        <span class="k">try</span> <span class="o">{</span>
                            <span class="c1">// Handle ping message</span>
                            <span class="k">if</span> <span class="o">(</span><span class="n">message</span><span class="o">.</span><span class="na">contains</span><span class="o">(</span><span class="s">"\"ping\""</span><span class="o">))</span> <span class="o">{</span>
                                <span class="nc">String</span> <span class="n">pongMsg</span> <span class="o">=</span> <span class="n">message</span><span class="o">.</span><span class="na">replace</span><span class="o">(</span><span class="s">"\"ping\""</span><span class="o">,</span> <span class="s">"\"pong\""</span><span class="o">);</span>
                                <span class="n">webSocket</span><span class="o">.</span><span class="na">sendText</span><span class="o">(</span><span class="n">pongMsg</span><span class="o">,</span> <span class="kc">true</span><span class="o">);</span>
                                <span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">"Pong response sent"</span><span class="o">);</span>
                            <span class="o">}</span> <span class="k">else</span> <span class="o">{</span>
                                <span class="c1">// Print other messages</span>
                                <span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">"\nReceived message:"</span><span class="o">);</span>
                                <span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="n">message</span><span class="o">);</span>
                            <span class="o">}</span>
                        <span class="o">}</span> <span class="k">catch</span> <span class="o">(</span><span class="nc">Exception</span> <span class="n">e</span><span class="o">)</span> <span class="o">{</span>
                            <span class="n">e</span><span class="o">.</span><span class="na">printStackTrace</span><span class="o">();</span>
                        <span class="o">}</span>
                        <span class="k">return</span> <span class="nc">WebSocket</span><span class="o">.</span><span class="na">Listener</span><span class="o">.</span><span class="na">super</span><span class="o">.</span><span class="na">onText</span><span class="o">(</span><span class="n">webSocket</span><span class="o">,</span> <span class="n">data</span><span class="o">,</span> <span class="n">last</span><span class="o">);</span>
                    <span class="o">}</span>

                    <span class="nd">@Override</span>
                    <span class="kd">public</span> <span class="nc">CompletionStage</span><span class="o">&lt;?&gt;</span> <span class="n">onClose</span><span class="o">(</span><span class="nc">WebSocket</span> <span class="n">webSocket</span><span class="o">,</span> <span class="kt">int</span> <span class="n">statusCode</span><span class="o">,</span> <span class="nc">String</span> <span class="n">reason</span><span class="o">)</span> <span class="o">{</span>
                        <span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">"Connection closed: status code "</span> <span class="o">+</span> <span class="n">statusCode</span> <span class="o">+</span> <span class="s">", reason: "</span> <span class="o">+</span> <span class="n">reason</span><span class="o">);</span>
                        <span class="n">latch</span><span class="o">.</span><span class="na">countDown</span><span class="o">();</span>
                        <span class="k">return</span> <span class="nc">WebSocket</span><span class="o">.</span><span class="na">Listener</span><span class="o">.</span><span class="na">super</span><span class="o">.</span><span class="na">onClose</span><span class="o">(</span><span class="n">webSocket</span><span class="o">,</span> <span class="n">statusCode</span><span class="o">,</span> <span class="n">reason</span><span class="o">);</span>
                    <span class="o">}</span>

                    <span class="nd">@Override</span>
                    <span class="kd">public</span> <span class="kt">void</span> <span class="nf">onError</span><span class="o">(</span><span class="nc">WebSocket</span> <span class="n">webSocket</span><span class="o">,</span> <span class="nc">Throwable</span> <span class="n">error</span><span class="o">)</span> <span class="o">{</span>
                        <span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">"Error occurred:"</span><span class="o">);</span>
                        <span class="n">error</span><span class="o">.</span><span class="na">printStackTrace</span><span class="o">();</span>
                        <span class="n">latch</span><span class="o">.</span><span class="na">countDown</span><span class="o">();</span>
                    <span class="o">}</span>
                <span class="o">}).</span><span class="na">join</span><span class="o">();</span>

        <span class="k">try</span> <span class="o">{</span>
            <span class="c1">// Keep the connection alive</span>
            <span class="n">latch</span><span class="o">.</span><span class="na">await</span><span class="o">(</span><span class="mi">1</span><span class="o">,</span> <span class="nc">TimeUnit</span><span class="o">.</span><span class="na">HOURS</span><span class="o">);</span>
        <span class="o">}</span> <span class="k">catch</span> <span class="o">(</span><span class="nc">InterruptedException</span> <span class="n">e</span><span class="o">)</span> <span class="o">{</span>
            <span class="n">e</span><span class="o">.</span><span class="na">printStackTrace</span><span class="o">();</span>
            <span class="nc">Thread</span><span class="o">.</span><span class="na">currentThread</span><span class="o">().</span><span class="na">interrupt</span><span class="o">();</span>
        <span class="o">}</span>
    <span class="o">}</span>
<span class="o">}</span>
</code></pre></div>
<table><thead>
<tr>
<th style="text-align: left">Parameter Name</th>
<th style="text-align: left">Required</th>
<th style="text-align: left">Type</th>
<th style="text-align: left">Description</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left">event</td>
<td style="text-align: left">Yes</td>
<td style="text-align: left">String</td>
<td style="text-align: left">Operation</td>
</tr>
<tr>
<td style="text-align: left">params</td>
<td style="text-align: left">Yes</td>
<td style="text-align: left">Object</td>
<td style="text-align: left">Subscription parameter information</td>
</tr>
<tr>
<td style="text-align: left">&gt;biz</td>
<td style="text-align: left">Yes</td>
<td style="text-align: left">String</td>
<td style="text-align: left">Type, <code>market</code></td>
</tr>
<tr>
<td style="text-align: left">&gt;type</td>
<td style="text-align: left">Yes</td>
<td style="text-align: left">String</td>
<td style="text-align: left">Channel name</td>
</tr>
<tr>
<td style="text-align: left">zip</td>
<td style="text-align: left">Yes</td>
<td style="text-align: left">Boolean</td>
<td style="text-align: left">Whether to enable gzip</td>
</tr>
</tbody></table>
<h4 id='a222a51ee6o2'>Response Parameters</h4>
<blockquote>
<p>Response Example</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
    </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
    </span><span class="nl">"event"</span><span class="p">:</span><span class="w"> </span><span class="s2">"subscribe"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"topic"</span><span class="p">:</span><span class="w"> </span><span class="s2">"swap.overview"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ok"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<table><thead>
<tr>
<th style="text-align: left">Parameter Name</th>
<th style="text-align: left">Type</th>
<th style="text-align: left">Description</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left">id</td>
<td style="text-align: left">String</td>
<td style="text-align: left">Ignore this field</td>
</tr>
<tr>
<td style="text-align: left">event</td>
<td style="text-align: left">String</td>
<td style="text-align: left">Event type</td>
</tr>
<tr>
<td style="text-align: left">topic</td>
<td style="text-align: left">String</td>
<td style="text-align: left">Topic name</td>
</tr>
<tr>
<td style="text-align: left">status</td>
<td style="text-align: left">String</td>
<td style="text-align: left">Status code</td>
</tr>
</tbody></table>
<h4 id='5efa6fabq1la'>FEED Parameter Description</h4>
<blockquote>
<p>Feed Example</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"type"</span><span class="p">:</span><span class="s2">"swap.overview"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"code"</span><span class="p">:</span><span class="mi">200</span><span class="p">,</span><span class="w">
  </span><span class="nl">"ts"</span><span class="p">:</span><span class="mi">1697034749887</span><span class="p">,</span><span class="w">
  </span><span class="nl">"msg"</span><span class="p">:</span><span class="s2">"success"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"data"</span><span class="p">:[</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="nl">"market"</span><span class="p">:{</span><span class="w">
        </span><span class="nl">"open"</span><span class="p">:</span><span class="s2">"107575.2"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"close"</span><span class="p">:</span><span class="s2">"106660.1"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"low"</span><span class="p">:</span><span class="s2">"106538.5"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"high"</span><span class="p">:</span><span class="s2">"107916.6"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"turn_over"</span><span class="p">:</span><span class="s2">"1146662269.8977"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"count"</span><span class="p">:</span><span class="mi">0</span><span class="p">,</span><span class="w">
        </span><span class="nl">"vol"</span><span class="p">:</span><span class="s2">"10693.421"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"change"</span><span class="p">:</span><span class="s2">"-915.1"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"change_percent"</span><span class="p">:</span><span class="s2">"-0.0085066074708668912537462166001085752"</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="nl">"index"</span><span class="p">:{</span><span class="w">
        </span><span class="nl">"open"</span><span class="p">:</span><span class="s2">"107143.5"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"close"</span><span class="p">:</span><span class="s2">"106712.4"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"low"</span><span class="p">:</span><span class="s2">"106597.9"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"high"</span><span class="p">:</span><span class="s2">"107542.1"</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="nl">"tag"</span><span class="p">:{</span><span class="w">
        </span><span class="nl">"open"</span><span class="p">:</span><span class="s2">"107091.8"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"close"</span><span class="p">:</span><span class="s2">"106662.9"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"low"</span><span class="p">:</span><span class="s2">"106548.5"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"high"</span><span class="p">:</span><span class="s2">"107492.3"</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="nl">"funding_rate"</span><span class="p">:</span><span class="s2">"0.0000511"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"funding_next_time"</span><span class="p">:</span><span class="mi">1751385600</span><span class="p">,</span><span class="w">
      </span><span class="nl">"pre_funding_rate"</span><span class="p">:</span><span class="s2">"0.0000511"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"symbol"</span><span class="p">:</span><span class="s2">"BTCUSDT"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"risk_fund"</span><span class="p">:</span><span class="s2">"0"</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<table><thead>
<tr>
<th style="text-align: left">Parameter Name</th>
<th style="text-align: left">Type</th>
<th style="text-align: left">Description</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left">code</td>
<td style="text-align: left">Int</td>
<td style="text-align: left">Success code</td>
</tr>
<tr>
<td style="text-align: left">data</td>
<td style="text-align: left">Array</td>
<td style="text-align: left">Returned information</td>
</tr>
<tr>
<td style="text-align: left">&gt; market</td>
<td style="text-align: left">Object</td>
<td style="text-align: left">Market price changes</td>
</tr>
<tr>
<td style="text-align: left">&gt;&gt; open</td>
<td style="text-align: left">String</td>
<td style="text-align: left">Opening price</td>
</tr>
<tr>
<td style="text-align: left">&gt;&gt; close</td>
<td style="text-align: left">String</td>
<td style="text-align: left">Closing price</td>
</tr>
<tr>
<td style="text-align: left">&gt;&gt; low</td>
<td style="text-align: left">String</td>
<td style="text-align: left">Lowest price</td>
</tr>
<tr>
<td style="text-align: left">&gt;&gt; high</td>
<td style="text-align: left">String</td>
<td style="text-align: left">Highest price</td>
</tr>
<tr>
<td style="text-align: left">&gt;&gt; turn_over</td>
<td style="text-align: left">String</td>
<td style="text-align: left">Total trade amount</td>
</tr>
<tr>
<td style="text-align: left">&gt;&gt; count</td>
<td style="text-align: left">Integer</td>
<td style="text-align: left">Number of trades</td>
</tr>
<tr>
<td style="text-align: left">&gt;&gt; vol</td>
<td style="text-align: left">String</td>
<td style="text-align: left">Trade volume in the quoted currency</td>
</tr>
<tr>
<td style="text-align: left">&gt;&gt; change</td>
<td style="text-align: left">String</td>
<td style="text-align: left">Price change</td>
</tr>
<tr>
<td style="text-align: left">&gt;&gt; change_percent</td>
<td style="text-align: left">String</td>
<td style="text-align: left">Price change percentage</td>
</tr>
<tr>
<td style="text-align: left">&gt; index</td>
<td style="text-align: left">Object</td>
<td style="text-align: left">Index price</td>
</tr>
<tr>
<td style="text-align: left">&gt;&gt; open</td>
<td style="text-align: left">String</td>
<td style="text-align: left">Opening price</td>
</tr>
<tr>
<td style="text-align: left">&gt;&gt; close</td>
<td style="text-align: left">String</td>
<td style="text-align: left">Closing price</td>
</tr>
<tr>
<td style="text-align: left">&gt;&gt; low</td>
<td style="text-align: left">String</td>
<td style="text-align: left">Lowest price</td>
</tr>
<tr>
<td style="text-align: left">&gt;&gt; high</td>
<td style="text-align: left">String</td>
<td style="text-align: left">Highest price</td>
</tr>
<tr>
<td style="text-align: left">&gt; tag</td>
<td style="text-align: left">Object</td>
<td style="text-align: left">Mark price</td>
</tr>
<tr>
<td style="text-align: left">&gt;&gt; open</td>
<td style="text-align: left">String</td>
<td style="text-align: left">Opening price</td>
</tr>
<tr>
<td style="text-align: left">&gt;&gt; close</td>
<td style="text-align: left">String</td>
<td style="text-align: left">Closing price</td>
</tr>
<tr>
<td style="text-align: left">&gt;&gt; low</td>
<td style="text-align: left">String</td>
<td style="text-align: left">Lowest price</td>
</tr>
<tr>
<td style="text-align: left">&gt;&gt; high</td>
<td style="text-align: left">String</td>
<td style="text-align: left">Highest price</td>
</tr>
<tr>
<td style="text-align: left">&gt; pre_funding_rate</td>
<td style="text-align: left">String</td>
<td style="text-align: left">Predicted funding rate</td>
</tr>
<tr>
<td style="text-align: left">&gt; funding_rate</td>
<td style="text-align: left">String</td>
<td style="text-align: left">Funding rate</td>
</tr>
<tr>
<td style="text-align: left">&gt; funding_next_time</td>
<td style="text-align: left">Integer</td>
<td style="text-align: left">Next funding time, Unix timestamp in seconds</td>
</tr>
<tr>
<td style="text-align: left">&gt; symbol</td>
<td style="text-align: left">String</td>
<td style="text-align: left">Product name</td>
</tr>
<tr>
<td style="text-align: left">&gt; risk_fund</td>
<td style="text-align: left">String</td>
<td style="text-align: left">risk reserve fund</td>
</tr>
<tr>
<td style="text-align: left">msg</td>
<td style="text-align: left">String</td>
<td style="text-align: left">Return message</td>
</tr>
<tr>
<td style="text-align: left">ts</td>
<td style="text-align: left">Int</td>
<td style="text-align: left">Time of the response, in milliseconds since the Unix epoch, e.g., 1652974473071</td>
</tr>
<tr>
<td style="text-align: left">type</td>
<td style="text-align: left">String</td>
<td style="text-align: left">Channel name</td>
</tr>
</tbody></table>
<h3 id='91a6cfd9lxyk'>Swap Fills</h3><h4 id='22da1a0587vw'>Request Parameters</h4>
<blockquote>
<p>Request Example</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
    </span><span class="nl">"event"</span><span class="p">:</span><span class="w"> </span><span class="s2">"sub"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"params"</span><span class="p">:{</span><span class="w">
        </span><span class="nl">"biz"</span><span class="p">:</span><span class="s2">"market"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"type"</span><span class="p">:</span><span class="s2">"swap.fills"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"symbol"</span><span class="p">:</span><span class="s2">"BTCUSDT"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nl">"zip"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div><div class="highlight"><pre class="highlight python tab-python"><code><span class="kn">import</span> <span class="nn">asyncio</span>
<span class="kn">import</span> <span class="nn">json</span>
<span class="kn">import</span> <span class="nn">websockets</span>

<span class="k">async</span> <span class="k">def</span> <span class="nf">handle_websocket</span><span class="p">():</span>
    <span class="k">async</span> <span class="k">with</span> <span class="n">websockets</span><span class="p">.</span><span class="n">connect</span><span class="p">(</span><span class="s">"wss://stream.uzx.com/notification/ws"</span><span class="p">)</span> <span class="k">as</span> <span class="n">ws</span><span class="p">:</span>
        <span class="k">await</span> <span class="n">ws</span><span class="p">.</span><span class="n">send</span><span class="p">(</span><span class="n">json</span><span class="p">.</span><span class="n">dumps</span><span class="p">({</span>
            <span class="s">"event"</span><span class="p">:</span> <span class="s">"sub"</span><span class="p">,</span>
            <span class="s">"params"</span><span class="p">:</span> <span class="p">{</span>
                <span class="s">"biz"</span><span class="p">:</span> <span class="s">"market"</span><span class="p">,</span>
                <span class="s">"type"</span><span class="p">:</span> <span class="s">"swap.fills"</span><span class="p">,</span>
                <span class="s">"symbol"</span><span class="p">:</span> <span class="s">"BTCUSDT"</span>
            <span class="p">},</span>
            <span class="s">"zip"</span><span class="p">:</span> <span class="bp">False</span>
        <span class="p">}))</span>

        <span class="k">while</span> <span class="bp">True</span><span class="p">:</span>
            <span class="n">msg</span> <span class="o">=</span> <span class="k">await</span> <span class="n">ws</span><span class="p">.</span><span class="n">recv</span><span class="p">()</span>
            <span class="n">data</span> <span class="o">=</span> <span class="n">json</span><span class="p">.</span><span class="n">loads</span><span class="p">(</span><span class="n">msg</span><span class="p">)</span>
            <span class="k">if</span> <span class="s">"ping"</span> <span class="ow">in</span> <span class="n">data</span><span class="p">:</span>
                <span class="k">await</span> <span class="n">ws</span><span class="p">.</span><span class="n">send</span><span class="p">(</span><span class="n">json</span><span class="p">.</span><span class="n">dumps</span><span class="p">({</span><span class="s">"pong"</span><span class="p">:</span> <span class="n">data</span><span class="p">[</span><span class="s">"ping"</span><span class="p">]}))</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="k">print</span><span class="p">(</span><span class="n">json</span><span class="p">.</span><span class="n">dumps</span><span class="p">(</span><span class="n">data</span><span class="p">,</span> <span class="n">indent</span><span class="o">=</span><span class="mi">2</span><span class="p">))</span>

<span class="n">asyncio</span><span class="p">.</span><span class="n">run</span><span class="p">(</span><span class="n">handle_websocket</span><span class="p">())</span>
</code></pre></div><div class="highlight"><pre class="highlight go tab-go"><code><span class="k">package</span> <span class="n">main</span>

<span class="k">import</span> <span class="p">(</span>
    <span class="s">"encoding/json"</span>
    <span class="s">"fmt"</span>
    <span class="s">"github.com/gorilla/websocket"</span>
    <span class="s">"log"</span>
    <span class="s">"net"</span>
    <span class="s">"net/http"</span>
    <span class="s">"time"</span>
<span class="p">)</span>

<span class="k">func</span> <span class="n">main</span><span class="p">()</span> <span class="p">{</span>
    <span class="n">url</span> <span class="o">:=</span> <span class="s">"wss://stream.uzx.com/notification/ws"</span>

    <span class="c">// Custom dialer configuration</span>
    <span class="n">dialer</span> <span class="o">:=</span> <span class="o">&amp;</span><span class="n">websocket</span><span class="o">.</span><span class="n">Dialer</span><span class="p">{</span>
        <span class="n">Proxy</span><span class="o">:</span> <span class="n">http</span><span class="o">.</span><span class="n">ProxyFromEnvironment</span><span class="p">,</span>
        <span class="n">NetDial</span><span class="o">:</span> <span class="k">func</span><span class="p">(</span><span class="n">network</span><span class="p">,</span> <span class="n">addr</span> <span class="kt">string</span><span class="p">)</span> <span class="p">(</span><span class="n">net</span><span class="o">.</span><span class="n">Conn</span><span class="p">,</span> <span class="kt">error</span><span class="p">)</span> <span class="p">{</span>
            <span class="c">// Force use of IPv4</span>
            <span class="k">return</span> <span class="n">net</span><span class="o">.</span><span class="n">Dial</span><span class="p">(</span><span class="s">"tcp4"</span><span class="p">,</span> <span class="n">addr</span><span class="p">)</span>
        <span class="p">},</span>
        <span class="n">HandshakeTimeout</span><span class="o">:</span> <span class="m">10</span> <span class="o">*</span> <span class="n">time</span><span class="o">.</span><span class="n">Second</span><span class="p">,</span>
    <span class="p">}</span>

    <span class="c">// Establish WebSocket connection</span>
    <span class="n">c</span><span class="p">,</span> <span class="n">_</span><span class="p">,</span> <span class="n">err</span> <span class="o">:=</span> <span class="n">dialer</span><span class="o">.</span><span class="n">Dial</span><span class="p">(</span><span class="n">url</span><span class="p">,</span> <span class="no">nil</span><span class="p">)</span>
    <span class="k">if</span> <span class="n">err</span> <span class="o">!=</span> <span class="no">nil</span> <span class="p">{</span>
        <span class="n">log</span><span class="o">.</span><span class="n">Fatal</span><span class="p">(</span><span class="s">"Connection failed:"</span><span class="p">,</span> <span class="n">err</span><span class="p">)</span>
    <span class="p">}</span>
    <span class="k">defer</span> <span class="n">c</span><span class="o">.</span><span class="n">Close</span><span class="p">()</span>

    <span class="c">// Subscribe to messages</span>
    <span class="n">subMsg</span> <span class="o">:=</span> <span class="k">map</span><span class="p">[</span><span class="kt">string</span><span class="p">]</span><span class="k">interface</span><span class="p">{}{</span>
        <span class="s">"event"</span><span class="o">:</span> <span class="s">"sub"</span><span class="p">,</span>
        <span class="s">"params"</span><span class="o">:</span> <span class="k">map</span><span class="p">[</span><span class="kt">string</span><span class="p">]</span><span class="k">interface</span><span class="p">{}{</span>
            <span class="s">"biz"</span><span class="o">:</span>      <span class="s">"market"</span><span class="p">,</span>
            <span class="s">"type"</span><span class="o">:</span>     <span class="s">"swap.fills"</span><span class="p">,</span>
            <span class="s">"symbol"</span><span class="o">:</span>   <span class="s">"BTCUSDT"</span><span class="p">,</span>
        <span class="p">},</span>
        <span class="s">"zip"</span><span class="o">:</span> <span class="no">false</span><span class="p">,</span>
    <span class="p">}</span>
    <span class="n">err</span> <span class="o">=</span> <span class="n">c</span><span class="o">.</span><span class="n">WriteJSON</span><span class="p">(</span><span class="n">subMsg</span><span class="p">)</span>
    <span class="k">if</span> <span class="n">err</span> <span class="o">!=</span> <span class="no">nil</span> <span class="p">{</span>
        <span class="n">log</span><span class="o">.</span><span class="n">Fatal</span><span class="p">(</span><span class="s">"Failed to send subscription:"</span><span class="p">,</span> <span class="n">err</span><span class="p">)</span>
    <span class="p">}</span>
    <span class="n">fmt</span><span class="o">.</span><span class="n">Println</span><span class="p">(</span><span class="s">"Subscription request sent:"</span><span class="p">,</span> <span class="n">subMsg</span><span class="p">)</span>

    <span class="c">// Handle messages</span>
    <span class="k">for</span> <span class="p">{</span>
        <span class="n">_</span><span class="p">,</span> <span class="n">message</span><span class="p">,</span> <span class="n">err</span> <span class="o">:=</span> <span class="n">c</span><span class="o">.</span><span class="n">ReadMessage</span><span class="p">()</span>
        <span class="k">if</span> <span class="n">err</span> <span class="o">!=</span> <span class="no">nil</span> <span class="p">{</span>
            <span class="n">log</span><span class="o">.</span><span class="n">Println</span><span class="p">(</span><span class="s">"Error reading message:"</span><span class="p">,</span> <span class="n">err</span><span class="p">)</span>
            <span class="k">return</span>
        <span class="p">}</span>

        <span class="k">var</span> <span class="n">data</span> <span class="k">map</span><span class="p">[</span><span class="kt">string</span><span class="p">]</span><span class="k">interface</span><span class="p">{}</span>
        <span class="k">if</span> <span class="n">err</span> <span class="o">:=</span> <span class="n">json</span><span class="o">.</span><span class="n">Unmarshal</span><span class="p">(</span><span class="n">message</span><span class="p">,</span> <span class="o">&amp;</span><span class="n">data</span><span class="p">);</span> <span class="n">err</span> <span class="o">!=</span> <span class="no">nil</span> <span class="p">{</span>
            <span class="n">log</span><span class="o">.</span><span class="n">Println</span><span class="p">(</span><span class="s">"Failed to parse JSON:"</span><span class="p">,</span> <span class="n">err</span><span class="p">)</span>
            <span class="k">continue</span>
        <span class="p">}</span>

        <span class="c">// Handle ping message</span>
        <span class="k">if</span> <span class="n">ping</span><span class="p">,</span> <span class="n">ok</span> <span class="o">:=</span> <span class="n">data</span><span class="p">[</span><span class="s">"ping"</span><span class="p">]</span><span class="o">.</span><span class="p">(</span><span class="kt">float64</span><span class="p">);</span> <span class="n">ok</span> <span class="p">{</span>
            <span class="n">pong</span> <span class="o">:=</span> <span class="k">map</span><span class="p">[</span><span class="kt">string</span><span class="p">]</span><span class="k">interface</span><span class="p">{}{</span><span class="s">"pong"</span><span class="o">:</span> <span class="n">ping</span><span class="p">}</span>
            <span class="k">if</span> <span class="n">err</span> <span class="o">:=</span> <span class="n">c</span><span class="o">.</span><span class="n">WriteJSON</span><span class="p">(</span><span class="n">pong</span><span class="p">);</span> <span class="n">err</span> <span class="o">!=</span> <span class="no">nil</span> <span class="p">{</span>
                <span class="n">log</span><span class="o">.</span><span class="n">Println</span><span class="p">(</span><span class="s">"Failed to send pong:"</span><span class="p">,</span> <span class="n">err</span><span class="p">)</span>
                <span class="k">return</span>
            <span class="p">}</span>
            <span class="n">fmt</span><span class="o">.</span><span class="n">Println</span><span class="p">(</span><span class="s">"Pong response sent"</span><span class="p">)</span>
            <span class="k">continue</span>
        <span class="p">}</span>

        <span class="c">// Print other messages</span>
        <span class="n">pretty</span><span class="p">,</span> <span class="n">_</span> <span class="o">:=</span> <span class="n">json</span><span class="o">.</span><span class="n">MarshalIndent</span><span class="p">(</span><span class="n">data</span><span class="p">,</span> <span class="s">""</span><span class="p">,</span> <span class="s">"  "</span><span class="p">)</span>
        <span class="n">fmt</span><span class="o">.</span><span class="n">Printf</span><span class="p">(</span><span class="s">"</span><span class="se">\n</span><span class="s">Received message:</span><span class="se">\n</span><span class="s">%s</span><span class="se">\n</span><span class="s">"</span><span class="p">,</span> <span class="n">pretty</span><span class="p">)</span>
    <span class="p">}</span>
<span class="p">}</span>
</code></pre></div><div class="highlight"><pre class="highlight java tab-java"><code><span class="kn">import</span> <span class="nn">java.io.IOException</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">java.net.URI</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">java.net.http.HttpClient</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">java.net.http.WebSocket</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">java.nio.ByteBuffer</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">java.util.concurrent.CompletionStage</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">java.util.concurrent.CountDownLatch</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">java.util.concurrent.TimeUnit</span><span class="o">;</span>

<span class="kd">public</span> <span class="kd">class</span> <span class="nc">WebSocketClient</span> <span class="o">{</span>
    <span class="kd">private</span> <span class="kd">static</span> <span class="nc">CountDownLatch</span> <span class="n">latch</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">CountDownLatch</span><span class="o">(</span><span class="mi">1</span><span class="o">);</span>

    <span class="kd">public</span> <span class="kd">static</span> <span class="kt">void</span> <span class="nf">main</span><span class="o">(</span><span class="nc">String</span><span class="o">[]</span> <span class="n">args</span><span class="o">)</span> <span class="o">{</span>
        <span class="nc">HttpClient</span> <span class="n">client</span> <span class="o">=</span> <span class="nc">HttpClient</span><span class="o">.</span><span class="na">newHttpClient</span><span class="o">();</span>
        <span class="nc">String</span> <span class="n">uri</span> <span class="o">=</span> <span class="s">"wss://stream.uzx.com/notification/ws"</span><span class="o">;</span>

        <span class="nc">WebSocket</span> <span class="n">webSocket</span> <span class="o">=</span> <span class="n">client</span><span class="o">.</span><span class="na">newWebSocketBuilder</span><span class="o">()</span>
               <span class="o">.</span><span class="na">buildAsync</span><span class="o">(</span><span class="no">URI</span><span class="o">.</span><span class="na">create</span><span class="o">(</span><span class="n">uri</span><span class="o">),</span> <span class="k">new</span> <span class="nc">WebSocket</span><span class="o">.</span><span class="na">Listener</span><span class="o">()</span> <span class="o">{</span>
                    <span class="nd">@Override</span>
                    <span class="kd">public</span> <span class="kt">void</span> <span class="nf">onOpen</span><span class="o">(</span><span class="nc">WebSocket</span> <span class="n">webSocket</span><span class="o">)</span> <span class="o">{</span>
                        <span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">"Connection established"</span><span class="o">);</span>
                        <span class="c1">// Send subscription message</span>
                        <span class="nc">String</span> <span class="n">subscribeMsg</span> <span class="o">=</span> <span class="s">"{\"event\":\"sub\",\"params\":{\"biz\":\"market\",\"type\":\"swap.fills\",\"symbol\":\"BTCUSDT\"},\"zip\":false}"</span><span class="o">;</span>
                        <span class="n">webSocket</span><span class="o">.</span><span class="na">sendText</span><span class="o">(</span><span class="n">subscribeMsg</span><span class="o">,</span> <span class="kc">true</span><span class="o">);</span>
                        <span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">"Subscription request sent: "</span> <span class="o">+</span> <span class="n">subscribeMsg</span><span class="o">);</span>
                        <span class="nc">WebSocket</span><span class="o">.</span><span class="na">Listener</span><span class="o">.</span><span class="na">super</span><span class="o">.</span><span class="na">onOpen</span><span class="o">(</span><span class="n">webSocket</span><span class="o">);</span>
                    <span class="o">}</span>

                    <span class="nd">@Override</span>
                    <span class="kd">public</span> <span class="nc">CompletionStage</span><span class="o">&lt;?&gt;</span> <span class="n">onText</span><span class="o">(</span><span class="nc">WebSocket</span> <span class="n">webSocket</span><span class="o">,</span> <span class="nc">CharSequence</span> <span class="n">data</span><span class="o">,</span> <span class="kt">boolean</span> <span class="n">last</span><span class="o">)</span> <span class="o">{</span>
                        <span class="nc">String</span> <span class="n">message</span> <span class="o">=</span> <span class="n">data</span><span class="o">.</span><span class="na">toString</span><span class="o">();</span>
                        <span class="k">try</span> <span class="o">{</span>
                            <span class="c1">// Handle ping message</span>
                            <span class="k">if</span> <span class="o">(</span><span class="n">message</span><span class="o">.</span><span class="na">contains</span><span class="o">(</span><span class="s">"\"ping\""</span><span class="o">))</span> <span class="o">{</span>
                                <span class="nc">String</span> <span class="n">pongMsg</span> <span class="o">=</span> <span class="n">message</span><span class="o">.</span><span class="na">replace</span><span class="o">(</span><span class="s">"\"ping\""</span><span class="o">,</span> <span class="s">"\"pong\""</span><span class="o">);</span>
                                <span class="n">webSocket</span><span class="o">.</span><span class="na">sendText</span><span class="o">(</span><span class="n">pongMsg</span><span class="o">,</span> <span class="kc">true</span><span class="o">);</span>
                                <span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">"Pong response sent"</span><span class="o">);</span>
                            <span class="o">}</span> <span class="k">else</span> <span class="o">{</span>
                                <span class="c1">// Print other messages</span>
                                <span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">"\nReceived message:"</span><span class="o">);</span>
                                <span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="n">message</span><span class="o">);</span>
                            <span class="o">}</span>
                        <span class="o">}</span> <span class="k">catch</span> <span class="o">(</span><span class="nc">Exception</span> <span class="n">e</span><span class="o">)</span> <span class="o">{</span>
                            <span class="n">e</span><span class="o">.</span><span class="na">printStackTrace</span><span class="o">();</span>
                        <span class="o">}</span>
                        <span class="k">return</span> <span class="nc">WebSocket</span><span class="o">.</span><span class="na">Listener</span><span class="o">.</span><span class="na">super</span><span class="o">.</span><span class="na">onText</span><span class="o">(</span><span class="n">webSocket</span><span class="o">,</span> <span class="n">data</span><span class="o">,</span> <span class="n">last</span><span class="o">);</span>
                    <span class="o">}</span>

                    <span class="nd">@Override</span>
                    <span class="kd">public</span> <span class="nc">CompletionStage</span><span class="o">&lt;?&gt;</span> <span class="n">onClose</span><span class="o">(</span><span class="nc">WebSocket</span> <span class="n">webSocket</span><span class="o">,</span> <span class="kt">int</span> <span class="n">statusCode</span><span class="o">,</span> <span class="nc">String</span> <span class="n">reason</span><span class="o">)</span> <span class="o">{</span>
                        <span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">"Connection closed: status code "</span> <span class="o">+</span> <span class="n">statusCode</span> <span class="o">+</span> <span class="s">", reason: "</span> <span class="o">+</span> <span class="n">reason</span><span class="o">);</span>
                        <span class="n">latch</span><span class="o">.</span><span class="na">countDown</span><span class="o">();</span>
                        <span class="k">return</span> <span class="nc">WebSocket</span><span class="o">.</span><span class="na">Listener</span><span class="o">.</span><span class="na">super</span><span class="o">.</span><span class="na">onClose</span><span class="o">(</span><span class="n">webSocket</span><span class="o">,</span> <span class="n">statusCode</span><span class="o">,</span> <span class="n">reason</span><span class="o">);</span>
                    <span class="o">}</span>

                    <span class="nd">@Override</span>
                    <span class="kd">public</span> <span class="kt">void</span> <span class="nf">onError</span><span class="o">(</span><span class="nc">WebSocket</span> <span class="n">webSocket</span><span class="o">,</span> <span class="nc">Throwable</span> <span class="n">error</span><span class="o">)</span> <span class="o">{</span>
                        <span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">"Error occurred:"</span><span class="o">);</span>
                        <span class="n">error</span><span class="o">.</span><span class="na">printStackTrace</span><span class="o">();</span>
                        <span class="n">latch</span><span class="o">.</span><span class="na">countDown</span><span class="o">();</span>
                    <span class="o">}</span>
                <span class="o">}).</span><span class="na">join</span><span class="o">();</span>

        <span class="k">try</span> <span class="o">{</span>
            <span class="c1">// Keep the connection alive</span>
            <span class="n">latch</span><span class="o">.</span><span class="na">await</span><span class="o">(</span><span class="mi">1</span><span class="o">,</span> <span class="nc">TimeUnit</span><span class="o">.</span><span class="na">HOURS</span><span class="o">);</span>
        <span class="o">}</span> <span class="k">catch</span> <span class="o">(</span><span class="nc">InterruptedException</span> <span class="n">e</span><span class="o">)</span> <span class="o">{</span>
            <span class="n">e</span><span class="o">.</span><span class="na">printStackTrace</span><span class="o">();</span>
            <span class="nc">Thread</span><span class="o">.</span><span class="na">currentThread</span><span class="o">().</span><span class="na">interrupt</span><span class="o">();</span>
        <span class="o">}</span>
    <span class="o">}</span>
<span class="o">}</span>
</code></pre></div>
<table><thead>
<tr>
<th style="text-align: left">Parameter Name</th>
<th style="text-align: left">Required</th>
<th style="text-align: left">Type</th>
<th style="text-align: left">Description</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left">event</td>
<td style="text-align: left">Yes</td>
<td style="text-align: left">string</td>
<td style="text-align: left">Operation</td>
</tr>
<tr>
<td style="text-align: left">params</td>
<td style="text-align: left">Yes</td>
<td style="text-align: left">object</td>
<td style="text-align: left">Subscription parameter information</td>
</tr>
<tr>
<td style="text-align: left">&gt;symbol</td>
<td style="text-align: left">Yes</td>
<td style="text-align: left">string</td>
<td style="text-align: left">Product Name (currency pair)</td>
</tr>
<tr>
<td style="text-align: left">&gt;biz</td>
<td style="text-align: left">Yes</td>
<td style="text-align: left">string</td>
<td style="text-align: left">Type, <code>market</code></td>
</tr>
<tr>
<td style="text-align: left">&gt;type</td>
<td style="text-align: left">Yes</td>
<td style="text-align: left">string</td>
<td style="text-align: left">Channel name</td>
</tr>
<tr>
<td style="text-align: left">zip</td>
<td style="text-align: left">Yes</td>
<td style="text-align: left">Boolean</td>
<td style="text-align: left">Whether to enable gzip</td>
</tr>
</tbody></table>
<h4 id='a222a51eihes'>Response Parameters</h4>
<blockquote>
<p>Response Example</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
  </span><span class="nl">"event"</span><span class="p">:</span><span class="w"> </span><span class="s2">"subscribe"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"topic"</span><span class="p">:</span><span class="w"> </span><span class="s2">"swap.BTCUSDT.trade.detail"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ok"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<table><thead>
<tr>
<th style="text-align: left">Parameter Name</th>
<th style="text-align: left">Type</th>
<th style="text-align: left">Description</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left">id</td>
<td style="text-align: left">String</td>
<td style="text-align: left">Ignore this field</td>
</tr>
<tr>
<td style="text-align: left">event</td>
<td style="text-align: left">String</td>
<td style="text-align: left">Event type</td>
</tr>
<tr>
<td style="text-align: left">topic</td>
<td style="text-align: left">String</td>
<td style="text-align: left">Topic name</td>
</tr>
<tr>
<td style="text-align: left">status</td>
<td style="text-align: left">String</td>
<td style="text-align: left">Status code</td>
</tr>
</tbody></table>
<h4 id='5efa6fab5wyf'>FEED Parameter Description</h4>
<blockquote>
<p>FEED Example</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"ts"</span><span class="p">:</span><span class="mi">1751362613567</span><span class="p">,</span><span class="w">
  </span><span class="nl">"type"</span><span class="p">:</span><span class="s2">"swap.BTCUSDT.fills"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"product_name"</span><span class="p">:</span><span class="s2">"BTCUSDT"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"data"</span><span class="p">:[</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="nl">"vol"</span><span class="p">:</span><span class="s2">"4"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"ts"</span><span class="p">:</span><span class="mi">1751362613567</span><span class="p">,</span><span class="w">
      </span><span class="nl">"price"</span><span class="p">:</span><span class="s2">"106521"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"direction"</span><span class="p">:</span><span class="s2">"buy"</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<table><thead>
<tr>
<th style="text-align: left">Parameter Name</th>
<th style="text-align: left">Type</th>
<th style="text-align: left">Description</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left">data</td>
<td style="text-align: left">Array</td>
<td style="text-align: left">Returned data</td>
</tr>
<tr>
<td style="text-align: left">&gt;direction</td>
<td style="text-align: left">String</td>
<td style="text-align: left">Trade direction: <code>buy</code> or <code>sell</code></td>
</tr>
<tr>
<td style="text-align: left">&gt;price</td>
<td style="text-align: left">String</td>
<td style="text-align: left">Trade price in the quoted currency</td>
</tr>
<tr>
<td style="text-align: left">&gt;ts</td>
<td style="text-align: left">Int</td>
<td style="text-align: left">Trade time, in milliseconds since the Unix epoch, e.g., 1751362613567</td>
</tr>
<tr>
<td style="text-align: left">&gt;vol</td>
<td style="text-align: left">String</td>
<td style="text-align: left">Trade volume in the quoted currency</td>
</tr>
<tr>
<td style="text-align: left">product_name</td>
<td style="text-align: left">String</td>
<td style="text-align: left">Product Name</td>
</tr>
<tr>
<td style="text-align: left">ts</td>
<td style="text-align: left">Int</td>
<td style="text-align: left">Time of the response, in milliseconds since the Unix epoch, e.g., 1751362613567</td>
</tr>
<tr>
<td style="text-align: left">type</td>
<td style="text-align: left">String</td>
<td style="text-align: left">Channel name</td>
</tr>
</tbody></table>
<h3 id='7a80c0fdiu6k'>Swap OrderBook</h3><h4 id='22da1a05urc3'>Request Parameters</h4>
<blockquote>
<p>Request Example</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"event"</span><span class="p">:</span><span class="s2">"sub"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"params"</span><span class="p">:{</span><span class="w">
    </span><span class="nl">"biz"</span><span class="p">:</span><span class="s2">"market"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"type"</span><span class="p">:</span><span class="s2">"swap.orderbook"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"symbol"</span><span class="p">:</span><span class="s2">"BTCUSDT"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"interval"</span><span class="p">:</span><span class="s2">"0"</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="nl">"zip"</span><span class="p">:</span><span class="kc">false</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div><div class="highlight"><pre class="highlight python tab-python"><code><span class="kn">import</span> <span class="nn">asyncio</span>
<span class="kn">import</span> <span class="nn">json</span>
<span class="kn">import</span> <span class="nn">websockets</span>

<span class="k">async</span> <span class="k">def</span> <span class="nf">handle_websocket</span><span class="p">():</span>
    <span class="k">async</span> <span class="k">with</span> <span class="n">websockets</span><span class="p">.</span><span class="n">connect</span><span class="p">(</span><span class="s">"wss://stream.uzx.com/notification/ws"</span><span class="p">)</span> <span class="k">as</span> <span class="n">ws</span><span class="p">:</span>
        <span class="k">await</span> <span class="n">ws</span><span class="p">.</span><span class="n">send</span><span class="p">(</span><span class="n">json</span><span class="p">.</span><span class="n">dumps</span><span class="p">({</span>
            <span class="s">"event"</span><span class="p">:</span> <span class="s">"sub"</span><span class="p">,</span>
            <span class="s">"params"</span><span class="p">:</span> <span class="p">{</span>
                <span class="s">"biz"</span><span class="p">:</span> <span class="s">"market"</span><span class="p">,</span>
                <span class="s">"type"</span><span class="p">:</span> <span class="s">"swap.orderbook"</span><span class="p">,</span>
                <span class="s">"symbol"</span><span class="p">:</span> <span class="s">"BTCUSDT"</span><span class="p">,</span>
                <span class="s">"interval"</span><span class="p">:</span> <span class="s">"0"</span>
            <span class="p">},</span>
            <span class="s">"zip"</span><span class="p">:</span> <span class="bp">False</span>
        <span class="p">}))</span>

        <span class="k">while</span> <span class="bp">True</span><span class="p">:</span>
            <span class="n">msg</span> <span class="o">=</span> <span class="k">await</span> <span class="n">ws</span><span class="p">.</span><span class="n">recv</span><span class="p">()</span>
            <span class="n">data</span> <span class="o">=</span> <span class="n">json</span><span class="p">.</span><span class="n">loads</span><span class="p">(</span><span class="n">msg</span><span class="p">)</span>
            <span class="k">if</span> <span class="s">"ping"</span> <span class="ow">in</span> <span class="n">data</span><span class="p">:</span>
                <span class="k">await</span> <span class="n">ws</span><span class="p">.</span><span class="n">send</span><span class="p">(</span><span class="n">json</span><span class="p">.</span><span class="n">dumps</span><span class="p">({</span><span class="s">"pong"</span><span class="p">:</span> <span class="n">data</span><span class="p">[</span><span class="s">"ping"</span><span class="p">]}))</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="k">print</span><span class="p">(</span><span class="n">json</span><span class="p">.</span><span class="n">dumps</span><span class="p">(</span><span class="n">data</span><span class="p">,</span> <span class="n">indent</span><span class="o">=</span><span class="mi">2</span><span class="p">))</span>

<span class="n">asyncio</span><span class="p">.</span><span class="n">run</span><span class="p">(</span><span class="n">handle_websocket</span><span class="p">())</span>
</code></pre></div><div class="highlight"><pre class="highlight go tab-go"><code><span class="k">package</span> <span class="n">main</span>

<span class="k">import</span> <span class="p">(</span>
    <span class="s">"encoding/json"</span>
    <span class="s">"fmt"</span>
    <span class="s">"github.com/gorilla/websocket"</span>
    <span class="s">"log"</span>
    <span class="s">"net"</span>
    <span class="s">"net/http"</span>
    <span class="s">"time"</span>
<span class="p">)</span>

<span class="k">func</span> <span class="n">main</span><span class="p">()</span> <span class="p">{</span>
    <span class="n">url</span> <span class="o">:=</span> <span class="s">"wss://stream.uzx.com/notification/ws"</span>

    <span class="c">// Custom dialer configuration</span>
    <span class="n">dialer</span> <span class="o">:=</span> <span class="o">&amp;</span><span class="n">websocket</span><span class="o">.</span><span class="n">Dialer</span><span class="p">{</span>
        <span class="n">Proxy</span><span class="o">:</span> <span class="n">http</span><span class="o">.</span><span class="n">ProxyFromEnvironment</span><span class="p">,</span>
        <span class="n">NetDial</span><span class="o">:</span> <span class="k">func</span><span class="p">(</span><span class="n">network</span><span class="p">,</span> <span class="n">addr</span> <span class="kt">string</span><span class="p">)</span> <span class="p">(</span><span class="n">net</span><span class="o">.</span><span class="n">Conn</span><span class="p">,</span> <span class="kt">error</span><span class="p">)</span> <span class="p">{</span>
            <span class="c">// Force use of IPv4</span>
            <span class="k">return</span> <span class="n">net</span><span class="o">.</span><span class="n">Dial</span><span class="p">(</span><span class="s">"tcp4"</span><span class="p">,</span> <span class="n">addr</span><span class="p">)</span>
        <span class="p">},</span>
        <span class="n">HandshakeTimeout</span><span class="o">:</span> <span class="m">10</span> <span class="o">*</span> <span class="n">time</span><span class="o">.</span><span class="n">Second</span><span class="p">,</span>
    <span class="p">}</span>

    <span class="c">// Establish WebSocket connection</span>
    <span class="n">c</span><span class="p">,</span> <span class="n">_</span><span class="p">,</span> <span class="n">err</span> <span class="o">:=</span> <span class="n">dialer</span><span class="o">.</span><span class="n">Dial</span><span class="p">(</span><span class="n">url</span><span class="p">,</span> <span class="no">nil</span><span class="p">)</span>
    <span class="k">if</span> <span class="n">err</span> <span class="o">!=</span> <span class="no">nil</span> <span class="p">{</span>
        <span class="n">log</span><span class="o">.</span><span class="n">Fatal</span><span class="p">(</span><span class="s">"Connection failed:"</span><span class="p">,</span> <span class="n">err</span><span class="p">)</span>
    <span class="p">}</span>
    <span class="k">defer</span> <span class="n">c</span><span class="o">.</span><span class="n">Close</span><span class="p">()</span>

    <span class="c">// Subscribe to messages</span>
    <span class="n">subMsg</span> <span class="o">:=</span> <span class="k">map</span><span class="p">[</span><span class="kt">string</span><span class="p">]</span><span class="k">interface</span><span class="p">{}{</span>
        <span class="s">"event"</span><span class="o">:</span> <span class="s">"sub"</span><span class="p">,</span>
        <span class="s">"params"</span><span class="o">:</span> <span class="k">map</span><span class="p">[</span><span class="kt">string</span><span class="p">]</span><span class="k">interface</span><span class="p">{}{</span>
            <span class="s">"biz"</span><span class="o">:</span>      <span class="s">"market"</span><span class="p">,</span>
            <span class="s">"type"</span><span class="o">:</span>     <span class="s">"swap.orderbook"</span><span class="p">,</span>
            <span class="s">"symbol"</span><span class="o">:</span>   <span class="s">"BTCUSDT"</span><span class="p">,</span>
            <span class="s">"interval"</span><span class="o">:</span> <span class="s">"0"</span><span class="p">,</span>
        <span class="p">},</span>
        <span class="s">"zip"</span><span class="o">:</span> <span class="no">false</span><span class="p">,</span>
    <span class="p">}</span>
    <span class="n">err</span> <span class="o">=</span> <span class="n">c</span><span class="o">.</span><span class="n">WriteJSON</span><span class="p">(</span><span class="n">subMsg</span><span class="p">)</span>
    <span class="k">if</span> <span class="n">err</span> <span class="o">!=</span> <span class="no">nil</span> <span class="p">{</span>
        <span class="n">log</span><span class="o">.</span><span class="n">Fatal</span><span class="p">(</span><span class="s">"Failed to send subscription:"</span><span class="p">,</span> <span class="n">err</span><span class="p">)</span>
    <span class="p">}</span>
    <span class="n">fmt</span><span class="o">.</span><span class="n">Println</span><span class="p">(</span><span class="s">"Subscription request sent:"</span><span class="p">,</span> <span class="n">subMsg</span><span class="p">)</span>

    <span class="c">// Handle messages</span>
    <span class="k">for</span> <span class="p">{</span>
        <span class="n">_</span><span class="p">,</span> <span class="n">message</span><span class="p">,</span> <span class="n">err</span> <span class="o">:=</span> <span class="n">c</span><span class="o">.</span><span class="n">ReadMessage</span><span class="p">()</span>
        <span class="k">if</span> <span class="n">err</span> <span class="o">!=</span> <span class="no">nil</span> <span class="p">{</span>
            <span class="n">log</span><span class="o">.</span><span class="n">Println</span><span class="p">(</span><span class="s">"Error reading message:"</span><span class="p">,</span> <span class="n">err</span><span class="p">)</span>
            <span class="k">return</span>
        <span class="p">}</span>

        <span class="k">var</span> <span class="n">data</span> <span class="k">map</span><span class="p">[</span><span class="kt">string</span><span class="p">]</span><span class="k">interface</span><span class="p">{}</span>
        <span class="k">if</span> <span class="n">err</span> <span class="o">:=</span> <span class="n">json</span><span class="o">.</span><span class="n">Unmarshal</span><span class="p">(</span><span class="n">message</span><span class="p">,</span> <span class="o">&amp;</span><span class="n">data</span><span class="p">);</span> <span class="n">err</span> <span class="o">!=</span> <span class="no">nil</span> <span class="p">{</span>
            <span class="n">log</span><span class="o">.</span><span class="n">Println</span><span class="p">(</span><span class="s">"Failed to parse JSON:"</span><span class="p">,</span> <span class="n">err</span><span class="p">)</span>
            <span class="k">continue</span>
        <span class="p">}</span>

        <span class="c">// Handle ping message</span>
        <span class="k">if</span> <span class="n">ping</span><span class="p">,</span> <span class="n">ok</span> <span class="o">:=</span> <span class="n">data</span><span class="p">[</span><span class="s">"ping"</span><span class="p">]</span><span class="o">.</span><span class="p">(</span><span class="kt">float64</span><span class="p">);</span> <span class="n">ok</span> <span class="p">{</span>
            <span class="n">pong</span> <span class="o">:=</span> <span class="k">map</span><span class="p">[</span><span class="kt">string</span><span class="p">]</span><span class="k">interface</span><span class="p">{}{</span><span class="s">"pong"</span><span class="o">:</span> <span class="n">ping</span><span class="p">}</span>
            <span class="k">if</span> <span class="n">err</span> <span class="o">:=</span> <span class="n">c</span><span class="o">.</span><span class="n">WriteJSON</span><span class="p">(</span><span class="n">pong</span><span class="p">);</span> <span class="n">err</span> <span class="o">!=</span> <span class="no">nil</span> <span class="p">{</span>
                <span class="n">log</span><span class="o">.</span><span class="n">Println</span><span class="p">(</span><span class="s">"Failed to send pong:"</span><span class="p">,</span> <span class="n">err</span><span class="p">)</span>
                <span class="k">return</span>
            <span class="p">}</span>
            <span class="n">fmt</span><span class="o">.</span><span class="n">Println</span><span class="p">(</span><span class="s">"Pong response sent"</span><span class="p">)</span>
            <span class="k">continue</span>
        <span class="p">}</span>

        <span class="c">// Print other messages</span>
        <span class="n">pretty</span><span class="p">,</span> <span class="n">_</span> <span class="o">:=</span> <span class="n">json</span><span class="o">.</span><span class="n">MarshalIndent</span><span class="p">(</span><span class="n">data</span><span class="p">,</span> <span class="s">""</span><span class="p">,</span> <span class="s">"  "</span><span class="p">)</span>
        <span class="n">fmt</span><span class="o">.</span><span class="n">Printf</span><span class="p">(</span><span class="s">"</span><span class="se">\n</span><span class="s">Received message:</span><span class="se">\n</span><span class="s">%s</span><span class="se">\n</span><span class="s">"</span><span class="p">,</span> <span class="n">pretty</span><span class="p">)</span>
    <span class="p">}</span>
<span class="p">}</span>
</code></pre></div><div class="highlight"><pre class="highlight java tab-java"><code><span class="kn">import</span> <span class="nn">java.io.IOException</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">java.net.URI</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">java.net.http.HttpClient</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">java.net.http.WebSocket</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">java.nio.ByteBuffer</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">java.util.concurrent.CompletionStage</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">java.util.concurrent.CountDownLatch</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">java.util.concurrent.TimeUnit</span><span class="o">;</span>

<span class="kd">public</span> <span class="kd">class</span> <span class="nc">WebSocketClient</span> <span class="o">{</span>
    <span class="kd">private</span> <span class="kd">static</span> <span class="nc">CountDownLatch</span> <span class="n">latch</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">CountDownLatch</span><span class="o">(</span><span class="mi">1</span><span class="o">);</span>

    <span class="kd">public</span> <span class="kd">static</span> <span class="kt">void</span> <span class="nf">main</span><span class="o">(</span><span class="nc">String</span><span class="o">[]</span> <span class="n">args</span><span class="o">)</span> <span class="o">{</span>
        <span class="nc">HttpClient</span> <span class="n">client</span> <span class="o">=</span> <span class="nc">HttpClient</span><span class="o">.</span><span class="na">newHttpClient</span><span class="o">();</span>
        <span class="nc">String</span> <span class="n">uri</span> <span class="o">=</span> <span class="s">"wss://stream.uzx.com/notification/ws"</span><span class="o">;</span>

        <span class="nc">WebSocket</span> <span class="n">webSocket</span> <span class="o">=</span> <span class="n">client</span><span class="o">.</span><span class="na">newWebSocketBuilder</span><span class="o">()</span>
               <span class="o">.</span><span class="na">buildAsync</span><span class="o">(</span><span class="no">URI</span><span class="o">.</span><span class="na">create</span><span class="o">(</span><span class="n">uri</span><span class="o">),</span> <span class="k">new</span> <span class="nc">WebSocket</span><span class="o">.</span><span class="na">Listener</span><span class="o">()</span> <span class="o">{</span>
                    <span class="nd">@Override</span>
                    <span class="kd">public</span> <span class="kt">void</span> <span class="nf">onOpen</span><span class="o">(</span><span class="nc">WebSocket</span> <span class="n">webSocket</span><span class="o">)</span> <span class="o">{</span>
                        <span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">"Connection established"</span><span class="o">);</span>
                        <span class="c1">// Send subscription message</span>
                        <span class="nc">String</span> <span class="n">subscribeMsg</span> <span class="o">=</span> <span class="s">"{\"event\":\"sub\",\"params\":{\"biz\":\"market\",\"type\":\"swap.orderbook\",\"symbol\":\"BTCUSDT\",\"interval\":\"0\"},\"zip\":false}"</span><span class="o">;</span>
                        <span class="n">webSocket</span><span class="o">.</span><span class="na">sendText</span><span class="o">(</span><span class="n">subscribeMsg</span><span class="o">,</span> <span class="kc">true</span><span class="o">);</span>
                        <span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">"Subscription request sent: "</span> <span class="o">+</span> <span class="n">subscribeMsg</span><span class="o">);</span>
                        <span class="nc">WebSocket</span><span class="o">.</span><span class="na">Listener</span><span class="o">.</span><span class="na">super</span><span class="o">.</span><span class="na">onOpen</span><span class="o">(</span><span class="n">webSocket</span><span class="o">);</span>
                    <span class="o">}</span>

                    <span class="nd">@Override</span>
                    <span class="kd">public</span> <span class="nc">CompletionStage</span><span class="o">&lt;?&gt;</span> <span class="n">onText</span><span class="o">(</span><span class="nc">WebSocket</span> <span class="n">webSocket</span><span class="o">,</span> <span class="nc">CharSequence</span> <span class="n">data</span><span class="o">,</span> <span class="kt">boolean</span> <span class="n">last</span><span class="o">)</span> <span class="o">{</span>
                        <span class="nc">String</span> <span class="n">message</span> <span class="o">=</span> <span class="n">data</span><span class="o">.</span><span class="na">toString</span><span class="o">();</span>
                        <span class="k">try</span> <span class="o">{</span>
                            <span class="c1">// Handle ping message</span>
                            <span class="k">if</span> <span class="o">(</span><span class="n">message</span><span class="o">.</span><span class="na">contains</span><span class="o">(</span><span class="s">"\"ping\""</span><span class="o">))</span> <span class="o">{</span>
                                <span class="nc">String</span> <span class="n">pongMsg</span> <span class="o">=</span> <span class="n">message</span><span class="o">.</span><span class="na">replace</span><span class="o">(</span><span class="s">"\"ping\""</span><span class="o">,</span> <span class="s">"\"pong\""</span><span class="o">);</span>
                                <span class="n">webSocket</span><span class="o">.</span><span class="na">sendText</span><span class="o">(</span><span class="n">pongMsg</span><span class="o">,</span> <span class="kc">true</span><span class="o">);</span>
                                <span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">"Pong response sent"</span><span class="o">);</span>
                            <span class="o">}</span> <span class="k">else</span> <span class="o">{</span>
                                <span class="c1">// Print other messages</span>
                                <span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">"\nReceived message:"</span><span class="o">);</span>
                                <span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="n">message</span><span class="o">);</span>
                            <span class="o">}</span>
                        <span class="o">}</span> <span class="k">catch</span> <span class="o">(</span><span class="nc">Exception</span> <span class="n">e</span><span class="o">)</span> <span class="o">{</span>
                            <span class="n">e</span><span class="o">.</span><span class="na">printStackTrace</span><span class="o">();</span>
                        <span class="o">}</span>
                        <span class="k">return</span> <span class="nc">WebSocket</span><span class="o">.</span><span class="na">Listener</span><span class="o">.</span><span class="na">super</span><span class="o">.</span><span class="na">onText</span><span class="o">(</span><span class="n">webSocket</span><span class="o">,</span> <span class="n">data</span><span class="o">,</span> <span class="n">last</span><span class="o">);</span>
                    <span class="o">}</span>

                    <span class="nd">@Override</span>
                    <span class="kd">public</span> <span class="nc">CompletionStage</span><span class="o">&lt;?&gt;</span> <span class="n">onClose</span><span class="o">(</span><span class="nc">WebSocket</span> <span class="n">webSocket</span><span class="o">,</span> <span class="kt">int</span> <span class="n">statusCode</span><span class="o">,</span> <span class="nc">String</span> <span class="n">reason</span><span class="o">)</span> <span class="o">{</span>
                        <span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">"Connection closed: status code "</span> <span class="o">+</span> <span class="n">statusCode</span> <span class="o">+</span> <span class="s">", reason: "</span> <span class="o">+</span> <span class="n">reason</span><span class="o">);</span>
                        <span class="n">latch</span><span class="o">.</span><span class="na">countDown</span><span class="o">();</span>
                        <span class="k">return</span> <span class="nc">WebSocket</span><span class="o">.</span><span class="na">Listener</span><span class="o">.</span><span class="na">super</span><span class="o">.</span><span class="na">onClose</span><span class="o">(</span><span class="n">webSocket</span><span class="o">,</span> <span class="n">statusCode</span><span class="o">,</span> <span class="n">reason</span><span class="o">);</span>
                    <span class="o">}</span>

                    <span class="nd">@Override</span>
                    <span class="kd">public</span> <span class="kt">void</span> <span class="nf">onError</span><span class="o">(</span><span class="nc">WebSocket</span> <span class="n">webSocket</span><span class="o">,</span> <span class="nc">Throwable</span> <span class="n">error</span><span class="o">)</span> <span class="o">{</span>
                        <span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">"Error occurred:"</span><span class="o">);</span>
                        <span class="n">error</span><span class="o">.</span><span class="na">printStackTrace</span><span class="o">();</span>
                        <span class="n">latch</span><span class="o">.</span><span class="na">countDown</span><span class="o">();</span>
                    <span class="o">}</span>
                <span class="o">}).</span><span class="na">join</span><span class="o">();</span>

        <span class="k">try</span> <span class="o">{</span>
            <span class="c1">// Keep the connection alive</span>
            <span class="n">latch</span><span class="o">.</span><span class="na">await</span><span class="o">(</span><span class="mi">1</span><span class="o">,</span> <span class="nc">TimeUnit</span><span class="o">.</span><span class="na">HOURS</span><span class="o">);</span>
        <span class="o">}</span> <span class="k">catch</span> <span class="o">(</span><span class="nc">InterruptedException</span> <span class="n">e</span><span class="o">)</span> <span class="o">{</span>
            <span class="n">e</span><span class="o">.</span><span class="na">printStackTrace</span><span class="o">();</span>
            <span class="nc">Thread</span><span class="o">.</span><span class="na">currentThread</span><span class="o">().</span><span class="na">interrupt</span><span class="o">();</span>
        <span class="o">}</span>
    <span class="o">}</span>
<span class="o">}</span>
</code></pre></div>
<table><thead>
<tr>
<th style="text-align: left">Parameter Name</th>
<th style="text-align: left">Required</th>
<th style="text-align: left">Type</th>
<th style="text-align: left">Description</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left">event</td>
<td style="text-align: left">Yes</td>
<td style="text-align: left">String</td>
<td style="text-align: left">Operation</td>
</tr>
<tr>
<td style="text-align: left">params</td>
<td style="text-align: left">Yes</td>
<td style="text-align: left">Object</td>
<td style="text-align: left">Subscription parameter information</td>
</tr>
<tr>
<td style="text-align: left">&gt;biz</td>
<td style="text-align: left">Yes</td>
<td style="text-align: left">String</td>
<td style="text-align: left">Type, <code>market</code></td>
</tr>
<tr>
<td style="text-align: left">&gt;type</td>
<td style="text-align: left">Yes</td>
<td style="text-align: left">String</td>
<td style="text-align: left">Channel name</td>
</tr>
<tr>
<td style="text-align: left">&gt;symbol</td>
<td style="text-align: left">Yes</td>
<td style="text-align: left">String</td>
<td style="text-align: left">Product Name</td>
</tr>
<tr>
<td style="text-align: left">&gt;interval</td>
<td style="text-align: left">Yes</td>
<td style="text-align: left">String</td>
<td style="text-align: left">Depth level (0-3)</td>
</tr>
<tr>
<td style="text-align: left">zip</td>
<td style="text-align: left">Yes</td>
<td style="text-align: left">Boolean</td>
<td style="text-align: left">Whether to enable gzip</td>
</tr>
</tbody></table>
<h4 id='a222a51e3vj2'>Response Parameters</h4>
<blockquote>
<p>Response Example</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
  </span><span class="nl">"event"</span><span class="p">:</span><span class="w"> </span><span class="s2">"subscribe"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"topic"</span><span class="p">:</span><span class="w"> </span><span class="s2">"swap.BTCUSDT.depth.step0"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ok"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<table><thead>
<tr>
<th style="text-align: left">Parameter Name</th>
<th style="text-align: left">Type</th>
<th style="text-align: left">Description</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left">id</td>
<td style="text-align: left">String</td>
<td style="text-align: left">Ignore this field</td>
</tr>
<tr>
<td style="text-align: left">event</td>
<td style="text-align: left">String</td>
<td style="text-align: left">Event type</td>
</tr>
<tr>
<td style="text-align: left">topic</td>
<td style="text-align: left">String</td>
<td style="text-align: left">Topic name</td>
</tr>
<tr>
<td style="text-align: left">status</td>
<td style="text-align: left">String</td>
<td style="text-align: left">Status code</td>
</tr>
</tbody></table>
<h4 id='5efa6fab41b3'>FEED Parameter Description</h4>
<blockquote>
<p>FEED Example</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"asks"</span><span class="p">:[</span><span class="w">
    </span><span class="p">[</span><span class="w">
      </span><span class="mf">19631.36</span><span class="p">,</span><span class="w">
      </span><span class="mf">0.2041</span><span class="w">
    </span><span class="p">]</span><span class="w">
  </span><span class="p">],</span><span class="w">
  </span><span class="nl">"bids"</span><span class="p">:[</span><span class="w">
    </span><span class="p">[</span><span class="w">
      </span><span class="mf">19602.5</span><span class="p">,</span><span class="w">
      </span><span class="mf">0.1</span><span class="w">
    </span><span class="p">]</span><span class="w">
  </span><span class="p">],</span><span class="w">
  </span><span class="nl">"ts"</span><span class="p">:</span><span class="mi">1751362801514</span><span class="p">,</span><span class="w">
  </span><span class="nl">"type"</span><span class="p">:</span><span class="s2">"swap.BTCUSDT.orderBook"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"product_name"</span><span class="p">:</span><span class="s2">"BTCUSDT"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"interval"</span><span class="p">:</span><span class="s2">"0"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<blockquote>
<p>Example values for <code>asks</code> and <code>bids</code>:
<br> <code>asks</code>: <code>[19631.36, 0.2041]</code> where <code>19631.36</code> is the best ask price and <code>0.2041</code> is the best ask volume.
<br> <code>bids</code>: <code>[19602.5, 0.1]</code> where <code>19602.5</code> is the best bid price and <code>0.1</code> is the best bid volume.</p>
</blockquote>

<table><thead>
<tr>
<th style="text-align: left">Parameter Name</th>
<th style="text-align: left">Type</th>
<th style="text-align: left">Description</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left">asks</td>
<td style="text-align: left">Array</td>
<td style="text-align: left">Sell orders</td>
</tr>
<tr>
<td style="text-align: left">bids</td>
<td style="text-align: left">Array</td>
<td style="text-align: left">Buy orders</td>
</tr>
<tr>
<td style="text-align: left">interval</td>
<td style="text-align: left">Int</td>
<td style="text-align: left">Precision</td>
</tr>
<tr>
<td style="text-align: left">product_name</td>
<td style="text-align: left">String</td>
<td style="text-align: left">Product Name</td>
</tr>
<tr>
<td style="text-align: left">ts</td>
<td style="text-align: left">Int</td>
<td style="text-align: left">Time of the response, in milliseconds since the Unix epoch, e.g., 1751362801514</td>
</tr>
<tr>
<td style="text-align: left">type</td>
<td style="text-align: left">String</td>
<td style="text-align: left">Channel name</td>
</tr>
</tbody></table>
<h3 id='57ead70e2kij'>Swap Percent10</h3><h4 id='22da1a054rhz'>Request Parameters</h4>
<blockquote>
<p>Request Example</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
    </span><span class="nl">"event"</span><span class="p">:</span><span class="w"> </span><span class="s2">"sub"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"params"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nl">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"swap.percent10"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"symbol"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BTCUSDT"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nl">"zip"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div><div class="highlight"><pre class="highlight python tab-python"><code><span class="kn">import</span> <span class="nn">asyncio</span>
<span class="kn">import</span> <span class="nn">json</span>
<span class="kn">import</span> <span class="nn">websockets</span>

<span class="k">async</span> <span class="k">def</span> <span class="nf">handle_websocket</span><span class="p">():</span>
    <span class="k">async</span> <span class="k">with</span> <span class="n">websockets</span><span class="p">.</span><span class="n">connect</span><span class="p">(</span><span class="s">"wss://stream.uzx.com/notification/ws"</span><span class="p">)</span> <span class="k">as</span> <span class="n">ws</span><span class="p">:</span>
        <span class="k">await</span> <span class="n">ws</span><span class="p">.</span><span class="n">send</span><span class="p">(</span><span class="n">json</span><span class="p">.</span><span class="n">dumps</span><span class="p">({</span>
            <span class="s">"event"</span><span class="p">:</span> <span class="s">"sub"</span><span class="p">,</span>
            <span class="s">"params"</span><span class="p">:</span> <span class="p">{</span>
                <span class="s">"type"</span><span class="p">:</span> <span class="s">"swap.percent10"</span><span class="p">,</span>
                <span class="s">"symbol"</span><span class="p">:</span> <span class="s">"BTCUSDT"</span>
            <span class="p">},</span>
            <span class="s">"zip"</span><span class="p">:</span> <span class="bp">False</span>
        <span class="p">}))</span>

        <span class="k">while</span> <span class="bp">True</span><span class="p">:</span>
            <span class="n">msg</span> <span class="o">=</span> <span class="k">await</span> <span class="n">ws</span><span class="p">.</span><span class="n">recv</span><span class="p">()</span>
            <span class="n">data</span> <span class="o">=</span> <span class="n">json</span><span class="p">.</span><span class="n">loads</span><span class="p">(</span><span class="n">msg</span><span class="p">)</span>
            <span class="k">if</span> <span class="s">"ping"</span> <span class="ow">in</span> <span class="n">data</span><span class="p">:</span>
                <span class="k">await</span> <span class="n">ws</span><span class="p">.</span><span class="n">send</span><span class="p">(</span><span class="n">json</span><span class="p">.</span><span class="n">dumps</span><span class="p">({</span><span class="s">"pong"</span><span class="p">:</span> <span class="n">data</span><span class="p">[</span><span class="s">"ping"</span><span class="p">]}))</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="k">print</span><span class="p">(</span><span class="n">json</span><span class="p">.</span><span class="n">dumps</span><span class="p">(</span><span class="n">data</span><span class="p">,</span> <span class="n">indent</span><span class="o">=</span><span class="mi">2</span><span class="p">))</span>

<span class="n">asyncio</span><span class="p">.</span><span class="n">run</span><span class="p">(</span><span class="n">handle_websocket</span><span class="p">())</span>
</code></pre></div><div class="highlight"><pre class="highlight go tab-go"><code><span class="k">package</span> <span class="n">main</span>

<span class="k">import</span> <span class="p">(</span>
    <span class="s">"encoding/json"</span>
    <span class="s">"fmt"</span>
    <span class="s">"github.com/gorilla/websocket"</span>
    <span class="s">"log"</span>
    <span class="s">"net"</span>
    <span class="s">"net/http"</span>
    <span class="s">"time"</span>
<span class="p">)</span>

<span class="k">func</span> <span class="n">main</span><span class="p">()</span> <span class="p">{</span>
    <span class="n">url</span> <span class="o">:=</span> <span class="s">"wss://stream.uzx.com/notification/ws"</span>

    <span class="c">// Custom dialer configuration</span>
    <span class="n">dialer</span> <span class="o">:=</span> <span class="o">&amp;</span><span class="n">websocket</span><span class="o">.</span><span class="n">Dialer</span><span class="p">{</span>
        <span class="n">Proxy</span><span class="o">:</span> <span class="n">http</span><span class="o">.</span><span class="n">ProxyFromEnvironment</span><span class="p">,</span>
        <span class="n">NetDial</span><span class="o">:</span> <span class="k">func</span><span class="p">(</span><span class="n">network</span><span class="p">,</span> <span class="n">addr</span> <span class="kt">string</span><span class="p">)</span> <span class="p">(</span><span class="n">net</span><span class="o">.</span><span class="n">Conn</span><span class="p">,</span> <span class="kt">error</span><span class="p">)</span> <span class="p">{</span>
            <span class="c">// Force use of IPv4</span>
            <span class="k">return</span> <span class="n">net</span><span class="o">.</span><span class="n">Dial</span><span class="p">(</span><span class="s">"tcp4"</span><span class="p">,</span> <span class="n">addr</span><span class="p">)</span>
        <span class="p">},</span>
        <span class="n">HandshakeTimeout</span><span class="o">:</span> <span class="m">10</span> <span class="o">*</span> <span class="n">time</span><span class="o">.</span><span class="n">Second</span><span class="p">,</span>
    <span class="p">}</span>

    <span class="c">// Establish WebSocket connection</span>
    <span class="n">c</span><span class="p">,</span> <span class="n">_</span><span class="p">,</span> <span class="n">err</span> <span class="o">:=</span> <span class="n">dialer</span><span class="o">.</span><span class="n">Dial</span><span class="p">(</span><span class="n">url</span><span class="p">,</span> <span class="no">nil</span><span class="p">)</span>
    <span class="k">if</span> <span class="n">err</span> <span class="o">!=</span> <span class="no">nil</span> <span class="p">{</span>
        <span class="n">log</span><span class="o">.</span><span class="n">Fatal</span><span class="p">(</span><span class="s">"Connection failed:"</span><span class="p">,</span> <span class="n">err</span><span class="p">)</span>
    <span class="p">}</span>
    <span class="k">defer</span> <span class="n">c</span><span class="o">.</span><span class="n">Close</span><span class="p">()</span>

    <span class="c">// Subscribe to messages</span>
    <span class="n">subMsg</span> <span class="o">:=</span> <span class="k">map</span><span class="p">[</span><span class="kt">string</span><span class="p">]</span><span class="k">interface</span><span class="p">{}{</span>
        <span class="s">"event"</span><span class="o">:</span> <span class="s">"sub"</span><span class="p">,</span>
        <span class="s">"params"</span><span class="o">:</span> <span class="k">map</span><span class="p">[</span><span class="kt">string</span><span class="p">]</span><span class="k">interface</span><span class="p">{}{</span>
            <span class="s">"type"</span><span class="o">:</span>     <span class="s">"swap.percent10"</span><span class="p">,</span>
            <span class="s">"symbol"</span><span class="o">:</span>   <span class="s">"BTCUSDT"</span><span class="p">,</span>
        <span class="p">},</span>
        <span class="s">"zip"</span><span class="o">:</span> <span class="no">false</span><span class="p">,</span>
    <span class="p">}</span>
    <span class="n">err</span> <span class="o">=</span> <span class="n">c</span><span class="o">.</span><span class="n">WriteJSON</span><span class="p">(</span><span class="n">subMsg</span><span class="p">)</span>
    <span class="k">if</span> <span class="n">err</span> <span class="o">!=</span> <span class="no">nil</span> <span class="p">{</span>
        <span class="n">log</span><span class="o">.</span><span class="n">Fatal</span><span class="p">(</span><span class="s">"Failed to send subscription:"</span><span class="p">,</span> <span class="n">err</span><span class="p">)</span>
    <span class="p">}</span>
    <span class="n">fmt</span><span class="o">.</span><span class="n">Println</span><span class="p">(</span><span class="s">"Subscription request sent:"</span><span class="p">,</span> <span class="n">subMsg</span><span class="p">)</span>

    <span class="c">// Handle messages</span>
    <span class="k">for</span> <span class="p">{</span>
        <span class="n">_</span><span class="p">,</span> <span class="n">message</span><span class="p">,</span> <span class="n">err</span> <span class="o">:=</span> <span class="n">c</span><span class="o">.</span><span class="n">ReadMessage</span><span class="p">()</span>
        <span class="k">if</span> <span class="n">err</span> <span class="o">!=</span> <span class="no">nil</span> <span class="p">{</span>
            <span class="n">log</span><span class="o">.</span><span class="n">Println</span><span class="p">(</span><span class="s">"Error reading message:"</span><span class="p">,</span> <span class="n">err</span><span class="p">)</span>
            <span class="k">return</span>
        <span class="p">}</span>

        <span class="k">var</span> <span class="n">data</span> <span class="k">map</span><span class="p">[</span><span class="kt">string</span><span class="p">]</span><span class="k">interface</span><span class="p">{}</span>
        <span class="k">if</span> <span class="n">err</span> <span class="o">:=</span> <span class="n">json</span><span class="o">.</span><span class="n">Unmarshal</span><span class="p">(</span><span class="n">message</span><span class="p">,</span> <span class="o">&amp;</span><span class="n">data</span><span class="p">);</span> <span class="n">err</span> <span class="o">!=</span> <span class="no">nil</span> <span class="p">{</span>
            <span class="n">log</span><span class="o">.</span><span class="n">Println</span><span class="p">(</span><span class="s">"Failed to parse JSON:"</span><span class="p">,</span> <span class="n">err</span><span class="p">)</span>
            <span class="k">continue</span>
        <span class="p">}</span>

        <span class="c">// Handle ping message</span>
        <span class="k">if</span> <span class="n">ping</span><span class="p">,</span> <span class="n">ok</span> <span class="o">:=</span> <span class="n">data</span><span class="p">[</span><span class="s">"ping"</span><span class="p">]</span><span class="o">.</span><span class="p">(</span><span class="kt">float64</span><span class="p">);</span> <span class="n">ok</span> <span class="p">{</span>
            <span class="n">pong</span> <span class="o">:=</span> <span class="k">map</span><span class="p">[</span><span class="kt">string</span><span class="p">]</span><span class="k">interface</span><span class="p">{}{</span><span class="s">"pong"</span><span class="o">:</span> <span class="n">ping</span><span class="p">}</span>
            <span class="k">if</span> <span class="n">err</span> <span class="o">:=</span> <span class="n">c</span><span class="o">.</span><span class="n">WriteJSON</span><span class="p">(</span><span class="n">pong</span><span class="p">);</span> <span class="n">err</span> <span class="o">!=</span> <span class="no">nil</span> <span class="p">{</span>
                <span class="n">log</span><span class="o">.</span><span class="n">Println</span><span class="p">(</span><span class="s">"Failed to send pong:"</span><span class="p">,</span> <span class="n">err</span><span class="p">)</span>
                <span class="k">return</span>
            <span class="p">}</span>
            <span class="n">fmt</span><span class="o">.</span><span class="n">Println</span><span class="p">(</span><span class="s">"Pong response sent"</span><span class="p">)</span>
            <span class="k">continue</span>
        <span class="p">}</span>

        <span class="c">// Print other messages</span>
        <span class="n">pretty</span><span class="p">,</span> <span class="n">_</span> <span class="o">:=</span> <span class="n">json</span><span class="o">.</span><span class="n">MarshalIndent</span><span class="p">(</span><span class="n">data</span><span class="p">,</span> <span class="s">""</span><span class="p">,</span> <span class="s">"  "</span><span class="p">)</span>
        <span class="n">fmt</span><span class="o">.</span><span class="n">Printf</span><span class="p">(</span><span class="s">"</span><span class="se">\n</span><span class="s">Received message:</span><span class="se">\n</span><span class="s">%s</span><span class="se">\n</span><span class="s">"</span><span class="p">,</span> <span class="n">pretty</span><span class="p">)</span>
    <span class="p">}</span>
<span class="p">}</span>
</code></pre></div><div class="highlight"><pre class="highlight java tab-java"><code><span class="kn">import</span> <span class="nn">java.io.IOException</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">java.net.URI</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">java.net.http.HttpClient</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">java.net.http.WebSocket</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">java.nio.ByteBuffer</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">java.util.concurrent.CompletionStage</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">java.util.concurrent.CountDownLatch</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">java.util.concurrent.TimeUnit</span><span class="o">;</span>

<span class="kd">public</span> <span class="kd">class</span> <span class="nc">WebSocketClient</span> <span class="o">{</span>
    <span class="kd">private</span> <span class="kd">static</span> <span class="nc">CountDownLatch</span> <span class="n">latch</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">CountDownLatch</span><span class="o">(</span><span class="mi">1</span><span class="o">);</span>

    <span class="kd">public</span> <span class="kd">static</span> <span class="kt">void</span> <span class="nf">main</span><span class="o">(</span><span class="nc">String</span><span class="o">[]</span> <span class="n">args</span><span class="o">)</span> <span class="o">{</span>
        <span class="nc">HttpClient</span> <span class="n">client</span> <span class="o">=</span> <span class="nc">HttpClient</span><span class="o">.</span><span class="na">newHttpClient</span><span class="o">();</span>
        <span class="nc">String</span> <span class="n">uri</span> <span class="o">=</span> <span class="s">"wss://stream.uzx.com/notification/ws"</span><span class="o">;</span>

        <span class="nc">WebSocket</span> <span class="n">webSocket</span> <span class="o">=</span> <span class="n">client</span><span class="o">.</span><span class="na">newWebSocketBuilder</span><span class="o">()</span>
               <span class="o">.</span><span class="na">buildAsync</span><span class="o">(</span><span class="no">URI</span><span class="o">.</span><span class="na">create</span><span class="o">(</span><span class="n">uri</span><span class="o">),</span> <span class="k">new</span> <span class="nc">WebSocket</span><span class="o">.</span><span class="na">Listener</span><span class="o">()</span> <span class="o">{</span>
                    <span class="nd">@Override</span>
                    <span class="kd">public</span> <span class="kt">void</span> <span class="nf">onOpen</span><span class="o">(</span><span class="nc">WebSocket</span> <span class="n">webSocket</span><span class="o">)</span> <span class="o">{</span>
                        <span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">"Connection established"</span><span class="o">);</span>
                        <span class="c1">// Send subscription message</span>
                        <span class="nc">String</span> <span class="n">subscribeMsg</span> <span class="o">=</span> <span class="s">"{\"event\":\"sub\",\"params\":{\"type\":\"swap.percent10\",\"symbol\":\"BTCUSDT\"},\"zip\":false}"</span><span class="o">;</span>
                        <span class="n">webSocket</span><span class="o">.</span><span class="na">sendText</span><span class="o">(</span><span class="n">subscribeMsg</span><span class="o">,</span> <span class="kc">true</span><span class="o">);</span>
                        <span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">"Subscription request sent: "</span> <span class="o">+</span> <span class="n">subscribeMsg</span><span class="o">);</span>
                        <span class="nc">WebSocket</span><span class="o">.</span><span class="na">Listener</span><span class="o">.</span><span class="na">super</span><span class="o">.</span><span class="na">onOpen</span><span class="o">(</span><span class="n">webSocket</span><span class="o">);</span>
                    <span class="o">}</span>

                    <span class="nd">@Override</span>
                    <span class="kd">public</span> <span class="nc">CompletionStage</span><span class="o">&lt;?&gt;</span> <span class="n">onText</span><span class="o">(</span><span class="nc">WebSocket</span> <span class="n">webSocket</span><span class="o">,</span> <span class="nc">CharSequence</span> <span class="n">data</span><span class="o">,</span> <span class="kt">boolean</span> <span class="n">last</span><span class="o">)</span> <span class="o">{</span>
                        <span class="nc">String</span> <span class="n">message</span> <span class="o">=</span> <span class="n">data</span><span class="o">.</span><span class="na">toString</span><span class="o">();</span>
                        <span class="k">try</span> <span class="o">{</span>
                            <span class="c1">// Handle ping message</span>
                            <span class="k">if</span> <span class="o">(</span><span class="n">message</span><span class="o">.</span><span class="na">contains</span><span class="o">(</span><span class="s">"\"ping\""</span><span class="o">))</span> <span class="o">{</span>
                                <span class="nc">String</span> <span class="n">pongMsg</span> <span class="o">=</span> <span class="n">message</span><span class="o">.</span><span class="na">replace</span><span class="o">(</span><span class="s">"\"ping\""</span><span class="o">,</span> <span class="s">"\"pong\""</span><span class="o">);</span>
                                <span class="n">webSocket</span><span class="o">.</span><span class="na">sendText</span><span class="o">(</span><span class="n">pongMsg</span><span class="o">,</span> <span class="kc">true</span><span class="o">);</span>
                                <span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">"Pong response sent"</span><span class="o">);</span>
                            <span class="o">}</span> <span class="k">else</span> <span class="o">{</span>
                                <span class="c1">// Print other messages</span>
                                <span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">"\nReceived message:"</span><span class="o">);</span>
                                <span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="n">message</span><span class="o">);</span>
                            <span class="o">}</span>
                        <span class="o">}</span> <span class="k">catch</span> <span class="o">(</span><span class="nc">Exception</span> <span class="n">e</span><span class="o">)</span> <span class="o">{</span>
                            <span class="n">e</span><span class="o">.</span><span class="na">printStackTrace</span><span class="o">();</span>
                        <span class="o">}</span>
                        <span class="k">return</span> <span class="nc">WebSocket</span><span class="o">.</span><span class="na">Listener</span><span class="o">.</span><span class="na">super</span><span class="o">.</span><span class="na">onText</span><span class="o">(</span><span class="n">webSocket</span><span class="o">,</span> <span class="n">data</span><span class="o">,</span> <span class="n">last</span><span class="o">);</span>
                    <span class="o">}</span>

                    <span class="nd">@Override</span>
                    <span class="kd">public</span> <span class="nc">CompletionStage</span><span class="o">&lt;?&gt;</span> <span class="n">onClose</span><span class="o">(</span><span class="nc">WebSocket</span> <span class="n">webSocket</span><span class="o">,</span> <span class="kt">int</span> <span class="n">statusCode</span><span class="o">,</span> <span class="nc">String</span> <span class="n">reason</span><span class="o">)</span> <span class="o">{</span>
                        <span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">"Connection closed: status code "</span> <span class="o">+</span> <span class="n">statusCode</span> <span class="o">+</span> <span class="s">", reason: "</span> <span class="o">+</span> <span class="n">reason</span><span class="o">);</span>
                        <span class="n">latch</span><span class="o">.</span><span class="na">countDown</span><span class="o">();</span>
                        <span class="k">return</span> <span class="nc">WebSocket</span><span class="o">.</span><span class="na">Listener</span><span class="o">.</span><span class="na">super</span><span class="o">.</span><span class="na">onClose</span><span class="o">(</span><span class="n">webSocket</span><span class="o">,</span> <span class="n">statusCode</span><span class="o">,</span> <span class="n">reason</span><span class="o">);</span>
                    <span class="o">}</span>

                    <span class="nd">@Override</span>
                    <span class="kd">public</span> <span class="kt">void</span> <span class="nf">onError</span><span class="o">(</span><span class="nc">WebSocket</span> <span class="n">webSocket</span><span class="o">,</span> <span class="nc">Throwable</span> <span class="n">error</span><span class="o">)</span> <span class="o">{</span>
                        <span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">"Error occurred:"</span><span class="o">);</span>
                        <span class="n">error</span><span class="o">.</span><span class="na">printStackTrace</span><span class="o">();</span>
                        <span class="n">latch</span><span class="o">.</span><span class="na">countDown</span><span class="o">();</span>
                    <span class="o">}</span>
                <span class="o">}).</span><span class="na">join</span><span class="o">();</span>

        <span class="k">try</span> <span class="o">{</span>
            <span class="c1">// Keep the connection alive</span>
            <span class="n">latch</span><span class="o">.</span><span class="na">await</span><span class="o">(</span><span class="mi">1</span><span class="o">,</span> <span class="nc">TimeUnit</span><span class="o">.</span><span class="na">HOURS</span><span class="o">);</span>
        <span class="o">}</span> <span class="k">catch</span> <span class="o">(</span><span class="nc">InterruptedException</span> <span class="n">e</span><span class="o">)</span> <span class="o">{</span>
            <span class="n">e</span><span class="o">.</span><span class="na">printStackTrace</span><span class="o">();</span>
            <span class="nc">Thread</span><span class="o">.</span><span class="na">currentThread</span><span class="o">().</span><span class="na">interrupt</span><span class="o">();</span>
        <span class="o">}</span>
    <span class="o">}</span>
<span class="o">}</span>
</code></pre></div>
<table><thead>
<tr>
<th style="text-align: left">Parameter Name</th>
<th style="text-align: left">Required</th>
<th style="text-align: left">Type</th>
<th style="text-align: left">Description</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left">event</td>
<td style="text-align: left">Yes</td>
<td style="text-align: left">string</td>
<td style="text-align: left">Operation</td>
</tr>
<tr>
<td style="text-align: left">params</td>
<td style="text-align: left">Yes</td>
<td style="text-align: left">object</td>
<td style="text-align: left">Subscription parameter information</td>
</tr>
<tr>
<td style="text-align: left">&gt;symbol</td>
<td style="text-align: left">Yes</td>
<td style="text-align: left">string</td>
<td style="text-align: left">Product Name (currency pair)</td>
</tr>
<tr>
<td style="text-align: left">&gt;type</td>
<td style="text-align: left">Yes</td>
<td style="text-align: left">string</td>
<td style="text-align: left">Channel name</td>
</tr>
<tr>
<td style="text-align: left">zip</td>
<td style="text-align: left">Yes</td>
<td style="text-align: left">Boolean</td>
<td style="text-align: left">Whether to enable gzip</td>
</tr>
</tbody></table>
<h4 id='a222a51e1qfq'>Response Parameters</h4>
<blockquote>
<p>Response Example</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
  </span><span class="nl">"event"</span><span class="p">:</span><span class="w"> </span><span class="s2">"subscribe"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"topic"</span><span class="p">:</span><span class="w"> </span><span class="s2">"swap.BTCUSDT.depth.percent10"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ok"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<table><thead>
<tr>
<th style="text-align: left">Parameter Name</th>
<th style="text-align: left">Type</th>
<th style="text-align: left">Description</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left">id</td>
<td style="text-align: left">String</td>
<td style="text-align: left">Ignore this field</td>
</tr>
<tr>
<td style="text-align: left">event</td>
<td style="text-align: left">String</td>
<td style="text-align: left">Event type</td>
</tr>
<tr>
<td style="text-align: left">topic</td>
<td style="text-align: left">String</td>
<td style="text-align: left">Topic name</td>
</tr>
<tr>
<td style="text-align: left">status</td>
<td style="text-align: left">String</td>
<td style="text-align: left">Status code</td>
</tr>
</tbody></table>
<h4 id='5efa6fab9c6h'>FEED Parameter Description</h4>
<blockquote>
<p>FEED Example</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"asks"</span><span class="p">:[</span><span class="w">
    </span><span class="p">[</span><span class="w">
      </span><span class="s2">"106486.85"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"5277"</span><span class="w">
    </span><span class="p">]</span><span class="w">
  </span><span class="p">],</span><span class="w">
  </span><span class="nl">"bids"</span><span class="p">:[</span><span class="w">
    </span><span class="p">[</span><span class="w">
      </span><span class="s2">"106486.65"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"5922"</span><span class="w">
    </span><span class="p">]</span><span class="w">
  </span><span class="p">],</span><span class="w">
  </span><span class="nl">"product_name"</span><span class="p">:</span><span class="s2">"BTCUSDT"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"ts"</span><span class="p">:</span><span class="mi">1751364759613</span><span class="p">,</span><span class="w">
  </span><span class="nl">"type"</span><span class="p">:</span><span class="s2">"swap.percent10"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<blockquote>
<p>Example values for asks and bids:
<br> <code>asks</code>: <code>[21573.475, 0.01]</code> where <code>21573.475</code> is the best ask price and <code>0.01</code> is the best ask volume.
<br> <code>bids</code>: <code>[17651.025, 0.05]</code> where <code>17651.025</code> is the best bid price and <code>0.05</code> is the best bid volume.</p>
</blockquote>

<table><thead>
<tr>
<th style="text-align: left">Parameter Name</th>
<th style="text-align: left">Type</th>
<th style="text-align: left">Description</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left">asks</td>
<td style="text-align: left">Array</td>
<td style="text-align: left">Sell orders</td>
</tr>
<tr>
<td style="text-align: left">bids</td>
<td style="text-align: left">Array</td>
<td style="text-align: left">Buy orders</td>
</tr>
<tr>
<td style="text-align: left">product_name</td>
<td style="text-align: left">String</td>
<td style="text-align: left">Product Name</td>
</tr>
<tr>
<td style="text-align: left">ts</td>
<td style="text-align: left">Int</td>
<td style="text-align: left">Time of the response, in milliseconds since the Unix epoch, e.g., 1751364759613</td>
</tr>
<tr>
<td style="text-align: left">type</td>
<td style="text-align: left">String</td>
<td style="text-align: left">Channel name</td>
</tr>
</tbody></table>
<h3 id='12c02d7buunl'>Swap Ticker</h3><h4 id='22da1a05a9mj'>Request Parameters</h4>
<blockquote>
<p>Request Example</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"event"</span><span class="p">:</span><span class="s2">"sub"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"params"</span><span class="p">:{</span><span class="w">
    </span><span class="nl">"biz"</span><span class="p">:</span><span class="s2">"market"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"type"</span><span class="p">:</span><span class="s2">"swap.ticker"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"symbol"</span><span class="p">:</span><span class="s2">"BTCUSDT"</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="nl">"zip"</span><span class="p">:</span><span class="kc">false</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div><div class="highlight"><pre class="highlight python tab-python"><code><span class="kn">import</span> <span class="nn">asyncio</span>
<span class="kn">import</span> <span class="nn">json</span>
<span class="kn">import</span> <span class="nn">websockets</span>

<span class="k">async</span> <span class="k">def</span> <span class="nf">handle_websocket</span><span class="p">():</span>
    <span class="k">async</span> <span class="k">with</span> <span class="n">websockets</span><span class="p">.</span><span class="n">connect</span><span class="p">(</span><span class="s">"wss://stream.uzx.com/notification/ws"</span><span class="p">)</span> <span class="k">as</span> <span class="n">ws</span><span class="p">:</span>
        <span class="k">await</span> <span class="n">ws</span><span class="p">.</span><span class="n">send</span><span class="p">(</span><span class="n">json</span><span class="p">.</span><span class="n">dumps</span><span class="p">({</span>
            <span class="s">"event"</span><span class="p">:</span> <span class="s">"sub"</span><span class="p">,</span>
            <span class="s">"params"</span><span class="p">:</span> <span class="p">{</span>
                <span class="s">"biz"</span><span class="p">:</span> <span class="s">"market"</span><span class="p">,</span>
                <span class="s">"type"</span><span class="p">:</span> <span class="s">"swap.ticker"</span><span class="p">,</span>
                <span class="s">"symbol"</span><span class="p">:</span> <span class="s">"BTCUSDT"</span>
            <span class="p">},</span>
            <span class="s">"zip"</span><span class="p">:</span> <span class="bp">False</span>
        <span class="p">}))</span>

        <span class="k">while</span> <span class="bp">True</span><span class="p">:</span>
            <span class="n">msg</span> <span class="o">=</span> <span class="k">await</span> <span class="n">ws</span><span class="p">.</span><span class="n">recv</span><span class="p">()</span>
            <span class="n">data</span> <span class="o">=</span> <span class="n">json</span><span class="p">.</span><span class="n">loads</span><span class="p">(</span><span class="n">msg</span><span class="p">)</span>
            <span class="k">if</span> <span class="s">"ping"</span> <span class="ow">in</span> <span class="n">data</span><span class="p">:</span>
                <span class="k">await</span> <span class="n">ws</span><span class="p">.</span><span class="n">send</span><span class="p">(</span><span class="n">json</span><span class="p">.</span><span class="n">dumps</span><span class="p">({</span><span class="s">"pong"</span><span class="p">:</span> <span class="n">data</span><span class="p">[</span><span class="s">"ping"</span><span class="p">]}))</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="k">print</span><span class="p">(</span><span class="n">json</span><span class="p">.</span><span class="n">dumps</span><span class="p">(</span><span class="n">data</span><span class="p">,</span> <span class="n">indent</span><span class="o">=</span><span class="mi">2</span><span class="p">))</span>

<span class="n">asyncio</span><span class="p">.</span><span class="n">run</span><span class="p">(</span><span class="n">handle_websocket</span><span class="p">())</span>
</code></pre></div><div class="highlight"><pre class="highlight go tab-go"><code><span class="k">package</span> <span class="n">main</span>

<span class="k">import</span> <span class="p">(</span>
    <span class="s">"encoding/json"</span>
    <span class="s">"fmt"</span>
    <span class="s">"github.com/gorilla/websocket"</span>
    <span class="s">"log"</span>
    <span class="s">"net"</span>
    <span class="s">"net/http"</span>
    <span class="s">"time"</span>
<span class="p">)</span>

<span class="k">func</span> <span class="n">main</span><span class="p">()</span> <span class="p">{</span>
    <span class="n">url</span> <span class="o">:=</span> <span class="s">"wss://stream.uzx.com/notification/ws"</span>

    <span class="c">// Custom dialer configuration</span>
    <span class="n">dialer</span> <span class="o">:=</span> <span class="o">&amp;</span><span class="n">websocket</span><span class="o">.</span><span class="n">Dialer</span><span class="p">{</span>
        <span class="n">Proxy</span><span class="o">:</span> <span class="n">http</span><span class="o">.</span><span class="n">ProxyFromEnvironment</span><span class="p">,</span>
        <span class="n">NetDial</span><span class="o">:</span> <span class="k">func</span><span class="p">(</span><span class="n">network</span><span class="p">,</span> <span class="n">addr</span> <span class="kt">string</span><span class="p">)</span> <span class="p">(</span><span class="n">net</span><span class="o">.</span><span class="n">Conn</span><span class="p">,</span> <span class="kt">error</span><span class="p">)</span> <span class="p">{</span>
            <span class="c">// Force use of IPv4</span>
            <span class="k">return</span> <span class="n">net</span><span class="o">.</span><span class="n">Dial</span><span class="p">(</span><span class="s">"tcp4"</span><span class="p">,</span> <span class="n">addr</span><span class="p">)</span>
        <span class="p">},</span>
        <span class="n">HandshakeTimeout</span><span class="o">:</span> <span class="m">10</span> <span class="o">*</span> <span class="n">time</span><span class="o">.</span><span class="n">Second</span><span class="p">,</span>
    <span class="p">}</span>

    <span class="c">// Establish WebSocket connection</span>
    <span class="n">c</span><span class="p">,</span> <span class="n">_</span><span class="p">,</span> <span class="n">err</span> <span class="o">:=</span> <span class="n">dialer</span><span class="o">.</span><span class="n">Dial</span><span class="p">(</span><span class="n">url</span><span class="p">,</span> <span class="no">nil</span><span class="p">)</span>
    <span class="k">if</span> <span class="n">err</span> <span class="o">!=</span> <span class="no">nil</span> <span class="p">{</span>
        <span class="n">log</span><span class="o">.</span><span class="n">Fatal</span><span class="p">(</span><span class="s">"Connection failed:"</span><span class="p">,</span> <span class="n">err</span><span class="p">)</span>
    <span class="p">}</span>
    <span class="k">defer</span> <span class="n">c</span><span class="o">.</span><span class="n">Close</span><span class="p">()</span>

    <span class="c">// Subscribe to messages</span>
    <span class="n">subMsg</span> <span class="o">:=</span> <span class="k">map</span><span class="p">[</span><span class="kt">string</span><span class="p">]</span><span class="k">interface</span><span class="p">{}{</span>
        <span class="s">"event"</span><span class="o">:</span> <span class="s">"sub"</span><span class="p">,</span>
        <span class="s">"params"</span><span class="o">:</span> <span class="k">map</span><span class="p">[</span><span class="kt">string</span><span class="p">]</span><span class="k">interface</span><span class="p">{}{</span>
            <span class="s">"biz"</span><span class="o">:</span>      <span class="s">"market"</span><span class="p">,</span>
            <span class="s">"type"</span><span class="o">:</span>     <span class="s">"swap.ticker"</span><span class="p">,</span>
            <span class="s">"symbol"</span><span class="o">:</span>   <span class="s">"BTCUSDT"</span><span class="p">,</span>
        <span class="p">},</span>
        <span class="s">"zip"</span><span class="o">:</span> <span class="no">false</span><span class="p">,</span>
    <span class="p">}</span>
    <span class="n">err</span> <span class="o">=</span> <span class="n">c</span><span class="o">.</span><span class="n">WriteJSON</span><span class="p">(</span><span class="n">subMsg</span><span class="p">)</span>
    <span class="k">if</span> <span class="n">err</span> <span class="o">!=</span> <span class="no">nil</span> <span class="p">{</span>
        <span class="n">log</span><span class="o">.</span><span class="n">Fatal</span><span class="p">(</span><span class="s">"Failed to send subscription:"</span><span class="p">,</span> <span class="n">err</span><span class="p">)</span>
    <span class="p">}</span>
    <span class="n">fmt</span><span class="o">.</span><span class="n">Println</span><span class="p">(</span><span class="s">"Subscription request sent:"</span><span class="p">,</span> <span class="n">subMsg</span><span class="p">)</span>

    <span class="c">// Handle messages</span>
    <span class="k">for</span> <span class="p">{</span>
        <span class="n">_</span><span class="p">,</span> <span class="n">message</span><span class="p">,</span> <span class="n">err</span> <span class="o">:=</span> <span class="n">c</span><span class="o">.</span><span class="n">ReadMessage</span><span class="p">()</span>
        <span class="k">if</span> <span class="n">err</span> <span class="o">!=</span> <span class="no">nil</span> <span class="p">{</span>
            <span class="n">log</span><span class="o">.</span><span class="n">Println</span><span class="p">(</span><span class="s">"Error reading message:"</span><span class="p">,</span> <span class="n">err</span><span class="p">)</span>
            <span class="k">return</span>
        <span class="p">}</span>

        <span class="k">var</span> <span class="n">data</span> <span class="k">map</span><span class="p">[</span><span class="kt">string</span><span class="p">]</span><span class="k">interface</span><span class="p">{}</span>
        <span class="k">if</span> <span class="n">err</span> <span class="o">:=</span> <span class="n">json</span><span class="o">.</span><span class="n">Unmarshal</span><span class="p">(</span><span class="n">message</span><span class="p">,</span> <span class="o">&amp;</span><span class="n">data</span><span class="p">);</span> <span class="n">err</span> <span class="o">!=</span> <span class="no">nil</span> <span class="p">{</span>
            <span class="n">log</span><span class="o">.</span><span class="n">Println</span><span class="p">(</span><span class="s">"Failed to parse JSON:"</span><span class="p">,</span> <span class="n">err</span><span class="p">)</span>
            <span class="k">continue</span>
        <span class="p">}</span>

        <span class="c">// Handle ping message</span>
        <span class="k">if</span> <span class="n">ping</span><span class="p">,</span> <span class="n">ok</span> <span class="o">:=</span> <span class="n">data</span><span class="p">[</span><span class="s">"ping"</span><span class="p">]</span><span class="o">.</span><span class="p">(</span><span class="kt">float64</span><span class="p">);</span> <span class="n">ok</span> <span class="p">{</span>
            <span class="n">pong</span> <span class="o">:=</span> <span class="k">map</span><span class="p">[</span><span class="kt">string</span><span class="p">]</span><span class="k">interface</span><span class="p">{}{</span><span class="s">"pong"</span><span class="o">:</span> <span class="n">ping</span><span class="p">}</span>
            <span class="k">if</span> <span class="n">err</span> <span class="o">:=</span> <span class="n">c</span><span class="o">.</span><span class="n">WriteJSON</span><span class="p">(</span><span class="n">pong</span><span class="p">);</span> <span class="n">err</span> <span class="o">!=</span> <span class="no">nil</span> <span class="p">{</span>
                <span class="n">log</span><span class="o">.</span><span class="n">Println</span><span class="p">(</span><span class="s">"Failed to send pong:"</span><span class="p">,</span> <span class="n">err</span><span class="p">)</span>
                <span class="k">return</span>
            <span class="p">}</span>
            <span class="n">fmt</span><span class="o">.</span><span class="n">Println</span><span class="p">(</span><span class="s">"Pong response sent"</span><span class="p">)</span>
            <span class="k">continue</span>
        <span class="p">}</span>

        <span class="c">// Print other messages</span>
        <span class="n">pretty</span><span class="p">,</span> <span class="n">_</span> <span class="o">:=</span> <span class="n">json</span><span class="o">.</span><span class="n">MarshalIndent</span><span class="p">(</span><span class="n">data</span><span class="p">,</span> <span class="s">""</span><span class="p">,</span> <span class="s">"  "</span><span class="p">)</span>
        <span class="n">fmt</span><span class="o">.</span><span class="n">Printf</span><span class="p">(</span><span class="s">"</span><span class="se">\n</span><span class="s">Received message:</span><span class="se">\n</span><span class="s">%s</span><span class="se">\n</span><span class="s">"</span><span class="p">,</span> <span class="n">pretty</span><span class="p">)</span>
    <span class="p">}</span>
<span class="p">}</span>
</code></pre></div><div class="highlight"><pre class="highlight java tab-java"><code><span class="kn">import</span> <span class="nn">java.io.IOException</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">java.net.URI</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">java.net.http.HttpClient</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">java.net.http.WebSocket</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">java.nio.ByteBuffer</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">java.util.concurrent.CompletionStage</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">java.util.concurrent.CountDownLatch</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">java.util.concurrent.TimeUnit</span><span class="o">;</span>

<span class="kd">public</span> <span class="kd">class</span> <span class="nc">WebSocketClient</span> <span class="o">{</span>
    <span class="kd">private</span> <span class="kd">static</span> <span class="nc">CountDownLatch</span> <span class="n">latch</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">CountDownLatch</span><span class="o">(</span><span class="mi">1</span><span class="o">);</span>

    <span class="kd">public</span> <span class="kd">static</span> <span class="kt">void</span> <span class="nf">main</span><span class="o">(</span><span class="nc">String</span><span class="o">[]</span> <span class="n">args</span><span class="o">)</span> <span class="o">{</span>
        <span class="nc">HttpClient</span> <span class="n">client</span> <span class="o">=</span> <span class="nc">HttpClient</span><span class="o">.</span><span class="na">newHttpClient</span><span class="o">();</span>
        <span class="nc">String</span> <span class="n">uri</span> <span class="o">=</span> <span class="s">"wss://stream.uzx.com/notification/ws"</span><span class="o">;</span>

        <span class="nc">WebSocket</span> <span class="n">webSocket</span> <span class="o">=</span> <span class="n">client</span><span class="o">.</span><span class="na">newWebSocketBuilder</span><span class="o">()</span>
               <span class="o">.</span><span class="na">buildAsync</span><span class="o">(</span><span class="no">URI</span><span class="o">.</span><span class="na">create</span><span class="o">(</span><span class="n">uri</span><span class="o">),</span> <span class="k">new</span> <span class="nc">WebSocket</span><span class="o">.</span><span class="na">Listener</span><span class="o">()</span> <span class="o">{</span>
                    <span class="nd">@Override</span>
                    <span class="kd">public</span> <span class="kt">void</span> <span class="nf">onOpen</span><span class="o">(</span><span class="nc">WebSocket</span> <span class="n">webSocket</span><span class="o">)</span> <span class="o">{</span>
                        <span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">"Connection established"</span><span class="o">);</span>
                        <span class="c1">// Send subscription message</span>
                        <span class="nc">String</span> <span class="n">subscribeMsg</span> <span class="o">=</span> <span class="s">"{\"event\":\"sub\",\"params\":{\"biz\":\"market\",\"type\":\"swap.ticker\",\"symbol\":\"BTCUSDT\"},\"zip\":false}"</span><span class="o">;</span>
                        <span class="n">webSocket</span><span class="o">.</span><span class="na">sendText</span><span class="o">(</span><span class="n">subscribeMsg</span><span class="o">,</span> <span class="kc">true</span><span class="o">);</span>
                        <span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">"Subscription request sent: "</span> <span class="o">+</span> <span class="n">subscribeMsg</span><span class="o">);</span>
                        <span class="nc">WebSocket</span><span class="o">.</span><span class="na">Listener</span><span class="o">.</span><span class="na">super</span><span class="o">.</span><span class="na">onOpen</span><span class="o">(</span><span class="n">webSocket</span><span class="o">);</span>
                    <span class="o">}</span>

                    <span class="nd">@Override</span>
                    <span class="kd">public</span> <span class="nc">CompletionStage</span><span class="o">&lt;?&gt;</span> <span class="n">onText</span><span class="o">(</span><span class="nc">WebSocket</span> <span class="n">webSocket</span><span class="o">,</span> <span class="nc">CharSequence</span> <span class="n">data</span><span class="o">,</span> <span class="kt">boolean</span> <span class="n">last</span><span class="o">)</span> <span class="o">{</span>
                        <span class="nc">String</span> <span class="n">message</span> <span class="o">=</span> <span class="n">data</span><span class="o">.</span><span class="na">toString</span><span class="o">();</span>
                        <span class="k">try</span> <span class="o">{</span>
                            <span class="c1">// Handle ping message</span>
                            <span class="k">if</span> <span class="o">(</span><span class="n">message</span><span class="o">.</span><span class="na">contains</span><span class="o">(</span><span class="s">"\"ping\""</span><span class="o">))</span> <span class="o">{</span>
                                <span class="nc">String</span> <span class="n">pongMsg</span> <span class="o">=</span> <span class="n">message</span><span class="o">.</span><span class="na">replace</span><span class="o">(</span><span class="s">"\"ping\""</span><span class="o">,</span> <span class="s">"\"pong\""</span><span class="o">);</span>
                                <span class="n">webSocket</span><span class="o">.</span><span class="na">sendText</span><span class="o">(</span><span class="n">pongMsg</span><span class="o">,</span> <span class="kc">true</span><span class="o">);</span>
                                <span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">"Pong response sent"</span><span class="o">);</span>
                            <span class="o">}</span> <span class="k">else</span> <span class="o">{</span>
                                <span class="c1">// Print other messages</span>
                                <span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">"\nReceived message:"</span><span class="o">);</span>
                                <span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="n">message</span><span class="o">);</span>
                            <span class="o">}</span>
                        <span class="o">}</span> <span class="k">catch</span> <span class="o">(</span><span class="nc">Exception</span> <span class="n">e</span><span class="o">)</span> <span class="o">{</span>
                            <span class="n">e</span><span class="o">.</span><span class="na">printStackTrace</span><span class="o">();</span>
                        <span class="o">}</span>
                        <span class="k">return</span> <span class="nc">WebSocket</span><span class="o">.</span><span class="na">Listener</span><span class="o">.</span><span class="na">super</span><span class="o">.</span><span class="na">onText</span><span class="o">(</span><span class="n">webSocket</span><span class="o">,</span> <span class="n">data</span><span class="o">,</span> <span class="n">last</span><span class="o">);</span>
                    <span class="o">}</span>

                    <span class="nd">@Override</span>
                    <span class="kd">public</span> <span class="nc">CompletionStage</span><span class="o">&lt;?&gt;</span> <span class="n">onClose</span><span class="o">(</span><span class="nc">WebSocket</span> <span class="n">webSocket</span><span class="o">,</span> <span class="kt">int</span> <span class="n">statusCode</span><span class="o">,</span> <span class="nc">String</span> <span class="n">reason</span><span class="o">)</span> <span class="o">{</span>
                        <span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">"Connection closed: status code "</span> <span class="o">+</span> <span class="n">statusCode</span> <span class="o">+</span> <span class="s">", reason: "</span> <span class="o">+</span> <span class="n">reason</span><span class="o">);</span>
                        <span class="n">latch</span><span class="o">.</span><span class="na">countDown</span><span class="o">();</span>
                        <span class="k">return</span> <span class="nc">WebSocket</span><span class="o">.</span><span class="na">Listener</span><span class="o">.</span><span class="na">super</span><span class="o">.</span><span class="na">onClose</span><span class="o">(</span><span class="n">webSocket</span><span class="o">,</span> <span class="n">statusCode</span><span class="o">,</span> <span class="n">reason</span><span class="o">);</span>
                    <span class="o">}</span>

                    <span class="nd">@Override</span>
                    <span class="kd">public</span> <span class="kt">void</span> <span class="nf">onError</span><span class="o">(</span><span class="nc">WebSocket</span> <span class="n">webSocket</span><span class="o">,</span> <span class="nc">Throwable</span> <span class="n">error</span><span class="o">)</span> <span class="o">{</span>
                        <span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">"Error occurred:"</span><span class="o">);</span>
                        <span class="n">error</span><span class="o">.</span><span class="na">printStackTrace</span><span class="o">();</span>
                        <span class="n">latch</span><span class="o">.</span><span class="na">countDown</span><span class="o">();</span>
                    <span class="o">}</span>
                <span class="o">}).</span><span class="na">join</span><span class="o">();</span>

        <span class="k">try</span> <span class="o">{</span>
            <span class="c1">// Keep the connection alive</span>
            <span class="n">latch</span><span class="o">.</span><span class="na">await</span><span class="o">(</span><span class="mi">1</span><span class="o">,</span> <span class="nc">TimeUnit</span><span class="o">.</span><span class="na">HOURS</span><span class="o">);</span>
        <span class="o">}</span> <span class="k">catch</span> <span class="o">(</span><span class="nc">InterruptedException</span> <span class="n">e</span><span class="o">)</span> <span class="o">{</span>
            <span class="n">e</span><span class="o">.</span><span class="na">printStackTrace</span><span class="o">();</span>
            <span class="nc">Thread</span><span class="o">.</span><span class="na">currentThread</span><span class="o">().</span><span class="na">interrupt</span><span class="o">();</span>
        <span class="o">}</span>
    <span class="o">}</span>
<span class="o">}</span>
</code></pre></div>
<table><thead>
<tr>
<th style="text-align: left">Parameter Name</th>
<th style="text-align: left">Required</th>
<th style="text-align: left">Type</th>
<th style="text-align: left">Description</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left">event</td>
<td style="text-align: left">Yes</td>
<td style="text-align: left">String</td>
<td style="text-align: left">Operation (<code>sub</code>)</td>
</tr>
<tr>
<td style="text-align: left">params</td>
<td style="text-align: left">Yes</td>
<td style="text-align: left">Object</td>
<td style="text-align: left">Subscription parameter information</td>
</tr>
<tr>
<td style="text-align: left">&gt; biz</td>
<td style="text-align: left">Yes</td>
<td style="text-align: left">String</td>
<td style="text-align: left">Type, <code>market</code></td>
</tr>
<tr>
<td style="text-align: left">&gt; type</td>
<td style="text-align: left">Yes</td>
<td style="text-align: left">String</td>
<td style="text-align: left">Channel name</td>
</tr>
<tr>
<td style="text-align: left">&gt; symbol</td>
<td style="text-align: left">Yes</td>
<td style="text-align: left">String</td>
<td style="text-align: left">Product ID (currency pair)</td>
</tr>
<tr>
<td style="text-align: left">zip</td>
<td style="text-align: left">Yes</td>
<td style="text-align: left">Boolean</td>
<td style="text-align: left">Whether to enable gzip</td>
</tr>
</tbody></table>
<h4 id='a222a51e94es'>Response Parameters</h4>
<blockquote>
<p>Response Example</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
  </span><span class="nl">"event"</span><span class="p">:</span><span class="w"> </span><span class="s2">"subscribe"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"topic"</span><span class="p">:</span><span class="w"> </span><span class="s2">"swap.BTCUSDT.ticker"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ok"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<table><thead>
<tr>
<th style="text-align: left">Parameter Name</th>
<th style="text-align: left">Type</th>
<th style="text-align: left">Description</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left">id</td>
<td style="text-align: left">String</td>
<td style="text-align: left">Ignore this field</td>
</tr>
<tr>
<td style="text-align: left">event</td>
<td style="text-align: left">String</td>
<td style="text-align: left">Event type</td>
</tr>
<tr>
<td style="text-align: left">topic</td>
<td style="text-align: left">String</td>
<td style="text-align: left">Topic name</td>
</tr>
<tr>
<td style="text-align: left">status</td>
<td style="text-align: left">String</td>
<td style="text-align: left">Status code</td>
</tr>
</tbody></table>
<h4 id='5efa6fabk9y9'>FEED Parameter Description</h4>
<blockquote>
<p>FEED Example</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"type"</span><span class="p">:</span><span class="s2">"swap.BTCUSDT.ticker"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"product_name"</span><span class="p">:</span><span class="s2">"BTCUSDT"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"data"</span><span class="p">:{</span><span class="w">
    </span><span class="nl">"open"</span><span class="p">:</span><span class="s2">"107399.9"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"close"</span><span class="p">:</span><span class="s2">"106460.1"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"high"</span><span class="p">:</span><span class="s2">"107916.6"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"low"</span><span class="p">:</span><span class="s2">"106444"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"vol"</span><span class="p">:</span><span class="s2">"10783.141"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"turn_over"</span><span class="p">:</span><span class="s2">"1155959567.4468"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"ask_price"</span><span class="p">:</span><span class="s2">"106454.3"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"ask_vol"</span><span class="p">:</span><span class="s2">"4237"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"bid_price"</span><span class="p">:</span><span class="s2">"106454.2"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"bid_vol"</span><span class="p">:</span><span class="s2">"2142"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"change"</span><span class="p">:</span><span class="s2">"-939.8"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"change_percent"</span><span class="p">:</span><span class="s2">"-0.0087504736969028835222379164226409894"</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<table><thead>
<tr>
<th style="text-align: left">Parameter Name</th>
<th style="text-align: left">Type</th>
<th style="text-align: left">Description</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left">data</td>
<td style="text-align: left">Object</td>
<td style="text-align: left">Returned data</td>
</tr>
<tr>
<td style="text-align: left">&gt; ask_price</td>
<td style="text-align: left">String</td>
<td style="text-align: left">Ask price</td>
</tr>
<tr>
<td style="text-align: left">&gt; ask_vol</td>
<td style="text-align: left">String</td>
<td style="text-align: left">Ask volume</td>
</tr>
<tr>
<td style="text-align: left">&gt; bid_price</td>
<td style="text-align: left">String</td>
<td style="text-align: left">Bid price</td>
</tr>
<tr>
<td style="text-align: left">&gt; bid_vol</td>
<td style="text-align: left">String</td>
<td style="text-align: left">Bid volume</td>
</tr>
<tr>
<td style="text-align: left">&gt; change</td>
<td style="text-align: left">String</td>
<td style="text-align: left">Price change</td>
</tr>
<tr>
<td style="text-align: left">&gt; change_percent</td>
<td style="text-align: left">String</td>
<td style="text-align: left">Price change percentage</td>
</tr>
<tr>
<td style="text-align: left">&gt; close</td>
<td style="text-align: left">String</td>
<td style="text-align: left">Latest price</td>
</tr>
<tr>
<td style="text-align: left">&gt; high</td>
<td style="text-align: left">String</td>
<td style="text-align: left">Highest price</td>
</tr>
<tr>
<td style="text-align: left">&gt; low</td>
<td style="text-align: left">String</td>
<td style="text-align: left">Lowest price</td>
</tr>
<tr>
<td style="text-align: left">&gt; open</td>
<td style="text-align: left">String</td>
<td style="text-align: left">Opening price</td>
</tr>
<tr>
<td style="text-align: left">&gt; turn_over</td>
<td style="text-align: left">String</td>
<td style="text-align: left">Total trade amount</td>
</tr>
<tr>
<td style="text-align: left">&gt; vol</td>
<td style="text-align: left">String</td>
<td style="text-align: left">Trade volume in the quoted currency</td>
</tr>
<tr>
<td style="text-align: left">symbol</td>
<td style="text-align: left">String</td>
<td style="text-align: left">Currency pair</td>
</tr>
<tr>
<td style="text-align: left">type</td>
<td style="text-align: left">String</td>
<td style="text-align: left">Channel name</td>
</tr>
</tbody></table>
<h3 id='43f01dfe4zfi'>Swap Index Candles</h3><h4 id='22da1a05n1ah'>Request Parameters</h4>
<blockquote>
<p>Request Example</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"event"</span><span class="p">:</span><span class="s2">"sub"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"params"</span><span class="p">:{</span><span class="w">
    </span><span class="nl">"symbol"</span><span class="p">:</span><span class="s2">"BTCUSDT"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"biz"</span><span class="p">:</span><span class="s2">"market"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"type"</span><span class="p">:</span><span class="s2">"swap.index"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"interval"</span><span class="p">:</span><span class="s2">"1min"</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="nl">"zip"</span><span class="p">:</span><span class="kc">false</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div><div class="highlight"><pre class="highlight python tab-python"><code><span class="kn">import</span> <span class="nn">asyncio</span>
<span class="kn">import</span> <span class="nn">json</span>
<span class="kn">import</span> <span class="nn">websockets</span>

<span class="k">async</span> <span class="k">def</span> <span class="nf">handle_websocket</span><span class="p">():</span>
    <span class="k">async</span> <span class="k">with</span> <span class="n">websockets</span><span class="p">.</span><span class="n">connect</span><span class="p">(</span><span class="s">"wss://stream.uzx.com/notification/ws"</span><span class="p">)</span> <span class="k">as</span> <span class="n">ws</span><span class="p">:</span>
        <span class="k">await</span> <span class="n">ws</span><span class="p">.</span><span class="n">send</span><span class="p">(</span><span class="n">json</span><span class="p">.</span><span class="n">dumps</span><span class="p">({</span>
            <span class="s">"event"</span><span class="p">:</span> <span class="s">"sub"</span><span class="p">,</span>
            <span class="s">"params"</span><span class="p">:</span> <span class="p">{</span>
                <span class="s">"biz"</span><span class="p">:</span> <span class="s">"market"</span><span class="p">,</span>
                <span class="s">"type"</span><span class="p">:</span> <span class="s">"swap.index"</span><span class="p">,</span>
                <span class="s">"symbol"</span><span class="p">:</span> <span class="s">"BTCUSDT"</span><span class="p">,</span>
                <span class="s">"interval"</span><span class="p">:</span> <span class="s">"1min"</span>
            <span class="p">},</span>
            <span class="s">"zip"</span><span class="p">:</span> <span class="bp">False</span>
        <span class="p">}))</span>

        <span class="k">while</span> <span class="bp">True</span><span class="p">:</span>
            <span class="n">msg</span> <span class="o">=</span> <span class="k">await</span> <span class="n">ws</span><span class="p">.</span><span class="n">recv</span><span class="p">()</span>
            <span class="n">data</span> <span class="o">=</span> <span class="n">json</span><span class="p">.</span><span class="n">loads</span><span class="p">(</span><span class="n">msg</span><span class="p">)</span>
            <span class="k">if</span> <span class="s">"ping"</span> <span class="ow">in</span> <span class="n">data</span><span class="p">:</span>
                <span class="k">await</span> <span class="n">ws</span><span class="p">.</span><span class="n">send</span><span class="p">(</span><span class="n">json</span><span class="p">.</span><span class="n">dumps</span><span class="p">({</span><span class="s">"pong"</span><span class="p">:</span> <span class="n">data</span><span class="p">[</span><span class="s">"ping"</span><span class="p">]}))</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="k">print</span><span class="p">(</span><span class="n">json</span><span class="p">.</span><span class="n">dumps</span><span class="p">(</span><span class="n">data</span><span class="p">,</span> <span class="n">indent</span><span class="o">=</span><span class="mi">2</span><span class="p">))</span>

<span class="n">asyncio</span><span class="p">.</span><span class="n">run</span><span class="p">(</span><span class="n">handle_websocket</span><span class="p">())</span>
</code></pre></div><div class="highlight"><pre class="highlight go tab-go"><code><span class="k">package</span> <span class="n">main</span>

<span class="k">import</span> <span class="p">(</span>
    <span class="s">"encoding/json"</span>
    <span class="s">"fmt"</span>
    <span class="s">"github.com/gorilla/websocket"</span>
    <span class="s">"log"</span>
    <span class="s">"net"</span>
    <span class="s">"net/http"</span>
    <span class="s">"time"</span>
<span class="p">)</span>

<span class="k">func</span> <span class="n">main</span><span class="p">()</span> <span class="p">{</span>
    <span class="n">url</span> <span class="o">:=</span> <span class="s">"wss://stream.uzx.com/notification/ws"</span>

    <span class="c">// Custom dialer configuration</span>
    <span class="n">dialer</span> <span class="o">:=</span> <span class="o">&amp;</span><span class="n">websocket</span><span class="o">.</span><span class="n">Dialer</span><span class="p">{</span>
        <span class="n">Proxy</span><span class="o">:</span> <span class="n">http</span><span class="o">.</span><span class="n">ProxyFromEnvironment</span><span class="p">,</span>
        <span class="n">NetDial</span><span class="o">:</span> <span class="k">func</span><span class="p">(</span><span class="n">network</span><span class="p">,</span> <span class="n">addr</span> <span class="kt">string</span><span class="p">)</span> <span class="p">(</span><span class="n">net</span><span class="o">.</span><span class="n">Conn</span><span class="p">,</span> <span class="kt">error</span><span class="p">)</span> <span class="p">{</span>
            <span class="c">// Force use of IPv4</span>
            <span class="k">return</span> <span class="n">net</span><span class="o">.</span><span class="n">Dial</span><span class="p">(</span><span class="s">"tcp4"</span><span class="p">,</span> <span class="n">addr</span><span class="p">)</span>
        <span class="p">},</span>
        <span class="n">HandshakeTimeout</span><span class="o">:</span> <span class="m">10</span> <span class="o">*</span> <span class="n">time</span><span class="o">.</span><span class="n">Second</span><span class="p">,</span>
    <span class="p">}</span>

    <span class="c">// Establish WebSocket connection</span>
    <span class="n">c</span><span class="p">,</span> <span class="n">_</span><span class="p">,</span> <span class="n">err</span> <span class="o">:=</span> <span class="n">dialer</span><span class="o">.</span><span class="n">Dial</span><span class="p">(</span><span class="n">url</span><span class="p">,</span> <span class="no">nil</span><span class="p">)</span>
    <span class="k">if</span> <span class="n">err</span> <span class="o">!=</span> <span class="no">nil</span> <span class="p">{</span>
        <span class="n">log</span><span class="o">.</span><span class="n">Fatal</span><span class="p">(</span><span class="s">"Connection failed:"</span><span class="p">,</span> <span class="n">err</span><span class="p">)</span>
    <span class="p">}</span>
    <span class="k">defer</span> <span class="n">c</span><span class="o">.</span><span class="n">Close</span><span class="p">()</span>

    <span class="c">// Subscribe to messages</span>
    <span class="n">subMsg</span> <span class="o">:=</span> <span class="k">map</span><span class="p">[</span><span class="kt">string</span><span class="p">]</span><span class="k">interface</span><span class="p">{}{</span>
        <span class="s">"event"</span><span class="o">:</span> <span class="s">"sub"</span><span class="p">,</span>
        <span class="s">"params"</span><span class="o">:</span> <span class="k">map</span><span class="p">[</span><span class="kt">string</span><span class="p">]</span><span class="k">interface</span><span class="p">{}{</span>
            <span class="s">"biz"</span><span class="o">:</span>      <span class="s">"market"</span><span class="p">,</span>
            <span class="s">"type"</span><span class="o">:</span>     <span class="s">"swap.index"</span><span class="p">,</span>
            <span class="s">"symbol"</span><span class="o">:</span>   <span class="s">"BTCUSDT"</span><span class="p">,</span>
            <span class="s">"interval"</span><span class="o">:</span> <span class="s">"1min"</span><span class="p">,</span>
        <span class="p">},</span>
        <span class="s">"zip"</span><span class="o">:</span> <span class="no">false</span><span class="p">,</span>
    <span class="p">}</span>
    <span class="n">err</span> <span class="o">=</span> <span class="n">c</span><span class="o">.</span><span class="n">WriteJSON</span><span class="p">(</span><span class="n">subMsg</span><span class="p">)</span>
    <span class="k">if</span> <span class="n">err</span> <span class="o">!=</span> <span class="no">nil</span> <span class="p">{</span>
        <span class="n">log</span><span class="o">.</span><span class="n">Fatal</span><span class="p">(</span><span class="s">"Failed to send subscription:"</span><span class="p">,</span> <span class="n">err</span><span class="p">)</span>
    <span class="p">}</span>
    <span class="n">fmt</span><span class="o">.</span><span class="n">Println</span><span class="p">(</span><span class="s">"Subscription request sent:"</span><span class="p">,</span> <span class="n">subMsg</span><span class="p">)</span>

    <span class="c">// Handle messages</span>
    <span class="k">for</span> <span class="p">{</span>
        <span class="n">_</span><span class="p">,</span> <span class="n">message</span><span class="p">,</span> <span class="n">err</span> <span class="o">:=</span> <span class="n">c</span><span class="o">.</span><span class="n">ReadMessage</span><span class="p">()</span>
        <span class="k">if</span> <span class="n">err</span> <span class="o">!=</span> <span class="no">nil</span> <span class="p">{</span>
            <span class="n">log</span><span class="o">.</span><span class="n">Println</span><span class="p">(</span><span class="s">"Error reading message:"</span><span class="p">,</span> <span class="n">err</span><span class="p">)</span>
            <span class="k">return</span>
        <span class="p">}</span>

        <span class="k">var</span> <span class="n">data</span> <span class="k">map</span><span class="p">[</span><span class="kt">string</span><span class="p">]</span><span class="k">interface</span><span class="p">{}</span>
        <span class="k">if</span> <span class="n">err</span> <span class="o">:=</span> <span class="n">json</span><span class="o">.</span><span class="n">Unmarshal</span><span class="p">(</span><span class="n">message</span><span class="p">,</span> <span class="o">&amp;</span><span class="n">data</span><span class="p">);</span> <span class="n">err</span> <span class="o">!=</span> <span class="no">nil</span> <span class="p">{</span>
            <span class="n">log</span><span class="o">.</span><span class="n">Println</span><span class="p">(</span><span class="s">"Failed to parse JSON:"</span><span class="p">,</span> <span class="n">err</span><span class="p">)</span>
            <span class="k">continue</span>
        <span class="p">}</span>

        <span class="c">// Handle ping message</span>
        <span class="k">if</span> <span class="n">ping</span><span class="p">,</span> <span class="n">ok</span> <span class="o">:=</span> <span class="n">data</span><span class="p">[</span><span class="s">"ping"</span><span class="p">]</span><span class="o">.</span><span class="p">(</span><span class="kt">float64</span><span class="p">);</span> <span class="n">ok</span> <span class="p">{</span>
            <span class="n">pong</span> <span class="o">:=</span> <span class="k">map</span><span class="p">[</span><span class="kt">string</span><span class="p">]</span><span class="k">interface</span><span class="p">{}{</span><span class="s">"pong"</span><span class="o">:</span> <span class="n">ping</span><span class="p">}</span>
            <span class="k">if</span> <span class="n">err</span> <span class="o">:=</span> <span class="n">c</span><span class="o">.</span><span class="n">WriteJSON</span><span class="p">(</span><span class="n">pong</span><span class="p">);</span> <span class="n">err</span> <span class="o">!=</span> <span class="no">nil</span> <span class="p">{</span>
                <span class="n">log</span><span class="o">.</span><span class="n">Println</span><span class="p">(</span><span class="s">"Failed to send pong:"</span><span class="p">,</span> <span class="n">err</span><span class="p">)</span>
                <span class="k">return</span>
            <span class="p">}</span>
            <span class="n">fmt</span><span class="o">.</span><span class="n">Println</span><span class="p">(</span><span class="s">"Pong response sent"</span><span class="p">)</span>
            <span class="k">continue</span>
        <span class="p">}</span>

        <span class="c">// Print other messages</span>
        <span class="n">pretty</span><span class="p">,</span> <span class="n">_</span> <span class="o">:=</span> <span class="n">json</span><span class="o">.</span><span class="n">MarshalIndent</span><span class="p">(</span><span class="n">data</span><span class="p">,</span> <span class="s">""</span><span class="p">,</span> <span class="s">"  "</span><span class="p">)</span>
        <span class="n">fmt</span><span class="o">.</span><span class="n">Printf</span><span class="p">(</span><span class="s">"</span><span class="se">\n</span><span class="s">Received message:</span><span class="se">\n</span><span class="s">%s</span><span class="se">\n</span><span class="s">"</span><span class="p">,</span> <span class="n">pretty</span><span class="p">)</span>
    <span class="p">}</span>
<span class="p">}</span>
</code></pre></div><div class="highlight"><pre class="highlight java tab-java"><code><span class="kn">import</span> <span class="nn">java.io.IOException</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">java.net.URI</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">java.net.http.HttpClient</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">java.net.http.WebSocket</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">java.nio.ByteBuffer</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">java.util.concurrent.CompletionStage</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">java.util.concurrent.CountDownLatch</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">java.util.concurrent.TimeUnit</span><span class="o">;</span>

<span class="kd">public</span> <span class="kd">class</span> <span class="nc">WebSocketClient</span> <span class="o">{</span>
    <span class="kd">private</span> <span class="kd">static</span> <span class="nc">CountDownLatch</span> <span class="n">latch</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">CountDownLatch</span><span class="o">(</span><span class="mi">1</span><span class="o">);</span>

    <span class="kd">public</span> <span class="kd">static</span> <span class="kt">void</span> <span class="nf">main</span><span class="o">(</span><span class="nc">String</span><span class="o">[]</span> <span class="n">args</span><span class="o">)</span> <span class="o">{</span>
        <span class="nc">HttpClient</span> <span class="n">client</span> <span class="o">=</span> <span class="nc">HttpClient</span><span class="o">.</span><span class="na">newHttpClient</span><span class="o">();</span>
        <span class="nc">String</span> <span class="n">uri</span> <span class="o">=</span> <span class="s">"wss://stream.uzx.com/notification/ws"</span><span class="o">;</span>

        <span class="nc">WebSocket</span> <span class="n">webSocket</span> <span class="o">=</span> <span class="n">client</span><span class="o">.</span><span class="na">newWebSocketBuilder</span><span class="o">()</span>
               <span class="o">.</span><span class="na">buildAsync</span><span class="o">(</span><span class="no">URI</span><span class="o">.</span><span class="na">create</span><span class="o">(</span><span class="n">uri</span><span class="o">),</span> <span class="k">new</span> <span class="nc">WebSocket</span><span class="o">.</span><span class="na">Listener</span><span class="o">()</span> <span class="o">{</span>
                    <span class="nd">@Override</span>
                    <span class="kd">public</span> <span class="kt">void</span> <span class="nf">onOpen</span><span class="o">(</span><span class="nc">WebSocket</span> <span class="n">webSocket</span><span class="o">)</span> <span class="o">{</span>
                        <span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">"Connection established"</span><span class="o">);</span>
                        <span class="c1">// Send subscription message</span>
                        <span class="nc">String</span> <span class="n">subscribeMsg</span> <span class="o">=</span> <span class="s">"{\"event\":\"sub\",\"params\":{\"biz\":\"market\",\"type\":\"swap.index\",\"symbol\":\"BTCUSDT\",\"interval\":\"1min\"},\"zip\":false}"</span><span class="o">;</span>
                        <span class="n">webSocket</span><span class="o">.</span><span class="na">sendText</span><span class="o">(</span><span class="n">subscribeMsg</span><span class="o">,</span> <span class="kc">true</span><span class="o">);</span>
                        <span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">"Subscription request sent: "</span> <span class="o">+</span> <span class="n">subscribeMsg</span><span class="o">);</span>
                        <span class="nc">WebSocket</span><span class="o">.</span><span class="na">Listener</span><span class="o">.</span><span class="na">super</span><span class="o">.</span><span class="na">onOpen</span><span class="o">(</span><span class="n">webSocket</span><span class="o">);</span>
                    <span class="o">}</span>

                    <span class="nd">@Override</span>
                    <span class="kd">public</span> <span class="nc">CompletionStage</span><span class="o">&lt;?&gt;</span> <span class="n">onText</span><span class="o">(</span><span class="nc">WebSocket</span> <span class="n">webSocket</span><span class="o">,</span> <span class="nc">CharSequence</span> <span class="n">data</span><span class="o">,</span> <span class="kt">boolean</span> <span class="n">last</span><span class="o">)</span> <span class="o">{</span>
                        <span class="nc">String</span> <span class="n">message</span> <span class="o">=</span> <span class="n">data</span><span class="o">.</span><span class="na">toString</span><span class="o">();</span>
                        <span class="k">try</span> <span class="o">{</span>
                            <span class="c1">// Handle ping message</span>
                            <span class="k">if</span> <span class="o">(</span><span class="n">message</span><span class="o">.</span><span class="na">contains</span><span class="o">(</span><span class="s">"\"ping\""</span><span class="o">))</span> <span class="o">{</span>
                                <span class="nc">String</span> <span class="n">pongMsg</span> <span class="o">=</span> <span class="n">message</span><span class="o">.</span><span class="na">replace</span><span class="o">(</span><span class="s">"\"ping\""</span><span class="o">,</span> <span class="s">"\"pong\""</span><span class="o">);</span>
                                <span class="n">webSocket</span><span class="o">.</span><span class="na">sendText</span><span class="o">(</span><span class="n">pongMsg</span><span class="o">,</span> <span class="kc">true</span><span class="o">);</span>
                                <span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">"Pong response sent"</span><span class="o">);</span>
                            <span class="o">}</span> <span class="k">else</span> <span class="o">{</span>
                                <span class="c1">// Print other messages</span>
                                <span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">"\nReceived message:"</span><span class="o">);</span>
                                <span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="n">message</span><span class="o">);</span>
                            <span class="o">}</span>
                        <span class="o">}</span> <span class="k">catch</span> <span class="o">(</span><span class="nc">Exception</span> <span class="n">e</span><span class="o">)</span> <span class="o">{</span>
                            <span class="n">e</span><span class="o">.</span><span class="na">printStackTrace</span><span class="o">();</span>
                        <span class="o">}</span>
                        <span class="k">return</span> <span class="nc">WebSocket</span><span class="o">.</span><span class="na">Listener</span><span class="o">.</span><span class="na">super</span><span class="o">.</span><span class="na">onText</span><span class="o">(</span><span class="n">webSocket</span><span class="o">,</span> <span class="n">data</span><span class="o">,</span> <span class="n">last</span><span class="o">);</span>
                    <span class="o">}</span>

                    <span class="nd">@Override</span>
                    <span class="kd">public</span> <span class="nc">CompletionStage</span><span class="o">&lt;?&gt;</span> <span class="n">onClose</span><span class="o">(</span><span class="nc">WebSocket</span> <span class="n">webSocket</span><span class="o">,</span> <span class="kt">int</span> <span class="n">statusCode</span><span class="o">,</span> <span class="nc">String</span> <span class="n">reason</span><span class="o">)</span> <span class="o">{</span>
                        <span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">"Connection closed: status code "</span> <span class="o">+</span> <span class="n">statusCode</span> <span class="o">+</span> <span class="s">", reason: "</span> <span class="o">+</span> <span class="n">reason</span><span class="o">);</span>
                        <span class="n">latch</span><span class="o">.</span><span class="na">countDown</span><span class="o">();</span>
                        <span class="k">return</span> <span class="nc">WebSocket</span><span class="o">.</span><span class="na">Listener</span><span class="o">.</span><span class="na">super</span><span class="o">.</span><span class="na">onClose</span><span class="o">(</span><span class="n">webSocket</span><span class="o">,</span> <span class="n">statusCode</span><span class="o">,</span> <span class="n">reason</span><span class="o">);</span>
                    <span class="o">}</span>

                    <span class="nd">@Override</span>
                    <span class="kd">public</span> <span class="kt">void</span> <span class="nf">onError</span><span class="o">(</span><span class="nc">WebSocket</span> <span class="n">webSocket</span><span class="o">,</span> <span class="nc">Throwable</span> <span class="n">error</span><span class="o">)</span> <span class="o">{</span>
                        <span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">"Error occurred:"</span><span class="o">);</span>
                        <span class="n">error</span><span class="o">.</span><span class="na">printStackTrace</span><span class="o">();</span>
                        <span class="n">latch</span><span class="o">.</span><span class="na">countDown</span><span class="o">();</span>
                    <span class="o">}</span>
                <span class="o">}).</span><span class="na">join</span><span class="o">();</span>

        <span class="k">try</span> <span class="o">{</span>
            <span class="c1">// Keep the connection alive</span>
            <span class="n">latch</span><span class="o">.</span><span class="na">await</span><span class="o">(</span><span class="mi">1</span><span class="o">,</span> <span class="nc">TimeUnit</span><span class="o">.</span><span class="na">HOURS</span><span class="o">);</span>
        <span class="o">}</span> <span class="k">catch</span> <span class="o">(</span><span class="nc">InterruptedException</span> <span class="n">e</span><span class="o">)</span> <span class="o">{</span>
            <span class="n">e</span><span class="o">.</span><span class="na">printStackTrace</span><span class="o">();</span>
            <span class="nc">Thread</span><span class="o">.</span><span class="na">currentThread</span><span class="o">().</span><span class="na">interrupt</span><span class="o">();</span>
        <span class="o">}</span>
    <span class="o">}</span>
<span class="o">}</span>
</code></pre></div>
<table><thead>
<tr>
<th style="text-align: left">Parameter Name</th>
<th style="text-align: left">Required</th>
<th style="text-align: left">Type</th>
<th style="text-align: left">Description</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left">event</td>
<td style="text-align: left">Yes</td>
<td style="text-align: left">string</td>
<td style="text-align: left">Operation</td>
</tr>
<tr>
<td style="text-align: left">params</td>
<td style="text-align: left">Yes</td>
<td style="text-align: left">object</td>
<td style="text-align: left">Subscription parameter information</td>
</tr>
<tr>
<td style="text-align: left">&gt;symbol</td>
<td style="text-align: left">Yes</td>
<td style="text-align: left">string</td>
<td style="text-align: left">Product Name (currency pair)</td>
</tr>
<tr>
<td style="text-align: left">&gt;biz</td>
<td style="text-align: left">Yes</td>
<td style="text-align: left">string</td>
<td style="text-align: left">Type, <code>market</code></td>
</tr>
<tr>
<td style="text-align: left">&gt;type</td>
<td style="text-align: left">Yes</td>
<td style="text-align: left">string</td>
<td style="text-align: left">Channel name</td>
</tr>
<tr>
<td style="text-align: left">&gt;interval</td>
<td style="text-align: left">No</td>
<td style="text-align: left">string</td>
<td style="text-align: left">Period</td>
</tr>
<tr>
<td style="text-align: left">zip</td>
<td style="text-align: left">Yes</td>
<td style="text-align: left">Boolean</td>
<td style="text-align: left">Whether to enable gzip</td>
</tr>
</tbody></table>
<h4 id='a222a51er30p'>Response Parameters</h4>
<blockquote>
<p>Response Example</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
    </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
    </span><span class="nl">"event"</span><span class="p">:</span><span class="w"> </span><span class="s2">"subscribe"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"topic"</span><span class="p">:</span><span class="w"> </span><span class="s2">"index.BTCUSDT.kline.1min"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ok"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<table><thead>
<tr>
<th style="text-align: left">Parameter Name</th>
<th style="text-align: left">Type</th>
<th style="text-align: left">Description</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left">id</td>
<td style="text-align: left">String</td>
<td style="text-align: left">Ignore this field</td>
</tr>
<tr>
<td style="text-align: left">event</td>
<td style="text-align: left">String</td>
<td style="text-align: left">Event type</td>
</tr>
<tr>
<td style="text-align: left">topic</td>
<td style="text-align: left">String</td>
<td style="text-align: left">Topic name</td>
</tr>
<tr>
<td style="text-align: left">status</td>
<td style="text-align: left">String</td>
<td style="text-align: left">Status code</td>
</tr>
</tbody></table>
<h4 id='5efa6fabmsf9'>FEED Parameter Description</h4>
<blockquote>
<p>FEED Example</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"type"</span><span class="p">:</span><span class="s2">"swap.index.candles"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"symbol"</span><span class="p">:</span><span class="s2">"BTCUSDT"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"interval"</span><span class="p">:</span><span class="s2">"1min"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"data"</span><span class="p">:{</span><span class="w">
    </span><span class="nl">"id"</span><span class="p">:</span><span class="mi">1751365320</span><span class="p">,</span><span class="w">
    </span><span class="nl">"open"</span><span class="p">:</span><span class="s2">"106521.7"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"close"</span><span class="p">:</span><span class="s2">"106519.1"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"high"</span><span class="p">:</span><span class="s2">"106521.7"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"low"</span><span class="p">:</span><span class="s2">"106514"</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="nl">"id"</span><span class="p">:</span><span class="mi">1751365320</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<table><thead>
<tr>
<th style="text-align: left">Parameter Name</th>
<th style="text-align: left">Type</th>
<th style="text-align: left">Description</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left">data</td>
<td style="text-align: left">Object</td>
<td style="text-align: left">Returned data</td>
</tr>
<tr>
<td style="text-align: left">&gt; close</td>
<td style="text-align: left">String</td>
<td style="text-align: left">Closing price of the period</td>
</tr>
<tr>
<td style="text-align: left">&gt; high</td>
<td style="text-align: left">String</td>
<td style="text-align: left">Highest price of the period</td>
</tr>
<tr>
<td style="text-align: left">&gt; id</td>
<td style="text-align: left">Int</td>
<td style="text-align: left">Time of the period, Unix timestamp (in seconds), e.g., 1751365320</td>
</tr>
<tr>
<td style="text-align: left">&gt; low</td>
<td style="text-align: left">String</td>
<td style="text-align: left">Lowest price of the period</td>
</tr>
<tr>
<td style="text-align: left">&gt; open</td>
<td style="text-align: left">String</td>
<td style="text-align: left">Opening price of the period</td>
</tr>
<tr>
<td style="text-align: left">interval</td>
<td style="text-align: left">String</td>
<td style="text-align: left">Period</td>
</tr>
<tr>
<td style="text-align: left">symbol</td>
<td style="text-align: left">String</td>
<td style="text-align: left">Product Name (currency pair)</td>
</tr>
<tr>
<td style="text-align: left">type</td>
<td style="text-align: left">String</td>
<td style="text-align: left">Channel name</td>
</tr>
</tbody></table>
<h3 id='0803ee2cli0h'>Swap Tag Candles</h3><h4 id='22da1a05x3kk'>Request Parameters</h4>
<blockquote>
<p>Request Example</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"event"</span><span class="p">:</span><span class="s2">"sub"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"params"</span><span class="p">:{</span><span class="w">
    </span><span class="nl">"symbol"</span><span class="p">:</span><span class="s2">"BTCUSDT"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"biz"</span><span class="p">:</span><span class="s2">"market"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"type"</span><span class="p">:</span><span class="s2">"swap.tag"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"interval"</span><span class="p">:</span><span class="s2">"1min"</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="nl">"zip"</span><span class="p">:</span><span class="kc">false</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div><div class="highlight"><pre class="highlight python tab-python"><code><span class="kn">import</span> <span class="nn">asyncio</span>
<span class="kn">import</span> <span class="nn">json</span>
<span class="kn">import</span> <span class="nn">websockets</span>

<span class="k">async</span> <span class="k">def</span> <span class="nf">handle_websocket</span><span class="p">():</span>
    <span class="k">async</span> <span class="k">with</span> <span class="n">websockets</span><span class="p">.</span><span class="n">connect</span><span class="p">(</span><span class="s">"wss://stream.uzx.com/notification/ws"</span><span class="p">)</span> <span class="k">as</span> <span class="n">ws</span><span class="p">:</span>
        <span class="k">await</span> <span class="n">ws</span><span class="p">.</span><span class="n">send</span><span class="p">(</span><span class="n">json</span><span class="p">.</span><span class="n">dumps</span><span class="p">({</span>
            <span class="s">"event"</span><span class="p">:</span> <span class="s">"sub"</span><span class="p">,</span>
            <span class="s">"params"</span><span class="p">:</span> <span class="p">{</span>
                <span class="s">"biz"</span><span class="p">:</span> <span class="s">"market"</span><span class="p">,</span>
                <span class="s">"type"</span><span class="p">:</span> <span class="s">"swap.tag"</span><span class="p">,</span>
                <span class="s">"symbol"</span><span class="p">:</span> <span class="s">"BTCUSDT"</span><span class="p">,</span>
                <span class="s">"interval"</span><span class="p">:</span> <span class="s">"1min"</span>
            <span class="p">},</span>
            <span class="s">"zip"</span><span class="p">:</span> <span class="bp">False</span>
        <span class="p">}))</span>

        <span class="k">while</span> <span class="bp">True</span><span class="p">:</span>
            <span class="n">msg</span> <span class="o">=</span> <span class="k">await</span> <span class="n">ws</span><span class="p">.</span><span class="n">recv</span><span class="p">()</span>
            <span class="n">data</span> <span class="o">=</span> <span class="n">json</span><span class="p">.</span><span class="n">loads</span><span class="p">(</span><span class="n">msg</span><span class="p">)</span>
            <span class="k">if</span> <span class="s">"ping"</span> <span class="ow">in</span> <span class="n">data</span><span class="p">:</span>
                <span class="k">await</span> <span class="n">ws</span><span class="p">.</span><span class="n">send</span><span class="p">(</span><span class="n">json</span><span class="p">.</span><span class="n">dumps</span><span class="p">({</span><span class="s">"pong"</span><span class="p">:</span> <span class="n">data</span><span class="p">[</span><span class="s">"ping"</span><span class="p">]}))</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="k">print</span><span class="p">(</span><span class="n">json</span><span class="p">.</span><span class="n">dumps</span><span class="p">(</span><span class="n">data</span><span class="p">,</span> <span class="n">indent</span><span class="o">=</span><span class="mi">2</span><span class="p">))</span>

<span class="n">asyncio</span><span class="p">.</span><span class="n">run</span><span class="p">(</span><span class="n">handle_websocket</span><span class="p">())</span>
</code></pre></div><div class="highlight"><pre class="highlight go tab-go"><code><span class="k">package</span> <span class="n">main</span>

<span class="k">import</span> <span class="p">(</span>
    <span class="s">"encoding/json"</span>
    <span class="s">"fmt"</span>
    <span class="s">"github.com/gorilla/websocket"</span>
    <span class="s">"log"</span>
    <span class="s">"net"</span>
    <span class="s">"net/http"</span>
    <span class="s">"time"</span>
<span class="p">)</span>

<span class="k">func</span> <span class="n">main</span><span class="p">()</span> <span class="p">{</span>
    <span class="n">url</span> <span class="o">:=</span> <span class="s">"wss://stream.uzx.com/notification/ws"</span>

    <span class="c">// Custom dialer configuration</span>
    <span class="n">dialer</span> <span class="o">:=</span> <span class="o">&amp;</span><span class="n">websocket</span><span class="o">.</span><span class="n">Dialer</span><span class="p">{</span>
        <span class="n">Proxy</span><span class="o">:</span> <span class="n">http</span><span class="o">.</span><span class="n">ProxyFromEnvironment</span><span class="p">,</span>
        <span class="n">NetDial</span><span class="o">:</span> <span class="k">func</span><span class="p">(</span><span class="n">network</span><span class="p">,</span> <span class="n">addr</span> <span class="kt">string</span><span class="p">)</span> <span class="p">(</span><span class="n">net</span><span class="o">.</span><span class="n">Conn</span><span class="p">,</span> <span class="kt">error</span><span class="p">)</span> <span class="p">{</span>
            <span class="c">// Force use of IPv4</span>
            <span class="k">return</span> <span class="n">net</span><span class="o">.</span><span class="n">Dial</span><span class="p">(</span><span class="s">"tcp4"</span><span class="p">,</span> <span class="n">addr</span><span class="p">)</span>
        <span class="p">},</span>
        <span class="n">HandshakeTimeout</span><span class="o">:</span> <span class="m">10</span> <span class="o">*</span> <span class="n">time</span><span class="o">.</span><span class="n">Second</span><span class="p">,</span>
    <span class="p">}</span>

    <span class="c">// Establish WebSocket connection</span>
    <span class="n">c</span><span class="p">,</span> <span class="n">_</span><span class="p">,</span> <span class="n">err</span> <span class="o">:=</span> <span class="n">dialer</span><span class="o">.</span><span class="n">Dial</span><span class="p">(</span><span class="n">url</span><span class="p">,</span> <span class="no">nil</span><span class="p">)</span>
    <span class="k">if</span> <span class="n">err</span> <span class="o">!=</span> <span class="no">nil</span> <span class="p">{</span>
        <span class="n">log</span><span class="o">.</span><span class="n">Fatal</span><span class="p">(</span><span class="s">"Connection failed:"</span><span class="p">,</span> <span class="n">err</span><span class="p">)</span>
    <span class="p">}</span>
    <span class="k">defer</span> <span class="n">c</span><span class="o">.</span><span class="n">Close</span><span class="p">()</span>

    <span class="c">// Subscribe to messages</span>
    <span class="n">subMsg</span> <span class="o">:=</span> <span class="k">map</span><span class="p">[</span><span class="kt">string</span><span class="p">]</span><span class="k">interface</span><span class="p">{}{</span>
        <span class="s">"event"</span><span class="o">:</span> <span class="s">"sub"</span><span class="p">,</span>
        <span class="s">"params"</span><span class="o">:</span> <span class="k">map</span><span class="p">[</span><span class="kt">string</span><span class="p">]</span><span class="k">interface</span><span class="p">{}{</span>
            <span class="s">"biz"</span><span class="o">:</span>      <span class="s">"market"</span><span class="p">,</span>
            <span class="s">"type"</span><span class="o">:</span>     <span class="s">"swap.tag"</span><span class="p">,</span>
            <span class="s">"symbol"</span><span class="o">:</span>   <span class="s">"BTCUSDT"</span><span class="p">,</span>
            <span class="s">"interval"</span><span class="o">:</span> <span class="s">"1min"</span><span class="p">,</span>
        <span class="p">},</span>
        <span class="s">"zip"</span><span class="o">:</span> <span class="no">false</span><span class="p">,</span>
    <span class="p">}</span>
    <span class="n">err</span> <span class="o">=</span> <span class="n">c</span><span class="o">.</span><span class="n">WriteJSON</span><span class="p">(</span><span class="n">subMsg</span><span class="p">)</span>
    <span class="k">if</span> <span class="n">err</span> <span class="o">!=</span> <span class="no">nil</span> <span class="p">{</span>
        <span class="n">log</span><span class="o">.</span><span class="n">Fatal</span><span class="p">(</span><span class="s">"Failed to send subscription:"</span><span class="p">,</span> <span class="n">err</span><span class="p">)</span>
    <span class="p">}</span>
    <span class="n">fmt</span><span class="o">.</span><span class="n">Println</span><span class="p">(</span><span class="s">"Subscription request sent:"</span><span class="p">,</span> <span class="n">subMsg</span><span class="p">)</span>

    <span class="c">// Handle messages</span>
    <span class="k">for</span> <span class="p">{</span>
        <span class="n">_</span><span class="p">,</span> <span class="n">message</span><span class="p">,</span> <span class="n">err</span> <span class="o">:=</span> <span class="n">c</span><span class="o">.</span><span class="n">ReadMessage</span><span class="p">()</span>
        <span class="k">if</span> <span class="n">err</span> <span class="o">!=</span> <span class="no">nil</span> <span class="p">{</span>
            <span class="n">log</span><span class="o">.</span><span class="n">Println</span><span class="p">(</span><span class="s">"Error reading message:"</span><span class="p">,</span> <span class="n">err</span><span class="p">)</span>
            <span class="k">return</span>
        <span class="p">}</span>

        <span class="k">var</span> <span class="n">data</span> <span class="k">map</span><span class="p">[</span><span class="kt">string</span><span class="p">]</span><span class="k">interface</span><span class="p">{}</span>
        <span class="k">if</span> <span class="n">err</span> <span class="o">:=</span> <span class="n">json</span><span class="o">.</span><span class="n">Unmarshal</span><span class="p">(</span><span class="n">message</span><span class="p">,</span> <span class="o">&amp;</span><span class="n">data</span><span class="p">);</span> <span class="n">err</span> <span class="o">!=</span> <span class="no">nil</span> <span class="p">{</span>
            <span class="n">log</span><span class="o">.</span><span class="n">Println</span><span class="p">(</span><span class="s">"Failed to parse JSON:"</span><span class="p">,</span> <span class="n">err</span><span class="p">)</span>
            <span class="k">continue</span>
        <span class="p">}</span>

        <span class="c">// Handle ping message</span>
        <span class="k">if</span> <span class="n">ping</span><span class="p">,</span> <span class="n">ok</span> <span class="o">:=</span> <span class="n">data</span><span class="p">[</span><span class="s">"ping"</span><span class="p">]</span><span class="o">.</span><span class="p">(</span><span class="kt">float64</span><span class="p">);</span> <span class="n">ok</span> <span class="p">{</span>
            <span class="n">pong</span> <span class="o">:=</span> <span class="k">map</span><span class="p">[</span><span class="kt">string</span><span class="p">]</span><span class="k">interface</span><span class="p">{}{</span><span class="s">"pong"</span><span class="o">:</span> <span class="n">ping</span><span class="p">}</span>
            <span class="k">if</span> <span class="n">err</span> <span class="o">:=</span> <span class="n">c</span><span class="o">.</span><span class="n">WriteJSON</span><span class="p">(</span><span class="n">pong</span><span class="p">);</span> <span class="n">err</span> <span class="o">!=</span> <span class="no">nil</span> <span class="p">{</span>
                <span class="n">log</span><span class="o">.</span><span class="n">Println</span><span class="p">(</span><span class="s">"Failed to send pong:"</span><span class="p">,</span> <span class="n">err</span><span class="p">)</span>
                <span class="k">return</span>
            <span class="p">}</span>
            <span class="n">fmt</span><span class="o">.</span><span class="n">Println</span><span class="p">(</span><span class="s">"Pong response sent"</span><span class="p">)</span>
            <span class="k">continue</span>
        <span class="p">}</span>

        <span class="c">// Print other messages</span>
        <span class="n">pretty</span><span class="p">,</span> <span class="n">_</span> <span class="o">:=</span> <span class="n">json</span><span class="o">.</span><span class="n">MarshalIndent</span><span class="p">(</span><span class="n">data</span><span class="p">,</span> <span class="s">""</span><span class="p">,</span> <span class="s">"  "</span><span class="p">)</span>
        <span class="n">fmt</span><span class="o">.</span><span class="n">Printf</span><span class="p">(</span><span class="s">"</span><span class="se">\n</span><span class="s">Received message:</span><span class="se">\n</span><span class="s">%s</span><span class="se">\n</span><span class="s">"</span><span class="p">,</span> <span class="n">pretty</span><span class="p">)</span>
    <span class="p">}</span>
<span class="p">}</span>
</code></pre></div><div class="highlight"><pre class="highlight java tab-java"><code><span class="kn">import</span> <span class="nn">java.io.IOException</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">java.net.URI</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">java.net.http.HttpClient</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">java.net.http.WebSocket</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">java.nio.ByteBuffer</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">java.util.concurrent.CompletionStage</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">java.util.concurrent.CountDownLatch</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">java.util.concurrent.TimeUnit</span><span class="o">;</span>

<span class="kd">public</span> <span class="kd">class</span> <span class="nc">WebSocketClient</span> <span class="o">{</span>
    <span class="kd">private</span> <span class="kd">static</span> <span class="nc">CountDownLatch</span> <span class="n">latch</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">CountDownLatch</span><span class="o">(</span><span class="mi">1</span><span class="o">);</span>

    <span class="kd">public</span> <span class="kd">static</span> <span class="kt">void</span> <span class="nf">main</span><span class="o">(</span><span class="nc">String</span><span class="o">[]</span> <span class="n">args</span><span class="o">)</span> <span class="o">{</span>
        <span class="nc">HttpClient</span> <span class="n">client</span> <span class="o">=</span> <span class="nc">HttpClient</span><span class="o">.</span><span class="na">newHttpClient</span><span class="o">();</span>
        <span class="nc">String</span> <span class="n">uri</span> <span class="o">=</span> <span class="s">"wss://stream.uzx.com/notification/ws"</span><span class="o">;</span>

        <span class="nc">WebSocket</span> <span class="n">webSocket</span> <span class="o">=</span> <span class="n">client</span><span class="o">.</span><span class="na">newWebSocketBuilder</span><span class="o">()</span>
               <span class="o">.</span><span class="na">buildAsync</span><span class="o">(</span><span class="no">URI</span><span class="o">.</span><span class="na">create</span><span class="o">(</span><span class="n">uri</span><span class="o">),</span> <span class="k">new</span> <span class="nc">WebSocket</span><span class="o">.</span><span class="na">Listener</span><span class="o">()</span> <span class="o">{</span>
                    <span class="nd">@Override</span>
                    <span class="kd">public</span> <span class="kt">void</span> <span class="nf">onOpen</span><span class="o">(</span><span class="nc">WebSocket</span> <span class="n">webSocket</span><span class="o">)</span> <span class="o">{</span>
                        <span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">"Connection established"</span><span class="o">);</span>
                        <span class="c1">// Send subscription message</span>
                        <span class="nc">String</span> <span class="n">subscribeMsg</span> <span class="o">=</span> <span class="s">"{\"event\":\"sub\",\"params\":{\"biz\":\"market\",\"type\":\"swap.tag\",\"symbol\":\"BTCUSDT\",\"interval\":\"1min\"},\"zip\":false}"</span><span class="o">;</span>
                        <span class="n">webSocket</span><span class="o">.</span><span class="na">sendText</span><span class="o">(</span><span class="n">subscribeMsg</span><span class="o">,</span> <span class="kc">true</span><span class="o">);</span>
                        <span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">"Subscription request sent: "</span> <span class="o">+</span> <span class="n">subscribeMsg</span><span class="o">);</span>
                        <span class="nc">WebSocket</span><span class="o">.</span><span class="na">Listener</span><span class="o">.</span><span class="na">super</span><span class="o">.</span><span class="na">onOpen</span><span class="o">(</span><span class="n">webSocket</span><span class="o">);</span>
                    <span class="o">}</span>

                    <span class="nd">@Override</span>
                    <span class="kd">public</span> <span class="nc">CompletionStage</span><span class="o">&lt;?&gt;</span> <span class="n">onText</span><span class="o">(</span><span class="nc">WebSocket</span> <span class="n">webSocket</span><span class="o">,</span> <span class="nc">CharSequence</span> <span class="n">data</span><span class="o">,</span> <span class="kt">boolean</span> <span class="n">last</span><span class="o">)</span> <span class="o">{</span>
                        <span class="nc">String</span> <span class="n">message</span> <span class="o">=</span> <span class="n">data</span><span class="o">.</span><span class="na">toString</span><span class="o">();</span>
                        <span class="k">try</span> <span class="o">{</span>
                            <span class="c1">// Handle ping message</span>
                            <span class="k">if</span> <span class="o">(</span><span class="n">message</span><span class="o">.</span><span class="na">contains</span><span class="o">(</span><span class="s">"\"ping\""</span><span class="o">))</span> <span class="o">{</span>
                                <span class="nc">String</span> <span class="n">pongMsg</span> <span class="o">=</span> <span class="n">message</span><span class="o">.</span><span class="na">replace</span><span class="o">(</span><span class="s">"\"ping\""</span><span class="o">,</span> <span class="s">"\"pong\""</span><span class="o">);</span>
                                <span class="n">webSocket</span><span class="o">.</span><span class="na">sendText</span><span class="o">(</span><span class="n">pongMsg</span><span class="o">,</span> <span class="kc">true</span><span class="o">);</span>
                                <span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">"Pong response sent"</span><span class="o">);</span>
                            <span class="o">}</span> <span class="k">else</span> <span class="o">{</span>
                                <span class="c1">// Print other messages</span>
                                <span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">"\nReceived message:"</span><span class="o">);</span>
                                <span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="n">message</span><span class="o">);</span>
                            <span class="o">}</span>
                        <span class="o">}</span> <span class="k">catch</span> <span class="o">(</span><span class="nc">Exception</span> <span class="n">e</span><span class="o">)</span> <span class="o">{</span>
                            <span class="n">e</span><span class="o">.</span><span class="na">printStackTrace</span><span class="o">();</span>
                        <span class="o">}</span>
                        <span class="k">return</span> <span class="nc">WebSocket</span><span class="o">.</span><span class="na">Listener</span><span class="o">.</span><span class="na">super</span><span class="o">.</span><span class="na">onText</span><span class="o">(</span><span class="n">webSocket</span><span class="o">,</span> <span class="n">data</span><span class="o">,</span> <span class="n">last</span><span class="o">);</span>
                    <span class="o">}</span>

                    <span class="nd">@Override</span>
                    <span class="kd">public</span> <span class="nc">CompletionStage</span><span class="o">&lt;?&gt;</span> <span class="n">onClose</span><span class="o">(</span><span class="nc">WebSocket</span> <span class="n">webSocket</span><span class="o">,</span> <span class="kt">int</span> <span class="n">statusCode</span><span class="o">,</span> <span class="nc">String</span> <span class="n">reason</span><span class="o">)</span> <span class="o">{</span>
                        <span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">"Connection closed: status code "</span> <span class="o">+</span> <span class="n">statusCode</span> <span class="o">+</span> <span class="s">", reason: "</span> <span class="o">+</span> <span class="n">reason</span><span class="o">);</span>
                        <span class="n">latch</span><span class="o">.</span><span class="na">countDown</span><span class="o">();</span>
                        <span class="k">return</span> <span class="nc">WebSocket</span><span class="o">.</span><span class="na">Listener</span><span class="o">.</span><span class="na">super</span><span class="o">.</span><span class="na">onClose</span><span class="o">(</span><span class="n">webSocket</span><span class="o">,</span> <span class="n">statusCode</span><span class="o">,</span> <span class="n">reason</span><span class="o">);</span>
                    <span class="o">}</span>

                    <span class="nd">@Override</span>
                    <span class="kd">public</span> <span class="kt">void</span> <span class="nf">onError</span><span class="o">(</span><span class="nc">WebSocket</span> <span class="n">webSocket</span><span class="o">,</span> <span class="nc">Throwable</span> <span class="n">error</span><span class="o">)</span> <span class="o">{</span>
                        <span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">"Error occurred:"</span><span class="o">);</span>
                        <span class="n">error</span><span class="o">.</span><span class="na">printStackTrace</span><span class="o">();</span>
                        <span class="n">latch</span><span class="o">.</span><span class="na">countDown</span><span class="o">();</span>
                    <span class="o">}</span>
                <span class="o">}).</span><span class="na">join</span><span class="o">();</span>

        <span class="k">try</span> <span class="o">{</span>
            <span class="c1">// Keep the connection alive</span>
            <span class="n">latch</span><span class="o">.</span><span class="na">await</span><span class="o">(</span><span class="mi">1</span><span class="o">,</span> <span class="nc">TimeUnit</span><span class="o">.</span><span class="na">HOURS</span><span class="o">);</span>
        <span class="o">}</span> <span class="k">catch</span> <span class="o">(</span><span class="nc">InterruptedException</span> <span class="n">e</span><span class="o">)</span> <span class="o">{</span>
            <span class="n">e</span><span class="o">.</span><span class="na">printStackTrace</span><span class="o">();</span>
            <span class="nc">Thread</span><span class="o">.</span><span class="na">currentThread</span><span class="o">().</span><span class="na">interrupt</span><span class="o">();</span>
        <span class="o">}</span>
    <span class="o">}</span>
<span class="o">}</span>
</code></pre></div>
<table><thead>
<tr>
<th style="text-align: left">Parameter Name</th>
<th style="text-align: left">Required</th>
<th style="text-align: left">Type</th>
<th style="text-align: left">Description</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left">event</td>
<td style="text-align: left">Yes</td>
<td style="text-align: left">string</td>
<td style="text-align: left">Operation</td>
</tr>
<tr>
<td style="text-align: left">params</td>
<td style="text-align: left">Yes</td>
<td style="text-align: left">object</td>
<td style="text-align: left">Subscription parameter information</td>
</tr>
<tr>
<td style="text-align: left">&gt;symbol</td>
<td style="text-align: left">Yes</td>
<td style="text-align: left">string</td>
<td style="text-align: left">Product Name (currency pair)</td>
</tr>
<tr>
<td style="text-align: left">&gt;biz</td>
<td style="text-align: left">Yes</td>
<td style="text-align: left">string</td>
<td style="text-align: left">Type, <code>market</code></td>
</tr>
<tr>
<td style="text-align: left">&gt;type</td>
<td style="text-align: left">Yes</td>
<td style="text-align: left">string</td>
<td style="text-align: left">Channel name</td>
</tr>
<tr>
<td style="text-align: left">&gt;interval</td>
<td style="text-align: left">No</td>
<td style="text-align: left">string</td>
<td style="text-align: left">Period</td>
</tr>
<tr>
<td style="text-align: left">zip</td>
<td style="text-align: left">Yes</td>
<td style="text-align: left">Boolean</td>
<td style="text-align: left">Whether to enable gzip</td>
</tr>
</tbody></table>
<h4 id='a222a51egtf'>Response Parameters</h4>
<blockquote>
<p>Response Example</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
  </span><span class="nl">"event"</span><span class="p">:</span><span class="w"> </span><span class="s2">"subscribe"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"topic"</span><span class="p">:</span><span class="w"> </span><span class="s2">"tag.BTCUSDT.kline.1min"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ok"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<table><thead>
<tr>
<th style="text-align: left">Parameter Name</th>
<th style="text-align: left">Type</th>
<th style="text-align: left">Description</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left">id</td>
<td style="text-align: left">String</td>
<td style="text-align: left">Ignore this field</td>
</tr>
<tr>
<td style="text-align: left">event</td>
<td style="text-align: left">String</td>
<td style="text-align: left">Event type</td>
</tr>
<tr>
<td style="text-align: left">topic</td>
<td style="text-align: left">String</td>
<td style="text-align: left">Topic name</td>
</tr>
<tr>
<td style="text-align: left">status</td>
<td style="text-align: left">String</td>
<td style="text-align: left">Status code</td>
</tr>
</tbody></table>
<h4 id='5efa6fabzf28'>FEED Parameter Description</h4>
<blockquote>
<p>FEED Example</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"type"</span><span class="p">:</span><span class="s2">"swap.tag.candles"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"symbol"</span><span class="p">:</span><span class="s2">"BTCUSDT"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"interval"</span><span class="p">:</span><span class="s2">"1min"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"data"</span><span class="p">:{</span><span class="w">
    </span><span class="nl">"id"</span><span class="p">:</span><span class="mi">1751365740</span><span class="p">,</span><span class="w">
    </span><span class="nl">"open"</span><span class="p">:</span><span class="s2">"106441.7"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"close"</span><span class="p">:</span><span class="s2">"106433.5"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"high"</span><span class="p">:</span><span class="s2">"106441.7"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"low"</span><span class="p">:</span><span class="s2">"106432.1"</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<table><thead>
<tr>
<th style="text-align: left">Parameter Name</th>
<th style="text-align: left">Type</th>
<th style="text-align: left">Description</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left">data</td>
<td style="text-align: left">Object</td>
<td style="text-align: left">Returned data</td>
</tr>
<tr>
<td style="text-align: left">&gt; close</td>
<td style="text-align: left">String</td>
<td style="text-align: left">Closing price of the period</td>
</tr>
<tr>
<td style="text-align: left">&gt; high</td>
<td style="text-align: left">String</td>
<td style="text-align: left">Highest price of the period</td>
</tr>
<tr>
<td style="text-align: left">&gt; id</td>
<td style="text-align: left">Int</td>
<td style="text-align: left">Time of the period, Unix timestamp (in seconds), e.g., 1751365740</td>
</tr>
<tr>
<td style="text-align: left">&gt; low</td>
<td style="text-align: left">String</td>
<td style="text-align: left">Lowest price of the period</td>
</tr>
<tr>
<td style="text-align: left">&gt; open</td>
<td style="text-align: left">String</td>
<td style="text-align: left">Opening price of the period</td>
</tr>
<tr>
<td style="text-align: left">interval</td>
<td style="text-align: left">String</td>
<td style="text-align: left">Period</td>
</tr>
<tr>
<td style="text-align: left">symbol</td>
<td style="text-align: left">String</td>
<td style="text-align: left">Product Namw (currency pair)</td>
</tr>
<tr>
<td style="text-align: left">type</td>
<td style="text-align: left">String</td>
<td style="text-align: left">Channel name</td>
</tr>
</tbody></table>
<h2 id='ef153bb52ocw'>Spot Public Subscription</h2>
<p><code>/notification/ws</code></p>
<h3 id='18789d7cbj7y'>Spot Candles</h3>
<p>Returns historical candlestick data. The candlestick period is calculated based on Shanghai time.</p>
<h4 id='22da1a05qogm'>Request Parameters</h4>
<blockquote>
<p>Request Example</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"event"</span><span class="p">:</span><span class="w"> </span><span class="s2">"sub"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"params"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"biz"</span><span class="p">:</span><span class="w"> </span><span class="s2">"makert"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"spot.candles"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"symbol"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BTC-USDT"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"interval"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1min"</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="nl">"zip"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div><div class="highlight"><pre class="highlight python tab-python"><code><span class="kn">import</span> <span class="nn">asyncio</span>
<span class="kn">import</span> <span class="nn">json</span>
<span class="kn">import</span> <span class="nn">websockets</span>

<span class="k">async</span> <span class="k">def</span> <span class="nf">handle_websocket</span><span class="p">():</span>
    <span class="k">async</span> <span class="k">with</span> <span class="n">websockets</span><span class="p">.</span><span class="n">connect</span><span class="p">(</span><span class="s">"wss://stream.uzx.com/notification/ws"</span><span class="p">)</span> <span class="k">as</span> <span class="n">ws</span><span class="p">:</span>
        <span class="k">await</span> <span class="n">ws</span><span class="p">.</span><span class="n">send</span><span class="p">(</span><span class="n">json</span><span class="p">.</span><span class="n">dumps</span><span class="p">({</span>
            <span class="s">"event"</span><span class="p">:</span> <span class="s">"sub"</span><span class="p">,</span>
            <span class="s">"params"</span><span class="p">:</span> <span class="p">{</span>
                <span class="s">"biz"</span><span class="p">:</span> <span class="s">"market"</span><span class="p">,</span>
                <span class="s">"type"</span><span class="p">:</span> <span class="s">"spot.candles"</span><span class="p">,</span>
                <span class="s">"symbol"</span><span class="p">:</span> <span class="s">"BTC-USDT"</span><span class="p">,</span>
                <span class="s">"interval"</span><span class="p">:</span> <span class="s">"1min"</span>
            <span class="p">},</span>
            <span class="s">"zip"</span><span class="p">:</span> <span class="bp">False</span>
        <span class="p">}))</span>

        <span class="k">while</span> <span class="bp">True</span><span class="p">:</span>
            <span class="n">msg</span> <span class="o">=</span> <span class="k">await</span> <span class="n">ws</span><span class="p">.</span><span class="n">recv</span><span class="p">()</span>
            <span class="n">data</span> <span class="o">=</span> <span class="n">json</span><span class="p">.</span><span class="n">loads</span><span class="p">(</span><span class="n">msg</span><span class="p">)</span>
            <span class="k">if</span> <span class="s">"ping"</span> <span class="ow">in</span> <span class="n">data</span><span class="p">:</span>
                <span class="k">await</span> <span class="n">ws</span><span class="p">.</span><span class="n">send</span><span class="p">(</span><span class="n">json</span><span class="p">.</span><span class="n">dumps</span><span class="p">({</span><span class="s">"pong"</span><span class="p">:</span> <span class="n">data</span><span class="p">[</span><span class="s">"ping"</span><span class="p">]}))</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="k">print</span><span class="p">(</span><span class="n">json</span><span class="p">.</span><span class="n">dumps</span><span class="p">(</span><span class="n">data</span><span class="p">,</span> <span class="n">indent</span><span class="o">=</span><span class="mi">2</span><span class="p">))</span>

<span class="n">asyncio</span><span class="p">.</span><span class="n">run</span><span class="p">(</span><span class="n">handle_websocket</span><span class="p">())</span>
</code></pre></div><div class="highlight"><pre class="highlight go tab-go"><code><span class="k">package</span> <span class="n">main</span>

<span class="k">import</span> <span class="p">(</span>
    <span class="s">"encoding/json"</span>
    <span class="s">"fmt"</span>
    <span class="s">"github.com/gorilla/websocket"</span>
    <span class="s">"log"</span>
    <span class="s">"net"</span>
    <span class="s">"net/http"</span>
    <span class="s">"time"</span>
<span class="p">)</span>

<span class="k">func</span> <span class="n">main</span><span class="p">()</span> <span class="p">{</span>
    <span class="n">url</span> <span class="o">:=</span> <span class="s">"wss://stream.uzx.com/notification/ws"</span>

    <span class="c">// Custom dialer configuration</span>
    <span class="n">dialer</span> <span class="o">:=</span> <span class="o">&amp;</span><span class="n">websocket</span><span class="o">.</span><span class="n">Dialer</span><span class="p">{</span>
        <span class="n">Proxy</span><span class="o">:</span> <span class="n">http</span><span class="o">.</span><span class="n">ProxyFromEnvironment</span><span class="p">,</span>
        <span class="n">NetDial</span><span class="o">:</span> <span class="k">func</span><span class="p">(</span><span class="n">network</span><span class="p">,</span> <span class="n">addr</span> <span class="kt">string</span><span class="p">)</span> <span class="p">(</span><span class="n">net</span><span class="o">.</span><span class="n">Conn</span><span class="p">,</span> <span class="kt">error</span><span class="p">)</span> <span class="p">{</span>
            <span class="c">// Force use of IPv4</span>
            <span class="k">return</span> <span class="n">net</span><span class="o">.</span><span class="n">Dial</span><span class="p">(</span><span class="s">"tcp4"</span><span class="p">,</span> <span class="n">addr</span><span class="p">)</span>
        <span class="p">},</span>
        <span class="n">HandshakeTimeout</span><span class="o">:</span> <span class="m">10</span> <span class="o">*</span> <span class="n">time</span><span class="o">.</span><span class="n">Second</span><span class="p">,</span>
    <span class="p">}</span>

    <span class="c">// Establish WebSocket connection</span>
    <span class="n">c</span><span class="p">,</span> <span class="n">_</span><span class="p">,</span> <span class="n">err</span> <span class="o">:=</span> <span class="n">dialer</span><span class="o">.</span><span class="n">Dial</span><span class="p">(</span><span class="n">url</span><span class="p">,</span> <span class="no">nil</span><span class="p">)</span>
    <span class="k">if</span> <span class="n">err</span> <span class="o">!=</span> <span class="no">nil</span> <span class="p">{</span>
        <span class="n">log</span><span class="o">.</span><span class="n">Fatal</span><span class="p">(</span><span class="s">"Connection failed:"</span><span class="p">,</span> <span class="n">err</span><span class="p">)</span>
    <span class="p">}</span>
    <span class="k">defer</span> <span class="n">c</span><span class="o">.</span><span class="n">Close</span><span class="p">()</span>

    <span class="c">// Subscribe to messages</span>
    <span class="n">subMsg</span> <span class="o">:=</span> <span class="k">map</span><span class="p">[</span><span class="kt">string</span><span class="p">]</span><span class="k">interface</span><span class="p">{}{</span>
        <span class="s">"event"</span><span class="o">:</span> <span class="s">"sub"</span><span class="p">,</span>
        <span class="s">"params"</span><span class="o">:</span> <span class="k">map</span><span class="p">[</span><span class="kt">string</span><span class="p">]</span><span class="k">interface</span><span class="p">{}{</span>
            <span class="s">"biz"</span><span class="o">:</span>      <span class="s">"market"</span><span class="p">,</span>
            <span class="s">"type"</span><span class="o">:</span>     <span class="s">"spot.candles"</span><span class="p">,</span>
            <span class="s">"symbol"</span><span class="o">:</span>   <span class="s">"BTC-USDT"</span><span class="p">,</span>
            <span class="s">"interval"</span><span class="o">:</span> <span class="s">"1min"</span><span class="p">,</span>
        <span class="p">},</span>
        <span class="s">"zip"</span><span class="o">:</span> <span class="no">false</span><span class="p">,</span>
    <span class="p">}</span>
    <span class="n">err</span> <span class="o">=</span> <span class="n">c</span><span class="o">.</span><span class="n">WriteJSON</span><span class="p">(</span><span class="n">subMsg</span><span class="p">)</span>
    <span class="k">if</span> <span class="n">err</span> <span class="o">!=</span> <span class="no">nil</span> <span class="p">{</span>
        <span class="n">log</span><span class="o">.</span><span class="n">Fatal</span><span class="p">(</span><span class="s">"Failed to send subscription:"</span><span class="p">,</span> <span class="n">err</span><span class="p">)</span>
    <span class="p">}</span>
    <span class="n">fmt</span><span class="o">.</span><span class="n">Println</span><span class="p">(</span><span class="s">"Subscription request sent:"</span><span class="p">,</span> <span class="n">subMsg</span><span class="p">)</span>

    <span class="c">// Handle messages</span>
    <span class="k">for</span> <span class="p">{</span>
        <span class="n">_</span><span class="p">,</span> <span class="n">message</span><span class="p">,</span> <span class="n">err</span> <span class="o">:=</span> <span class="n">c</span><span class="o">.</span><span class="n">ReadMessage</span><span class="p">()</span>
        <span class="k">if</span> <span class="n">err</span> <span class="o">!=</span> <span class="no">nil</span> <span class="p">{</span>
            <span class="n">log</span><span class="o">.</span><span class="n">Println</span><span class="p">(</span><span class="s">"Error reading message:"</span><span class="p">,</span> <span class="n">err</span><span class="p">)</span>
            <span class="k">return</span>
        <span class="p">}</span>

        <span class="k">var</span> <span class="n">data</span> <span class="k">map</span><span class="p">[</span><span class="kt">string</span><span class="p">]</span><span class="k">interface</span><span class="p">{}</span>
        <span class="k">if</span> <span class="n">err</span> <span class="o">:=</span> <span class="n">json</span><span class="o">.</span><span class="n">Unmarshal</span><span class="p">(</span><span class="n">message</span><span class="p">,</span> <span class="o">&amp;</span><span class="n">data</span><span class="p">);</span> <span class="n">err</span> <span class="o">!=</span> <span class="no">nil</span> <span class="p">{</span>
            <span class="n">log</span><span class="o">.</span><span class="n">Println</span><span class="p">(</span><span class="s">"Failed to parse JSON:"</span><span class="p">,</span> <span class="n">err</span><span class="p">)</span>
            <span class="k">continue</span>
        <span class="p">}</span>

        <span class="c">// Handle ping message</span>
        <span class="k">if</span> <span class="n">ping</span><span class="p">,</span> <span class="n">ok</span> <span class="o">:=</span> <span class="n">data</span><span class="p">[</span><span class="s">"ping"</span><span class="p">]</span><span class="o">.</span><span class="p">(</span><span class="kt">float64</span><span class="p">);</span> <span class="n">ok</span> <span class="p">{</span>
            <span class="n">pong</span> <span class="o">:=</span> <span class="k">map</span><span class="p">[</span><span class="kt">string</span><span class="p">]</span><span class="k">interface</span><span class="p">{}{</span><span class="s">"pong"</span><span class="o">:</span> <span class="n">ping</span><span class="p">}</span>
            <span class="k">if</span> <span class="n">err</span> <span class="o">:=</span> <span class="n">c</span><span class="o">.</span><span class="n">WriteJSON</span><span class="p">(</span><span class="n">pong</span><span class="p">);</span> <span class="n">err</span> <span class="o">!=</span> <span class="no">nil</span> <span class="p">{</span>
                <span class="n">log</span><span class="o">.</span><span class="n">Println</span><span class="p">(</span><span class="s">"Failed to send pong:"</span><span class="p">,</span> <span class="n">err</span><span class="p">)</span>
                <span class="k">return</span>
            <span class="p">}</span>
            <span class="n">fmt</span><span class="o">.</span><span class="n">Println</span><span class="p">(</span><span class="s">"Pong response sent"</span><span class="p">)</span>
            <span class="k">continue</span>
        <span class="p">}</span>

        <span class="c">// Print other messages</span>
        <span class="n">pretty</span><span class="p">,</span> <span class="n">_</span> <span class="o">:=</span> <span class="n">json</span><span class="o">.</span><span class="n">MarshalIndent</span><span class="p">(</span><span class="n">data</span><span class="p">,</span> <span class="s">""</span><span class="p">,</span> <span class="s">"  "</span><span class="p">)</span>
        <span class="n">fmt</span><span class="o">.</span><span class="n">Printf</span><span class="p">(</span><span class="s">"</span><span class="se">\n</span><span class="s">Received message:</span><span class="se">\n</span><span class="s">%s</span><span class="se">\n</span><span class="s">"</span><span class="p">,</span> <span class="n">pretty</span><span class="p">)</span>
    <span class="p">}</span>
<span class="p">}</span>
</code></pre></div><div class="highlight"><pre class="highlight java tab-java"><code><span class="kn">import</span> <span class="nn">java.io.IOException</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">java.net.URI</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">java.net.http.HttpClient</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">java.net.http.WebSocket</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">java.nio.ByteBuffer</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">java.util.concurrent.CompletionStage</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">java.util.concurrent.CountDownLatch</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">java.util.concurrent.TimeUnit</span><span class="o">;</span>

<span class="kd">public</span> <span class="kd">class</span> <span class="nc">WebSocketClient</span> <span class="o">{</span>
    <span class="kd">private</span> <span class="kd">static</span> <span class="nc">CountDownLatch</span> <span class="n">latch</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">CountDownLatch</span><span class="o">(</span><span class="mi">1</span><span class="o">);</span>

    <span class="kd">public</span> <span class="kd">static</span> <span class="kt">void</span> <span class="nf">main</span><span class="o">(</span><span class="nc">String</span><span class="o">[]</span> <span class="n">args</span><span class="o">)</span> <span class="o">{</span>
        <span class="nc">HttpClient</span> <span class="n">client</span> <span class="o">=</span> <span class="nc">HttpClient</span><span class="o">.</span><span class="na">newHttpClient</span><span class="o">();</span>
        <span class="nc">String</span> <span class="n">uri</span> <span class="o">=</span> <span class="s">"wss://stream.uzx.com/notification/ws"</span><span class="o">;</span>

        <span class="nc">WebSocket</span> <span class="n">webSocket</span> <span class="o">=</span> <span class="n">client</span><span class="o">.</span><span class="na">newWebSocketBuilder</span><span class="o">()</span>
               <span class="o">.</span><span class="na">buildAsync</span><span class="o">(</span><span class="no">URI</span><span class="o">.</span><span class="na">create</span><span class="o">(</span><span class="n">uri</span><span class="o">),</span> <span class="k">new</span> <span class="nc">WebSocket</span><span class="o">.</span><span class="na">Listener</span><span class="o">()</span> <span class="o">{</span>
                    <span class="nd">@Override</span>
                    <span class="kd">public</span> <span class="kt">void</span> <span class="nf">onOpen</span><span class="o">(</span><span class="nc">WebSocket</span> <span class="n">webSocket</span><span class="o">)</span> <span class="o">{</span>
                        <span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">"Connection established"</span><span class="o">);</span>
                        <span class="c1">// Send subscription message</span>
                        <span class="nc">String</span> <span class="n">subscribeMsg</span> <span class="o">=</span> <span class="s">"{\"event\":\"sub\",\"params\":{\"biz\":\"market\",\"type\":\"spot.candles\",\"symbol\":\"BTC-USDT\",\"interval\":\"1min\"},\"zip\":false}"</span><span class="o">;</span>
                        <span class="n">webSocket</span><span class="o">.</span><span class="na">sendText</span><span class="o">(</span><span class="n">subscribeMsg</span><span class="o">,</span> <span class="kc">true</span><span class="o">);</span>
                        <span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">"Subscription request sent: "</span> <span class="o">+</span> <span class="n">subscribeMsg</span><span class="o">);</span>
                        <span class="nc">WebSocket</span><span class="o">.</span><span class="na">Listener</span><span class="o">.</span><span class="na">super</span><span class="o">.</span><span class="na">onOpen</span><span class="o">(</span><span class="n">webSocket</span><span class="o">);</span>
                    <span class="o">}</span>

                    <span class="nd">@Override</span>
                    <span class="kd">public</span> <span class="nc">CompletionStage</span><span class="o">&lt;?&gt;</span> <span class="n">onText</span><span class="o">(</span><span class="nc">WebSocket</span> <span class="n">webSocket</span><span class="o">,</span> <span class="nc">CharSequence</span> <span class="n">data</span><span class="o">,</span> <span class="kt">boolean</span> <span class="n">last</span><span class="o">)</span> <span class="o">{</span>
                        <span class="nc">String</span> <span class="n">message</span> <span class="o">=</span> <span class="n">data</span><span class="o">.</span><span class="na">toString</span><span class="o">();</span>
                        <span class="k">try</span> <span class="o">{</span>
                            <span class="c1">// Handle ping message</span>
                            <span class="k">if</span> <span class="o">(</span><span class="n">message</span><span class="o">.</span><span class="na">contains</span><span class="o">(</span><span class="s">"\"ping\""</span><span class="o">))</span> <span class="o">{</span>
                                <span class="nc">String</span> <span class="n">pongMsg</span> <span class="o">=</span> <span class="n">message</span><span class="o">.</span><span class="na">replace</span><span class="o">(</span><span class="s">"\"ping\""</span><span class="o">,</span> <span class="s">"\"pong\""</span><span class="o">);</span>
                                <span class="n">webSocket</span><span class="o">.</span><span class="na">sendText</span><span class="o">(</span><span class="n">pongMsg</span><span class="o">,</span> <span class="kc">true</span><span class="o">);</span>
                                <span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">"Pong response sent"</span><span class="o">);</span>
                            <span class="o">}</span> <span class="k">else</span> <span class="o">{</span>
                                <span class="c1">// Print other messages</span>
                                <span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">"\nReceived message:"</span><span class="o">);</span>
                                <span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="n">message</span><span class="o">);</span>
                            <span class="o">}</span>
                        <span class="o">}</span> <span class="k">catch</span> <span class="o">(</span><span class="nc">Exception</span> <span class="n">e</span><span class="o">)</span> <span class="o">{</span>
                            <span class="n">e</span><span class="o">.</span><span class="na">printStackTrace</span><span class="o">();</span>
                        <span class="o">}</span>
                        <span class="k">return</span> <span class="nc">WebSocket</span><span class="o">.</span><span class="na">Listener</span><span class="o">.</span><span class="na">super</span><span class="o">.</span><span class="na">onText</span><span class="o">(</span><span class="n">webSocket</span><span class="o">,</span> <span class="n">data</span><span class="o">,</span> <span class="n">last</span><span class="o">);</span>
                    <span class="o">}</span>

                    <span class="nd">@Override</span>
                    <span class="kd">public</span> <span class="nc">CompletionStage</span><span class="o">&lt;?&gt;</span> <span class="n">onClose</span><span class="o">(</span><span class="nc">WebSocket</span> <span class="n">webSocket</span><span class="o">,</span> <span class="kt">int</span> <span class="n">statusCode</span><span class="o">,</span> <span class="nc">String</span> <span class="n">reason</span><span class="o">)</span> <span class="o">{</span>
                        <span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">"Connection closed: status code "</span> <span class="o">+</span> <span class="n">statusCode</span> <span class="o">+</span> <span class="s">", reason: "</span> <span class="o">+</span> <span class="n">reason</span><span class="o">);</span>
                        <span class="n">latch</span><span class="o">.</span><span class="na">countDown</span><span class="o">();</span>
                        <span class="k">return</span> <span class="nc">WebSocket</span><span class="o">.</span><span class="na">Listener</span><span class="o">.</span><span class="na">super</span><span class="o">.</span><span class="na">onClose</span><span class="o">(</span><span class="n">webSocket</span><span class="o">,</span> <span class="n">statusCode</span><span class="o">,</span> <span class="n">reason</span><span class="o">);</span>
                    <span class="o">}</span>

                    <span class="nd">@Override</span>
                    <span class="kd">public</span> <span class="kt">void</span> <span class="nf">onError</span><span class="o">(</span><span class="nc">WebSocket</span> <span class="n">webSocket</span><span class="o">,</span> <span class="nc">Throwable</span> <span class="n">error</span><span class="o">)</span> <span class="o">{</span>
                        <span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">"Error occurred:"</span><span class="o">);</span>
                        <span class="n">error</span><span class="o">.</span><span class="na">printStackTrace</span><span class="o">();</span>
                        <span class="n">latch</span><span class="o">.</span><span class="na">countDown</span><span class="o">();</span>
                    <span class="o">}</span>
                <span class="o">}).</span><span class="na">join</span><span class="o">();</span>

        <span class="k">try</span> <span class="o">{</span>
            <span class="c1">// Keep the connection alive</span>
            <span class="n">latch</span><span class="o">.</span><span class="na">await</span><span class="o">(</span><span class="mi">1</span><span class="o">,</span> <span class="nc">TimeUnit</span><span class="o">.</span><span class="na">HOURS</span><span class="o">);</span>
        <span class="o">}</span> <span class="k">catch</span> <span class="o">(</span><span class="nc">InterruptedException</span> <span class="n">e</span><span class="o">)</span> <span class="o">{</span>
            <span class="n">e</span><span class="o">.</span><span class="na">printStackTrace</span><span class="o">();</span>
            <span class="nc">Thread</span><span class="o">.</span><span class="na">currentThread</span><span class="o">().</span><span class="na">interrupt</span><span class="o">();</span>
        <span class="o">}</span>
    <span class="o">}</span>
<span class="o">}</span>
</code></pre></div>
<table><thead>
<tr>
<th style="text-align: left">Parameter Name</th>
<th style="text-align: left">Required</th>
<th style="text-align: left">Type</th>
<th style="text-align: left">Description</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left">event</td>
<td style="text-align: left">Yes</td>
<td style="text-align: left">string</td>
<td style="text-align: left">Operation</td>
</tr>
<tr>
<td style="text-align: left">params</td>
<td style="text-align: left">Yes</td>
<td style="text-align: left">object</td>
<td style="text-align: left">Subscription parameter information</td>
</tr>
<tr>
<td style="text-align: left">&gt;symbol</td>
<td style="text-align: left">Yes</td>
<td style="text-align: left">string</td>
<td style="text-align: left">Product name</td>
</tr>
<tr>
<td style="text-align: left">&gt;biz</td>
<td style="text-align: left">Yes</td>
<td style="text-align: left">string</td>
<td style="text-align: left">Type, <code>market</code></td>
</tr>
<tr>
<td style="text-align: left">&gt;type</td>
<td style="text-align: left">Yes</td>
<td style="text-align: left">string</td>
<td style="text-align: left">Channel name</td>
</tr>
<tr>
<td style="text-align: left">&gt;interval</td>
<td style="text-align: left">No</td>
<td style="text-align: left">string</td>
<td style="text-align: left">Period</td>
</tr>
<tr>
<td style="text-align: left">zip</td>
<td style="text-align: left">Yes</td>
<td style="text-align: left">Boolean</td>
<td style="text-align: left">Whether to enable gzip</td>
</tr>
</tbody></table>
<h4 id='a222a51eize8'>Response Parameters</h4>
<blockquote>
<p>Response Example</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
    </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
    </span><span class="nl">"event"</span><span class="p">:</span><span class="w"> </span><span class="s2">"subscribe"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"topic"</span><span class="p">:</span><span class="w"> </span><span class="s2">"spot.BTC-USDT.kline.1min"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ok"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<table><thead>
<tr>
<th style="text-align: left">Parameter Name</th>
<th style="text-align: left">Type</th>
<th style="text-align: left">Description</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left">id</td>
<td style="text-align: left">String</td>
<td style="text-align: left">Ignore this field</td>
</tr>
<tr>
<td style="text-align: left">event</td>
<td style="text-align: left">String</td>
<td style="text-align: left">Event type</td>
</tr>
<tr>
<td style="text-align: left">topic</td>
<td style="text-align: left">String</td>
<td style="text-align: left">Topic name</td>
</tr>
<tr>
<td style="text-align: left">status</td>
<td style="text-align: left">String</td>
<td style="text-align: left">Status code</td>
</tr>
</tbody></table>
<h4 id='5efa6fabrd3m'>FEED Parameter Description</h4>
<blockquote>
<p>FEED Example</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"spot.market.candles"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"product_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BTC-USDT"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"interval"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1min"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">1737078180</span><span class="p">,</span><span class="w">
    </span><span class="nl">"open"</span><span class="p">:</span><span class="w"> </span><span class="s2">"101525.25"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"close"</span><span class="p">:</span><span class="w"> </span><span class="s2">"101424"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"high"</span><span class="p">:</span><span class="w"> </span><span class="s2">"101535.8"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"low"</span><span class="p">:</span><span class="w"> </span><span class="s2">"101414.9"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"turn_over"</span><span class="p">:</span><span class="w"> </span><span class="s2">"11871978.85186"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"vol"</span><span class="p">:</span><span class="w"> </span><span class="s2">"117.024"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"count"</span><span class="p">:</span><span class="w"> </span><span class="mi">187</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<table><thead>
<tr>
<th style="text-align: left">Parameter Name</th>
<th style="text-align: left">Type</th>
<th style="text-align: left">Description</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left">data</td>
<td style="text-align: left">Object</td>
<td style="text-align: left">Returned data</td>
</tr>
<tr>
<td style="text-align: left">&gt;close</td>
<td style="text-align: left">String</td>
<td style="text-align: left">Closing price of the period</td>
</tr>
<tr>
<td style="text-align: left">&gt;count</td>
<td style="text-align: left">Int</td>
<td style="text-align: left">Number of trades</td>
</tr>
<tr>
<td style="text-align: left">&gt;high</td>
<td style="text-align: left">String</td>
<td style="text-align: left">Highest price of the period</td>
</tr>
<tr>
<td style="text-align: left">&gt;id</td>
<td style="text-align: left">Int</td>
<td style="text-align: left">Time of the period, Unix timestamp (in seconds), e.g., 1737078180</td>
</tr>
<tr>
<td style="text-align: left">&gt;low</td>
<td style="text-align: left">String</td>
<td style="text-align: left">Lowest price of the period</td>
</tr>
<tr>
<td style="text-align: left">&gt;open</td>
<td style="text-align: left">String</td>
<td style="text-align: left">Opening price of the period</td>
</tr>
<tr>
<td style="text-align: left">&gt;turn_over</td>
<td style="text-align: left">String</td>
<td style="text-align: left">Total trade amount</td>
</tr>
<tr>
<td style="text-align: left">&gt;vol</td>
<td style="text-align: left">String</td>
<td style="text-align: left">Trade volume in the quoted currency</td>
</tr>
<tr>
<td style="text-align: left">interval</td>
<td style="text-align: left">String</td>
<td style="text-align: left">Period</td>
</tr>
<tr>
<td style="text-align: left">product_name</td>
<td style="text-align: left">String</td>
<td style="text-align: left">Product Name</td>
</tr>
<tr>
<td style="text-align: left">type</td>
<td style="text-align: left">String</td>
<td style="text-align: left">Channel name</td>
</tr>
</tbody></table>
<h3 id='f82e00ddfp8j'>Spot Overview</h3><h4 id='22da1a05jd73'>Request Parameters</h4>
<blockquote>
<p>Request Example</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
    </span><span class="nl">"event"</span><span class="p">:</span><span class="w"> </span><span class="s2">"sub"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"params"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nl">"biz"</span><span class="p">:</span><span class="w"> </span><span class="s2">"market"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"spot.overview"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nl">"zip"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div><div class="highlight"><pre class="highlight python tab-python"><code><span class="kn">import</span> <span class="nn">asyncio</span>
<span class="kn">import</span> <span class="nn">json</span>
<span class="kn">import</span> <span class="nn">websockets</span>

<span class="k">async</span> <span class="k">def</span> <span class="nf">handle_websocket</span><span class="p">():</span>
    <span class="k">async</span> <span class="k">with</span> <span class="n">websockets</span><span class="p">.</span><span class="n">connect</span><span class="p">(</span><span class="s">"wss://stream.uzx.com/notification/ws"</span><span class="p">)</span> <span class="k">as</span> <span class="n">ws</span><span class="p">:</span>
        <span class="k">await</span> <span class="n">ws</span><span class="p">.</span><span class="n">send</span><span class="p">(</span><span class="n">json</span><span class="p">.</span><span class="n">dumps</span><span class="p">({</span>
            <span class="s">"event"</span><span class="p">:</span> <span class="s">"sub"</span><span class="p">,</span>
            <span class="s">"params"</span><span class="p">:</span> <span class="p">{</span>
                <span class="s">"biz"</span><span class="p">:</span> <span class="s">"market"</span><span class="p">,</span>
                <span class="s">"type"</span><span class="p">:</span> <span class="s">"spot.overview"</span>
            <span class="p">},</span>
            <span class="s">"zip"</span><span class="p">:</span> <span class="bp">False</span>
        <span class="p">}))</span>

        <span class="k">while</span> <span class="bp">True</span><span class="p">:</span>
            <span class="n">msg</span> <span class="o">=</span> <span class="k">await</span> <span class="n">ws</span><span class="p">.</span><span class="n">recv</span><span class="p">()</span>
            <span class="n">data</span> <span class="o">=</span> <span class="n">json</span><span class="p">.</span><span class="n">loads</span><span class="p">(</span><span class="n">msg</span><span class="p">)</span>
            <span class="k">if</span> <span class="s">"ping"</span> <span class="ow">in</span> <span class="n">data</span><span class="p">:</span>
                <span class="k">await</span> <span class="n">ws</span><span class="p">.</span><span class="n">send</span><span class="p">(</span><span class="n">json</span><span class="p">.</span><span class="n">dumps</span><span class="p">({</span><span class="s">"pong"</span><span class="p">:</span> <span class="n">data</span><span class="p">[</span><span class="s">"ping"</span><span class="p">]}))</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="k">print</span><span class="p">(</span><span class="n">json</span><span class="p">.</span><span class="n">dumps</span><span class="p">(</span><span class="n">data</span><span class="p">,</span> <span class="n">indent</span><span class="o">=</span><span class="mi">2</span><span class="p">))</span>

<span class="n">asyncio</span><span class="p">.</span><span class="n">run</span><span class="p">(</span><span class="n">handle_websocket</span><span class="p">())</span>
</code></pre></div><div class="highlight"><pre class="highlight go tab-go"><code><span class="k">package</span> <span class="n">main</span>

<span class="k">import</span> <span class="p">(</span>
    <span class="s">"encoding/json"</span>
    <span class="s">"fmt"</span>
    <span class="s">"github.com/gorilla/websocket"</span>
    <span class="s">"log"</span>
    <span class="s">"net"</span>
    <span class="s">"net/http"</span>
    <span class="s">"time"</span>
<span class="p">)</span>

<span class="k">func</span> <span class="n">main</span><span class="p">()</span> <span class="p">{</span>
    <span class="n">url</span> <span class="o">:=</span> <span class="s">"wss://stream.uzx.com/notification/ws"</span>

    <span class="c">// Custom dialer configuration</span>
    <span class="n">dialer</span> <span class="o">:=</span> <span class="o">&amp;</span><span class="n">websocket</span><span class="o">.</span><span class="n">Dialer</span><span class="p">{</span>
        <span class="n">Proxy</span><span class="o">:</span> <span class="n">http</span><span class="o">.</span><span class="n">ProxyFromEnvironment</span><span class="p">,</span>
        <span class="n">NetDial</span><span class="o">:</span> <span class="k">func</span><span class="p">(</span><span class="n">network</span><span class="p">,</span> <span class="n">addr</span> <span class="kt">string</span><span class="p">)</span> <span class="p">(</span><span class="n">net</span><span class="o">.</span><span class="n">Conn</span><span class="p">,</span> <span class="kt">error</span><span class="p">)</span> <span class="p">{</span>
            <span class="c">// Force use of IPv4</span>
            <span class="k">return</span> <span class="n">net</span><span class="o">.</span><span class="n">Dial</span><span class="p">(</span><span class="s">"tcp4"</span><span class="p">,</span> <span class="n">addr</span><span class="p">)</span>
        <span class="p">},</span>
        <span class="n">HandshakeTimeout</span><span class="o">:</span> <span class="m">10</span> <span class="o">*</span> <span class="n">time</span><span class="o">.</span><span class="n">Second</span><span class="p">,</span>
    <span class="p">}</span>

    <span class="c">// Establish WebSocket connection</span>
    <span class="n">c</span><span class="p">,</span> <span class="n">_</span><span class="p">,</span> <span class="n">err</span> <span class="o">:=</span> <span class="n">dialer</span><span class="o">.</span><span class="n">Dial</span><span class="p">(</span><span class="n">url</span><span class="p">,</span> <span class="no">nil</span><span class="p">)</span>
    <span class="k">if</span> <span class="n">err</span> <span class="o">!=</span> <span class="no">nil</span> <span class="p">{</span>
        <span class="n">log</span><span class="o">.</span><span class="n">Fatal</span><span class="p">(</span><span class="s">"Connection failed:"</span><span class="p">,</span> <span class="n">err</span><span class="p">)</span>
    <span class="p">}</span>
    <span class="k">defer</span> <span class="n">c</span><span class="o">.</span><span class="n">Close</span><span class="p">()</span>

    <span class="c">// Subscribe to messages</span>
    <span class="n">subMsg</span> <span class="o">:=</span> <span class="k">map</span><span class="p">[</span><span class="kt">string</span><span class="p">]</span><span class="k">interface</span><span class="p">{}{</span>
        <span class="s">"event"</span><span class="o">:</span> <span class="s">"sub"</span><span class="p">,</span>
        <span class="s">"params"</span><span class="o">:</span> <span class="k">map</span><span class="p">[</span><span class="kt">string</span><span class="p">]</span><span class="k">interface</span><span class="p">{}{</span>
            <span class="s">"biz"</span><span class="o">:</span>      <span class="s">"market"</span><span class="p">,</span>
            <span class="s">"type"</span><span class="o">:</span>     <span class="s">"spot.overview"</span><span class="p">,</span>
        <span class="p">},</span>
        <span class="s">"zip"</span><span class="o">:</span> <span class="no">false</span><span class="p">,</span>
    <span class="p">}</span>
    <span class="n">err</span> <span class="o">=</span> <span class="n">c</span><span class="o">.</span><span class="n">WriteJSON</span><span class="p">(</span><span class="n">subMsg</span><span class="p">)</span>
    <span class="k">if</span> <span class="n">err</span> <span class="o">!=</span> <span class="no">nil</span> <span class="p">{</span>
        <span class="n">log</span><span class="o">.</span><span class="n">Fatal</span><span class="p">(</span><span class="s">"Failed to send subscription:"</span><span class="p">,</span> <span class="n">err</span><span class="p">)</span>
    <span class="p">}</span>
    <span class="n">fmt</span><span class="o">.</span><span class="n">Println</span><span class="p">(</span><span class="s">"Subscription request sent:"</span><span class="p">,</span> <span class="n">subMsg</span><span class="p">)</span>

    <span class="c">// Handle messages</span>
    <span class="k">for</span> <span class="p">{</span>
        <span class="n">_</span><span class="p">,</span> <span class="n">message</span><span class="p">,</span> <span class="n">err</span> <span class="o">:=</span> <span class="n">c</span><span class="o">.</span><span class="n">ReadMessage</span><span class="p">()</span>
        <span class="k">if</span> <span class="n">err</span> <span class="o">!=</span> <span class="no">nil</span> <span class="p">{</span>
            <span class="n">log</span><span class="o">.</span><span class="n">Println</span><span class="p">(</span><span class="s">"Error reading message:"</span><span class="p">,</span> <span class="n">err</span><span class="p">)</span>
            <span class="k">return</span>
        <span class="p">}</span>

        <span class="k">var</span> <span class="n">data</span> <span class="k">map</span><span class="p">[</span><span class="kt">string</span><span class="p">]</span><span class="k">interface</span><span class="p">{}</span>
        <span class="k">if</span> <span class="n">err</span> <span class="o">:=</span> <span class="n">json</span><span class="o">.</span><span class="n">Unmarshal</span><span class="p">(</span><span class="n">message</span><span class="p">,</span> <span class="o">&amp;</span><span class="n">data</span><span class="p">);</span> <span class="n">err</span> <span class="o">!=</span> <span class="no">nil</span> <span class="p">{</span>
            <span class="n">log</span><span class="o">.</span><span class="n">Println</span><span class="p">(</span><span class="s">"Failed to parse JSON:"</span><span class="p">,</span> <span class="n">err</span><span class="p">)</span>
            <span class="k">continue</span>
        <span class="p">}</span>

        <span class="c">// Handle ping message</span>
        <span class="k">if</span> <span class="n">ping</span><span class="p">,</span> <span class="n">ok</span> <span class="o">:=</span> <span class="n">data</span><span class="p">[</span><span class="s">"ping"</span><span class="p">]</span><span class="o">.</span><span class="p">(</span><span class="kt">float64</span><span class="p">);</span> <span class="n">ok</span> <span class="p">{</span>
            <span class="n">pong</span> <span class="o">:=</span> <span class="k">map</span><span class="p">[</span><span class="kt">string</span><span class="p">]</span><span class="k">interface</span><span class="p">{}{</span><span class="s">"pong"</span><span class="o">:</span> <span class="n">ping</span><span class="p">}</span>
            <span class="k">if</span> <span class="n">err</span> <span class="o">:=</span> <span class="n">c</span><span class="o">.</span><span class="n">WriteJSON</span><span class="p">(</span><span class="n">pong</span><span class="p">);</span> <span class="n">err</span> <span class="o">!=</span> <span class="no">nil</span> <span class="p">{</span>
                <span class="n">log</span><span class="o">.</span><span class="n">Println</span><span class="p">(</span><span class="s">"Failed to send pong:"</span><span class="p">,</span> <span class="n">err</span><span class="p">)</span>
                <span class="k">return</span>
            <span class="p">}</span>
            <span class="n">fmt</span><span class="o">.</span><span class="n">Println</span><span class="p">(</span><span class="s">"Pong response sent"</span><span class="p">)</span>
            <span class="k">continue</span>
        <span class="p">}</span>

        <span class="c">// Print other messages</span>
        <span class="n">pretty</span><span class="p">,</span> <span class="n">_</span> <span class="o">:=</span> <span class="n">json</span><span class="o">.</span><span class="n">MarshalIndent</span><span class="p">(</span><span class="n">data</span><span class="p">,</span> <span class="s">""</span><span class="p">,</span> <span class="s">"  "</span><span class="p">)</span>
        <span class="n">fmt</span><span class="o">.</span><span class="n">Printf</span><span class="p">(</span><span class="s">"</span><span class="se">\n</span><span class="s">Received message:</span><span class="se">\n</span><span class="s">%s</span><span class="se">\n</span><span class="s">"</span><span class="p">,</span> <span class="n">pretty</span><span class="p">)</span>
    <span class="p">}</span>
<span class="p">}</span>
</code></pre></div><div class="highlight"><pre class="highlight java tab-java"><code><span class="kn">import</span> <span class="nn">java.io.IOException</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">java.net.URI</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">java.net.http.HttpClient</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">java.net.http.WebSocket</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">java.nio.ByteBuffer</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">java.util.concurrent.CompletionStage</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">java.util.concurrent.CountDownLatch</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">java.util.concurrent.TimeUnit</span><span class="o">;</span>

<span class="kd">public</span> <span class="kd">class</span> <span class="nc">WebSocketClient</span> <span class="o">{</span>
    <span class="kd">private</span> <span class="kd">static</span> <span class="nc">CountDownLatch</span> <span class="n">latch</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">CountDownLatch</span><span class="o">(</span><span class="mi">1</span><span class="o">);</span>

    <span class="kd">public</span> <span class="kd">static</span> <span class="kt">void</span> <span class="nf">main</span><span class="o">(</span><span class="nc">String</span><span class="o">[]</span> <span class="n">args</span><span class="o">)</span> <span class="o">{</span>
        <span class="nc">HttpClient</span> <span class="n">client</span> <span class="o">=</span> <span class="nc">HttpClient</span><span class="o">.</span><span class="na">newHttpClient</span><span class="o">();</span>
        <span class="nc">String</span> <span class="n">uri</span> <span class="o">=</span> <span class="s">"wss://stream.uzx.com/notification/ws"</span><span class="o">;</span>

        <span class="nc">WebSocket</span> <span class="n">webSocket</span> <span class="o">=</span> <span class="n">client</span><span class="o">.</span><span class="na">newWebSocketBuilder</span><span class="o">()</span>
               <span class="o">.</span><span class="na">buildAsync</span><span class="o">(</span><span class="no">URI</span><span class="o">.</span><span class="na">create</span><span class="o">(</span><span class="n">uri</span><span class="o">),</span> <span class="k">new</span> <span class="nc">WebSocket</span><span class="o">.</span><span class="na">Listener</span><span class="o">()</span> <span class="o">{</span>
                    <span class="nd">@Override</span>
                    <span class="kd">public</span> <span class="kt">void</span> <span class="nf">onOpen</span><span class="o">(</span><span class="nc">WebSocket</span> <span class="n">webSocket</span><span class="o">)</span> <span class="o">{</span>
                        <span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">"Connection established"</span><span class="o">);</span>
                        <span class="c1">// Send subscription message</span>
                        <span class="nc">String</span> <span class="n">subscribeMsg</span> <span class="o">=</span> <span class="s">"{\"event\":\"sub\",\"params\":{\"biz\":\"market\",\"type\":\"spot.overview\"},\"zip\":false}"</span><span class="o">;</span>
                        <span class="n">webSocket</span><span class="o">.</span><span class="na">sendText</span><span class="o">(</span><span class="n">subscribeMsg</span><span class="o">,</span> <span class="kc">true</span><span class="o">);</span>
                        <span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">"Subscription request sent: "</span> <span class="o">+</span> <span class="n">subscribeMsg</span><span class="o">);</span>
                        <span class="nc">WebSocket</span><span class="o">.</span><span class="na">Listener</span><span class="o">.</span><span class="na">super</span><span class="o">.</span><span class="na">onOpen</span><span class="o">(</span><span class="n">webSocket</span><span class="o">);</span>
                    <span class="o">}</span>

                    <span class="nd">@Override</span>
                    <span class="kd">public</span> <span class="nc">CompletionStage</span><span class="o">&lt;?&gt;</span> <span class="n">onText</span><span class="o">(</span><span class="nc">WebSocket</span> <span class="n">webSocket</span><span class="o">,</span> <span class="nc">CharSequence</span> <span class="n">data</span><span class="o">,</span> <span class="kt">boolean</span> <span class="n">last</span><span class="o">)</span> <span class="o">{</span>
                        <span class="nc">String</span> <span class="n">message</span> <span class="o">=</span> <span class="n">data</span><span class="o">.</span><span class="na">toString</span><span class="o">();</span>
                        <span class="k">try</span> <span class="o">{</span>
                            <span class="c1">// Handle ping message</span>
                            <span class="k">if</span> <span class="o">(</span><span class="n">message</span><span class="o">.</span><span class="na">contains</span><span class="o">(</span><span class="s">"\"ping\""</span><span class="o">))</span> <span class="o">{</span>
                                <span class="nc">String</span> <span class="n">pongMsg</span> <span class="o">=</span> <span class="n">message</span><span class="o">.</span><span class="na">replace</span><span class="o">(</span><span class="s">"\"ping\""</span><span class="o">,</span> <span class="s">"\"pong\""</span><span class="o">);</span>
                                <span class="n">webSocket</span><span class="o">.</span><span class="na">sendText</span><span class="o">(</span><span class="n">pongMsg</span><span class="o">,</span> <span class="kc">true</span><span class="o">);</span>
                                <span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">"Pong response sent"</span><span class="o">);</span>
                            <span class="o">}</span> <span class="k">else</span> <span class="o">{</span>
                                <span class="c1">// Print other messages</span>
                                <span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">"\nReceived message:"</span><span class="o">);</span>
                                <span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="n">message</span><span class="o">);</span>
                            <span class="o">}</span>
                        <span class="o">}</span> <span class="k">catch</span> <span class="o">(</span><span class="nc">Exception</span> <span class="n">e</span><span class="o">)</span> <span class="o">{</span>
                            <span class="n">e</span><span class="o">.</span><span class="na">printStackTrace</span><span class="o">();</span>
                        <span class="o">}</span>
                        <span class="k">return</span> <span class="nc">WebSocket</span><span class="o">.</span><span class="na">Listener</span><span class="o">.</span><span class="na">super</span><span class="o">.</span><span class="na">onText</span><span class="o">(</span><span class="n">webSocket</span><span class="o">,</span> <span class="n">data</span><span class="o">,</span> <span class="n">last</span><span class="o">);</span>
                    <span class="o">}</span>

                    <span class="nd">@Override</span>
                    <span class="kd">public</span> <span class="nc">CompletionStage</span><span class="o">&lt;?&gt;</span> <span class="n">onClose</span><span class="o">(</span><span class="nc">WebSocket</span> <span class="n">webSocket</span><span class="o">,</span> <span class="kt">int</span> <span class="n">statusCode</span><span class="o">,</span> <span class="nc">String</span> <span class="n">reason</span><span class="o">)</span> <span class="o">{</span>
                        <span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">"Connection closed: status code "</span> <span class="o">+</span> <span class="n">statusCode</span> <span class="o">+</span> <span class="s">", reason: "</span> <span class="o">+</span> <span class="n">reason</span><span class="o">);</span>
                        <span class="n">latch</span><span class="o">.</span><span class="na">countDown</span><span class="o">();</span>
                        <span class="k">return</span> <span class="nc">WebSocket</span><span class="o">.</span><span class="na">Listener</span><span class="o">.</span><span class="na">super</span><span class="o">.</span><span class="na">onClose</span><span class="o">(</span><span class="n">webSocket</span><span class="o">,</span> <span class="n">statusCode</span><span class="o">,</span> <span class="n">reason</span><span class="o">);</span>
                    <span class="o">}</span>

                    <span class="nd">@Override</span>
                    <span class="kd">public</span> <span class="kt">void</span> <span class="nf">onError</span><span class="o">(</span><span class="nc">WebSocket</span> <span class="n">webSocket</span><span class="o">,</span> <span class="nc">Throwable</span> <span class="n">error</span><span class="o">)</span> <span class="o">{</span>
                        <span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">"Error occurred:"</span><span class="o">);</span>
                        <span class="n">error</span><span class="o">.</span><span class="na">printStackTrace</span><span class="o">();</span>
                        <span class="n">latch</span><span class="o">.</span><span class="na">countDown</span><span class="o">();</span>
                    <span class="o">}</span>
                <span class="o">}).</span><span class="na">join</span><span class="o">();</span>

        <span class="k">try</span> <span class="o">{</span>
            <span class="c1">// Keep the connection alive</span>
            <span class="n">latch</span><span class="o">.</span><span class="na">await</span><span class="o">(</span><span class="mi">1</span><span class="o">,</span> <span class="nc">TimeUnit</span><span class="o">.</span><span class="na">HOURS</span><span class="o">);</span>
        <span class="o">}</span> <span class="k">catch</span> <span class="o">(</span><span class="nc">InterruptedException</span> <span class="n">e</span><span class="o">)</span> <span class="o">{</span>
            <span class="n">e</span><span class="o">.</span><span class="na">printStackTrace</span><span class="o">();</span>
            <span class="nc">Thread</span><span class="o">.</span><span class="na">currentThread</span><span class="o">().</span><span class="na">interrupt</span><span class="o">();</span>
        <span class="o">}</span>
    <span class="o">}</span>
<span class="o">}</span>
</code></pre></div>
<table><thead>
<tr>
<th style="text-align: left">Parameter Name</th>
<th style="text-align: left">Required</th>
<th style="text-align: left">Type</th>
<th style="text-align: left">Description</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left">event</td>
<td style="text-align: left">Yes</td>
<td style="text-align: left">String</td>
<td style="text-align: left">Operation</td>
</tr>
<tr>
<td style="text-align: left">params</td>
<td style="text-align: left">Yes</td>
<td style="text-align: left">Object</td>
<td style="text-align: left">Subscription parameter information</td>
</tr>
<tr>
<td style="text-align: left">&gt;symbol</td>
<td style="text-align: left">No</td>
<td style="text-align: left">String</td>
<td style="text-align: left">Product Name (currency pair)</td>
</tr>
<tr>
<td style="text-align: left">&gt;biz</td>
<td style="text-align: left">Yes</td>
<td style="text-align: left">String</td>
<td style="text-align: left">Type, <code>market</code></td>
</tr>
<tr>
<td style="text-align: left">&gt;type</td>
<td style="text-align: left">Yes</td>
<td style="text-align: left">String</td>
<td style="text-align: left">Channel name</td>
</tr>
<tr>
<td style="text-align: left">&gt;interval</td>
<td style="text-align: left">No</td>
<td style="text-align: left">String</td>
<td style="text-align: left">Period</td>
</tr>
<tr>
<td style="text-align: left">zip</td>
<td style="text-align: left">Yes</td>
<td style="text-align: left">Boolean</td>
<td style="text-align: left">Whether to enable gzip</td>
</tr>
</tbody></table>
<h4 id='a222a51ef79b'>Response Parameters</h4>
<blockquote>
<p>Response Example</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
    </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
    </span><span class="nl">"event"</span><span class="p">:</span><span class="w"> </span><span class="s2">"subscribe"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"topic"</span><span class="p">:</span><span class="w"> </span><span class="s2">"spot.overview"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ok"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<table><thead>
<tr>
<th style="text-align: left">Parameter Name</th>
<th style="text-align: left">Type</th>
<th style="text-align: left">Description</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left">id</td>
<td style="text-align: left">String</td>
<td style="text-align: left">Ignore this field</td>
</tr>
<tr>
<td style="text-align: left">event</td>
<td style="text-align: left">String</td>
<td style="text-align: left">Event type</td>
</tr>
<tr>
<td style="text-align: left">topic</td>
<td style="text-align: left">String</td>
<td style="text-align: left">Topic name</td>
</tr>
<tr>
<td style="text-align: left">status</td>
<td style="text-align: left">String</td>
<td style="text-align: left">Status code</td>
</tr>
</tbody></table>
<h4 id='5efa6fab5x5s'>FEED Parameter Description</h4>
<blockquote>
<p>FEED Example</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"spot.overview"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"code"</span><span class="p">:</span><span class="w"> </span><span class="mi">200</span><span class="p">,</span><span class="w">
  </span><span class="nl">"ts"</span><span class="p">:</span><span class="w"> </span><span class="mi">1751359457739</span><span class="p">,</span><span class="w">
  </span><span class="nl">"msg"</span><span class="p">:</span><span class="w"> </span><span class="s2">"success"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="nl">"market"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nl">"open"</span><span class="p">:</span><span class="w"> </span><span class="s2">"10"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"close"</span><span class="p">:</span><span class="w"> </span><span class="s2">"10"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"low"</span><span class="p">:</span><span class="w"> </span><span class="s2">"10"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"high"</span><span class="p">:</span><span class="w"> </span><span class="s2">"10"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"turn_over"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"count"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
        </span><span class="nl">"vol"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"change"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"change_percent"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="nl">"symbol"</span><span class="p">:</span><span class="w"> </span><span class="s2">"YGG-USDT"</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<table><thead>
<tr>
<th style="text-align: left">Parameter Name</th>
<th style="text-align: left">Type</th>
<th style="text-align: left">Description</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left">code</td>
<td style="text-align: left">Int</td>
<td style="text-align: left">Success code</td>
</tr>
<tr>
<td style="text-align: left">data</td>
<td style="text-align: left">Array</td>
<td style="text-align: left">Returned information</td>
</tr>
<tr>
<td style="text-align: left">&gt; market</td>
<td style="text-align: left">Object</td>
<td style="text-align: left">Market price changes</td>
</tr>
<tr>
<td style="text-align: left">&gt;&gt; open</td>
<td style="text-align: left">String</td>
<td style="text-align: left">Opening price</td>
</tr>
<tr>
<td style="text-align: left">&gt;&gt; close</td>
<td style="text-align: left">String</td>
<td style="text-align: left">Closing price</td>
</tr>
<tr>
<td style="text-align: left">&gt;&gt; low</td>
<td style="text-align: left">String</td>
<td style="text-align: left">Lowest price</td>
</tr>
<tr>
<td style="text-align: left">&gt;&gt; high</td>
<td style="text-align: left">String</td>
<td style="text-align: left">Highest price</td>
</tr>
<tr>
<td style="text-align: left">&gt;&gt; turn_over</td>
<td style="text-align: left">String</td>
<td style="text-align: left">Total trade amount</td>
</tr>
<tr>
<td style="text-align: left">&gt;&gt; count</td>
<td style="text-align: left">Integer</td>
<td style="text-align: left">Number of trades</td>
</tr>
<tr>
<td style="text-align: left">&gt;&gt; vol</td>
<td style="text-align: left">String</td>
<td style="text-align: left">Trade volume in the quoted currency</td>
</tr>
<tr>
<td style="text-align: left">&gt;&gt; change</td>
<td style="text-align: left">String</td>
<td style="text-align: left">Price change</td>
</tr>
<tr>
<td style="text-align: left">&gt;&gt; change_percent</td>
<td style="text-align: left">String</td>
<td style="text-align: left">Price change percentage</td>
</tr>
<tr>
<td style="text-align: left">&gt; symbol</td>
<td style="text-align: left">String</td>
<td style="text-align: left">Product name</td>
</tr>
<tr>
<td style="text-align: left">msg</td>
<td style="text-align: left">String</td>
<td style="text-align: left">Return message</td>
</tr>
<tr>
<td style="text-align: left">ts</td>
<td style="text-align: left">Int</td>
<td style="text-align: left">Time of the response, in milliseconds since the Unix epoch, e.g., 1652974473071</td>
</tr>
<tr>
<td style="text-align: left">type</td>
<td style="text-align: left">String</td>
<td style="text-align: left">Channel name</td>
</tr>
</tbody></table>
<h3 id='169179eca9zu'>Spot Fills</h3><h4 id='22da1a059oq4'>Request Parameters</h4>
<blockquote>
<p>Request Example</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
    </span><span class="nl">"event"</span><span class="p">:</span><span class="w"> </span><span class="s2">"sub"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"params"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nl">"biz"</span><span class="p">:</span><span class="w"> </span><span class="s2">"market"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"spot.fills"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"symbol"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BTC-USDT"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nl">"zip"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div><div class="highlight"><pre class="highlight python tab-python"><code><span class="kn">import</span> <span class="nn">asyncio</span>
<span class="kn">import</span> <span class="nn">json</span>
<span class="kn">import</span> <span class="nn">websockets</span>

<span class="k">async</span> <span class="k">def</span> <span class="nf">handle_websocket</span><span class="p">():</span>
    <span class="k">async</span> <span class="k">with</span> <span class="n">websockets</span><span class="p">.</span><span class="n">connect</span><span class="p">(</span><span class="s">"wss://stream.uzx.com/notification/ws"</span><span class="p">)</span> <span class="k">as</span> <span class="n">ws</span><span class="p">:</span>
        <span class="k">await</span> <span class="n">ws</span><span class="p">.</span><span class="n">send</span><span class="p">(</span><span class="n">json</span><span class="p">.</span><span class="n">dumps</span><span class="p">({</span>
            <span class="s">"event"</span><span class="p">:</span> <span class="s">"sub"</span><span class="p">,</span>
            <span class="s">"params"</span><span class="p">:</span> <span class="p">{</span>
                <span class="s">"biz"</span><span class="p">:</span> <span class="s">"market"</span><span class="p">,</span>
                <span class="s">"type"</span><span class="p">:</span> <span class="s">"spot.fills"</span><span class="p">,</span>
                <span class="s">"symbol"</span><span class="p">:</span> <span class="s">"BTC-USDT"</span>
            <span class="p">},</span>
            <span class="s">"zip"</span><span class="p">:</span> <span class="bp">False</span>
        <span class="p">}))</span>

        <span class="k">while</span> <span class="bp">True</span><span class="p">:</span>
            <span class="n">msg</span> <span class="o">=</span> <span class="k">await</span> <span class="n">ws</span><span class="p">.</span><span class="n">recv</span><span class="p">()</span>
            <span class="n">data</span> <span class="o">=</span> <span class="n">json</span><span class="p">.</span><span class="n">loads</span><span class="p">(</span><span class="n">msg</span><span class="p">)</span>
            <span class="k">if</span> <span class="s">"ping"</span> <span class="ow">in</span> <span class="n">data</span><span class="p">:</span>
                <span class="k">await</span> <span class="n">ws</span><span class="p">.</span><span class="n">send</span><span class="p">(</span><span class="n">json</span><span class="p">.</span><span class="n">dumps</span><span class="p">({</span><span class="s">"pong"</span><span class="p">:</span> <span class="n">data</span><span class="p">[</span><span class="s">"ping"</span><span class="p">]}))</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="k">print</span><span class="p">(</span><span class="n">json</span><span class="p">.</span><span class="n">dumps</span><span class="p">(</span><span class="n">data</span><span class="p">,</span> <span class="n">indent</span><span class="o">=</span><span class="mi">2</span><span class="p">))</span>

<span class="n">asyncio</span><span class="p">.</span><span class="n">run</span><span class="p">(</span><span class="n">handle_websocket</span><span class="p">())</span>
</code></pre></div><div class="highlight"><pre class="highlight go tab-go"><code><span class="k">package</span> <span class="n">main</span>

<span class="k">import</span> <span class="p">(</span>
    <span class="s">"encoding/json"</span>
    <span class="s">"fmt"</span>
    <span class="s">"github.com/gorilla/websocket"</span>
    <span class="s">"log"</span>
    <span class="s">"net"</span>
    <span class="s">"net/http"</span>
    <span class="s">"time"</span>
<span class="p">)</span>

<span class="k">func</span> <span class="n">main</span><span class="p">()</span> <span class="p">{</span>
    <span class="n">url</span> <span class="o">:=</span> <span class="s">"wss://stream.uzx.com/notification/ws"</span>

    <span class="c">// Custom dialer configuration</span>
    <span class="n">dialer</span> <span class="o">:=</span> <span class="o">&amp;</span><span class="n">websocket</span><span class="o">.</span><span class="n">Dialer</span><span class="p">{</span>
        <span class="n">Proxy</span><span class="o">:</span> <span class="n">http</span><span class="o">.</span><span class="n">ProxyFromEnvironment</span><span class="p">,</span>
        <span class="n">NetDial</span><span class="o">:</span> <span class="k">func</span><span class="p">(</span><span class="n">network</span><span class="p">,</span> <span class="n">addr</span> <span class="kt">string</span><span class="p">)</span> <span class="p">(</span><span class="n">net</span><span class="o">.</span><span class="n">Conn</span><span class="p">,</span> <span class="kt">error</span><span class="p">)</span> <span class="p">{</span>
            <span class="c">// Force use of IPv4</span>
            <span class="k">return</span> <span class="n">net</span><span class="o">.</span><span class="n">Dial</span><span class="p">(</span><span class="s">"tcp4"</span><span class="p">,</span> <span class="n">addr</span><span class="p">)</span>
        <span class="p">},</span>
        <span class="n">HandshakeTimeout</span><span class="o">:</span> <span class="m">10</span> <span class="o">*</span> <span class="n">time</span><span class="o">.</span><span class="n">Second</span><span class="p">,</span>
    <span class="p">}</span>

    <span class="c">// Establish WebSocket connection</span>
    <span class="n">c</span><span class="p">,</span> <span class="n">_</span><span class="p">,</span> <span class="n">err</span> <span class="o">:=</span> <span class="n">dialer</span><span class="o">.</span><span class="n">Dial</span><span class="p">(</span><span class="n">url</span><span class="p">,</span> <span class="no">nil</span><span class="p">)</span>
    <span class="k">if</span> <span class="n">err</span> <span class="o">!=</span> <span class="no">nil</span> <span class="p">{</span>
        <span class="n">log</span><span class="o">.</span><span class="n">Fatal</span><span class="p">(</span><span class="s">"Connection failed:"</span><span class="p">,</span> <span class="n">err</span><span class="p">)</span>
    <span class="p">}</span>
    <span class="k">defer</span> <span class="n">c</span><span class="o">.</span><span class="n">Close</span><span class="p">()</span>

    <span class="c">// Subscribe to messages</span>
    <span class="n">subMsg</span> <span class="o">:=</span> <span class="k">map</span><span class="p">[</span><span class="kt">string</span><span class="p">]</span><span class="k">interface</span><span class="p">{}{</span>
        <span class="s">"event"</span><span class="o">:</span> <span class="s">"sub"</span><span class="p">,</span>
        <span class="s">"params"</span><span class="o">:</span> <span class="k">map</span><span class="p">[</span><span class="kt">string</span><span class="p">]</span><span class="k">interface</span><span class="p">{}{</span>
            <span class="s">"biz"</span><span class="o">:</span>      <span class="s">"market"</span><span class="p">,</span>
            <span class="s">"type"</span><span class="o">:</span>     <span class="s">"spot.fills"</span><span class="p">,</span>
            <span class="s">"symbol"</span><span class="o">:</span>   <span class="s">"BTC-USDT"</span><span class="p">,</span>
        <span class="p">},</span>
        <span class="s">"zip"</span><span class="o">:</span> <span class="no">false</span><span class="p">,</span>
    <span class="p">}</span>
    <span class="n">err</span> <span class="o">=</span> <span class="n">c</span><span class="o">.</span><span class="n">WriteJSON</span><span class="p">(</span><span class="n">subMsg</span><span class="p">)</span>
    <span class="k">if</span> <span class="n">err</span> <span class="o">!=</span> <span class="no">nil</span> <span class="p">{</span>
        <span class="n">log</span><span class="o">.</span><span class="n">Fatal</span><span class="p">(</span><span class="s">"Failed to send subscription:"</span><span class="p">,</span> <span class="n">err</span><span class="p">)</span>
    <span class="p">}</span>
    <span class="n">fmt</span><span class="o">.</span><span class="n">Println</span><span class="p">(</span><span class="s">"Subscription request sent:"</span><span class="p">,</span> <span class="n">subMsg</span><span class="p">)</span>

    <span class="c">// Handle messages</span>
    <span class="k">for</span> <span class="p">{</span>
        <span class="n">_</span><span class="p">,</span> <span class="n">message</span><span class="p">,</span> <span class="n">err</span> <span class="o">:=</span> <span class="n">c</span><span class="o">.</span><span class="n">ReadMessage</span><span class="p">()</span>
        <span class="k">if</span> <span class="n">err</span> <span class="o">!=</span> <span class="no">nil</span> <span class="p">{</span>
            <span class="n">log</span><span class="o">.</span><span class="n">Println</span><span class="p">(</span><span class="s">"Error reading message:"</span><span class="p">,</span> <span class="n">err</span><span class="p">)</span>
            <span class="k">return</span>
        <span class="p">}</span>

        <span class="k">var</span> <span class="n">data</span> <span class="k">map</span><span class="p">[</span><span class="kt">string</span><span class="p">]</span><span class="k">interface</span><span class="p">{}</span>
        <span class="k">if</span> <span class="n">err</span> <span class="o">:=</span> <span class="n">json</span><span class="o">.</span><span class="n">Unmarshal</span><span class="p">(</span><span class="n">message</span><span class="p">,</span> <span class="o">&amp;</span><span class="n">data</span><span class="p">);</span> <span class="n">err</span> <span class="o">!=</span> <span class="no">nil</span> <span class="p">{</span>
            <span class="n">log</span><span class="o">.</span><span class="n">Println</span><span class="p">(</span><span class="s">"Failed to parse JSON:"</span><span class="p">,</span> <span class="n">err</span><span class="p">)</span>
            <span class="k">continue</span>
        <span class="p">}</span>

        <span class="c">// Handle ping message</span>
        <span class="k">if</span> <span class="n">ping</span><span class="p">,</span> <span class="n">ok</span> <span class="o">:=</span> <span class="n">data</span><span class="p">[</span><span class="s">"ping"</span><span class="p">]</span><span class="o">.</span><span class="p">(</span><span class="kt">float64</span><span class="p">);</span> <span class="n">ok</span> <span class="p">{</span>
            <span class="n">pong</span> <span class="o">:=</span> <span class="k">map</span><span class="p">[</span><span class="kt">string</span><span class="p">]</span><span class="k">interface</span><span class="p">{}{</span><span class="s">"pong"</span><span class="o">:</span> <span class="n">ping</span><span class="p">}</span>
            <span class="k">if</span> <span class="n">err</span> <span class="o">:=</span> <span class="n">c</span><span class="o">.</span><span class="n">WriteJSON</span><span class="p">(</span><span class="n">pong</span><span class="p">);</span> <span class="n">err</span> <span class="o">!=</span> <span class="no">nil</span> <span class="p">{</span>
                <span class="n">log</span><span class="o">.</span><span class="n">Println</span><span class="p">(</span><span class="s">"Failed to send pong:"</span><span class="p">,</span> <span class="n">err</span><span class="p">)</span>
                <span class="k">return</span>
            <span class="p">}</span>
            <span class="n">fmt</span><span class="o">.</span><span class="n">Println</span><span class="p">(</span><span class="s">"Pong response sent"</span><span class="p">)</span>
            <span class="k">continue</span>
        <span class="p">}</span>

        <span class="c">// Print other messages</span>
        <span class="n">pretty</span><span class="p">,</span> <span class="n">_</span> <span class="o">:=</span> <span class="n">json</span><span class="o">.</span><span class="n">MarshalIndent</span><span class="p">(</span><span class="n">data</span><span class="p">,</span> <span class="s">""</span><span class="p">,</span> <span class="s">"  "</span><span class="p">)</span>
        <span class="n">fmt</span><span class="o">.</span><span class="n">Printf</span><span class="p">(</span><span class="s">"</span><span class="se">\n</span><span class="s">Received message:</span><span class="se">\n</span><span class="s">%s</span><span class="se">\n</span><span class="s">"</span><span class="p">,</span> <span class="n">pretty</span><span class="p">)</span>
    <span class="p">}</span>
<span class="p">}</span>
</code></pre></div><div class="highlight"><pre class="highlight java tab-java"><code><span class="kn">import</span> <span class="nn">java.io.IOException</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">java.net.URI</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">java.net.http.HttpClient</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">java.net.http.WebSocket</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">java.nio.ByteBuffer</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">java.util.concurrent.CompletionStage</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">java.util.concurrent.CountDownLatch</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">java.util.concurrent.TimeUnit</span><span class="o">;</span>

<span class="kd">public</span> <span class="kd">class</span> <span class="nc">WebSocketClient</span> <span class="o">{</span>
    <span class="kd">private</span> <span class="kd">static</span> <span class="nc">CountDownLatch</span> <span class="n">latch</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">CountDownLatch</span><span class="o">(</span><span class="mi">1</span><span class="o">);</span>

    <span class="kd">public</span> <span class="kd">static</span> <span class="kt">void</span> <span class="nf">main</span><span class="o">(</span><span class="nc">String</span><span class="o">[]</span> <span class="n">args</span><span class="o">)</span> <span class="o">{</span>
        <span class="nc">HttpClient</span> <span class="n">client</span> <span class="o">=</span> <span class="nc">HttpClient</span><span class="o">.</span><span class="na">newHttpClient</span><span class="o">();</span>
        <span class="nc">String</span> <span class="n">uri</span> <span class="o">=</span> <span class="s">"wss://stream.uzx.com/notification/ws"</span><span class="o">;</span>

        <span class="nc">WebSocket</span> <span class="n">webSocket</span> <span class="o">=</span> <span class="n">client</span><span class="o">.</span><span class="na">newWebSocketBuilder</span><span class="o">()</span>
               <span class="o">.</span><span class="na">buildAsync</span><span class="o">(</span><span class="no">URI</span><span class="o">.</span><span class="na">create</span><span class="o">(</span><span class="n">uri</span><span class="o">),</span> <span class="k">new</span> <span class="nc">WebSocket</span><span class="o">.</span><span class="na">Listener</span><span class="o">()</span> <span class="o">{</span>
                    <span class="nd">@Override</span>
                    <span class="kd">public</span> <span class="kt">void</span> <span class="nf">onOpen</span><span class="o">(</span><span class="nc">WebSocket</span> <span class="n">webSocket</span><span class="o">)</span> <span class="o">{</span>
                        <span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">"Connection established"</span><span class="o">);</span>
                        <span class="c1">// Send subscription message</span>
                        <span class="nc">String</span> <span class="n">subscribeMsg</span> <span class="o">=</span> <span class="s">"{\"event\":\"sub\",\"params\":{\"biz\":\"market\",\"type\":\"spot.fills\",\"symbol\":\"BTC-USDT\"},\"zip\":false}"</span><span class="o">;</span>
                        <span class="n">webSocket</span><span class="o">.</span><span class="na">sendText</span><span class="o">(</span><span class="n">subscribeMsg</span><span class="o">,</span> <span class="kc">true</span><span class="o">);</span>
                        <span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">"Subscription request sent: "</span> <span class="o">+</span> <span class="n">subscribeMsg</span><span class="o">);</span>
                        <span class="nc">WebSocket</span><span class="o">.</span><span class="na">Listener</span><span class="o">.</span><span class="na">super</span><span class="o">.</span><span class="na">onOpen</span><span class="o">(</span><span class="n">webSocket</span><span class="o">);</span>
                    <span class="o">}</span>

                    <span class="nd">@Override</span>
                    <span class="kd">public</span> <span class="nc">CompletionStage</span><span class="o">&lt;?&gt;</span> <span class="n">onText</span><span class="o">(</span><span class="nc">WebSocket</span> <span class="n">webSocket</span><span class="o">,</span> <span class="nc">CharSequence</span> <span class="n">data</span><span class="o">,</span> <span class="kt">boolean</span> <span class="n">last</span><span class="o">)</span> <span class="o">{</span>
                        <span class="nc">String</span> <span class="n">message</span> <span class="o">=</span> <span class="n">data</span><span class="o">.</span><span class="na">toString</span><span class="o">();</span>
                        <span class="k">try</span> <span class="o">{</span>
                            <span class="c1">// Handle ping message</span>
                            <span class="k">if</span> <span class="o">(</span><span class="n">message</span><span class="o">.</span><span class="na">contains</span><span class="o">(</span><span class="s">"\"ping\""</span><span class="o">))</span> <span class="o">{</span>
                                <span class="nc">String</span> <span class="n">pongMsg</span> <span class="o">=</span> <span class="n">message</span><span class="o">.</span><span class="na">replace</span><span class="o">(</span><span class="s">"\"ping\""</span><span class="o">,</span> <span class="s">"\"pong\""</span><span class="o">);</span>
                                <span class="n">webSocket</span><span class="o">.</span><span class="na">sendText</span><span class="o">(</span><span class="n">pongMsg</span><span class="o">,</span> <span class="kc">true</span><span class="o">);</span>
                                <span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">"Pong response sent"</span><span class="o">);</span>
                            <span class="o">}</span> <span class="k">else</span> <span class="o">{</span>
                                <span class="c1">// Print other messages</span>
                                <span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">"\nReceived message:"</span><span class="o">);</span>
                                <span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="n">message</span><span class="o">);</span>
                            <span class="o">}</span>
                        <span class="o">}</span> <span class="k">catch</span> <span class="o">(</span><span class="nc">Exception</span> <span class="n">e</span><span class="o">)</span> <span class="o">{</span>
                            <span class="n">e</span><span class="o">.</span><span class="na">printStackTrace</span><span class="o">();</span>
                        <span class="o">}</span>
                        <span class="k">return</span> <span class="nc">WebSocket</span><span class="o">.</span><span class="na">Listener</span><span class="o">.</span><span class="na">super</span><span class="o">.</span><span class="na">onText</span><span class="o">(</span><span class="n">webSocket</span><span class="o">,</span> <span class="n">data</span><span class="o">,</span> <span class="n">last</span><span class="o">);</span>
                    <span class="o">}</span>

                    <span class="nd">@Override</span>
                    <span class="kd">public</span> <span class="nc">CompletionStage</span><span class="o">&lt;?&gt;</span> <span class="n">onClose</span><span class="o">(</span><span class="nc">WebSocket</span> <span class="n">webSocket</span><span class="o">,</span> <span class="kt">int</span> <span class="n">statusCode</span><span class="o">,</span> <span class="nc">String</span> <span class="n">reason</span><span class="o">)</span> <span class="o">{</span>
                        <span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">"Connection closed: status code "</span> <span class="o">+</span> <span class="n">statusCode</span> <span class="o">+</span> <span class="s">", reason: "</span> <span class="o">+</span> <span class="n">reason</span><span class="o">);</span>
                        <span class="n">latch</span><span class="o">.</span><span class="na">countDown</span><span class="o">();</span>
                        <span class="k">return</span> <span class="nc">WebSocket</span><span class="o">.</span><span class="na">Listener</span><span class="o">.</span><span class="na">super</span><span class="o">.</span><span class="na">onClose</span><span class="o">(</span><span class="n">webSocket</span><span class="o">,</span> <span class="n">statusCode</span><span class="o">,</span> <span class="n">reason</span><span class="o">);</span>
                    <span class="o">}</span>

                    <span class="nd">@Override</span>
                    <span class="kd">public</span> <span class="kt">void</span> <span class="nf">onError</span><span class="o">(</span><span class="nc">WebSocket</span> <span class="n">webSocket</span><span class="o">,</span> <span class="nc">Throwable</span> <span class="n">error</span><span class="o">)</span> <span class="o">{</span>
                        <span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">"Error occurred:"</span><span class="o">);</span>
                        <span class="n">error</span><span class="o">.</span><span class="na">printStackTrace</span><span class="o">();</span>
                        <span class="n">latch</span><span class="o">.</span><span class="na">countDown</span><span class="o">();</span>
                    <span class="o">}</span>
                <span class="o">}).</span><span class="na">join</span><span class="o">();</span>

        <span class="k">try</span> <span class="o">{</span>
            <span class="c1">// Keep the connection alive</span>
            <span class="n">latch</span><span class="o">.</span><span class="na">await</span><span class="o">(</span><span class="mi">1</span><span class="o">,</span> <span class="nc">TimeUnit</span><span class="o">.</span><span class="na">HOURS</span><span class="o">);</span>
        <span class="o">}</span> <span class="k">catch</span> <span class="o">(</span><span class="nc">InterruptedException</span> <span class="n">e</span><span class="o">)</span> <span class="o">{</span>
            <span class="n">e</span><span class="o">.</span><span class="na">printStackTrace</span><span class="o">();</span>
            <span class="nc">Thread</span><span class="o">.</span><span class="na">currentThread</span><span class="o">().</span><span class="na">interrupt</span><span class="o">();</span>
        <span class="o">}</span>
    <span class="o">}</span>
<span class="o">}</span>
</code></pre></div>
<table><thead>
<tr>
<th style="text-align: left">Parameter Name</th>
<th style="text-align: left">Required</th>
<th style="text-align: left">Type</th>
<th style="text-align: left">Description</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left">event</td>
<td style="text-align: left">Yes</td>
<td style="text-align: left">string</td>
<td style="text-align: left">Operation</td>
</tr>
<tr>
<td style="text-align: left">params</td>
<td style="text-align: left">Yes</td>
<td style="text-align: left">object</td>
<td style="text-align: left">Subscription parameter information</td>
</tr>
<tr>
<td style="text-align: left">&gt;symbol</td>
<td style="text-align: left">Yes</td>
<td style="text-align: left">string</td>
<td style="text-align: left">Product Name (currency pair)</td>
</tr>
<tr>
<td style="text-align: left">&gt;biz</td>
<td style="text-align: left">Yes</td>
<td style="text-align: left">string</td>
<td style="text-align: left">Type, <code>market</code></td>
</tr>
<tr>
<td style="text-align: left">&gt;type</td>
<td style="text-align: left">Yes</td>
<td style="text-align: left">string</td>
<td style="text-align: left">Channel name</td>
</tr>
<tr>
<td style="text-align: left">zip</td>
<td style="text-align: left">Yes</td>
<td style="text-align: left">Boolean</td>
<td style="text-align: left">Whether to enable gzip</td>
</tr>
</tbody></table>
<h4 id='a222a51ezwj9'>Response Parameters</h4>
<blockquote>
<p>Response Example</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"id"</span><span class="p">:</span><span class="s2">""</span><span class="p">,</span><span class="w">
  </span><span class="nl">"event"</span><span class="p">:</span><span class="s2">"subscribe"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"topic"</span><span class="p">:</span><span class="s2">"spot.BTC-USDT.trade.detail"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"status"</span><span class="p">:</span><span class="s2">"ok"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<table><thead>
<tr>
<th style="text-align: left">Parameter Name</th>
<th style="text-align: left">Type</th>
<th style="text-align: left">Description</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left">id</td>
<td style="text-align: left">String</td>
<td style="text-align: left">Ignore this field</td>
</tr>
<tr>
<td style="text-align: left">event</td>
<td style="text-align: left">String</td>
<td style="text-align: left">Event type</td>
</tr>
<tr>
<td style="text-align: left">topic</td>
<td style="text-align: left">String</td>
<td style="text-align: left">Topic name</td>
</tr>
<tr>
<td style="text-align: left">status</td>
<td style="text-align: left">String</td>
<td style="text-align: left">Status code</td>
</tr>
</tbody></table>
<h4 id='5efa6fabtw3q'>FEED Parameter Description</h4>
<blockquote>
<p>FEED Example</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"ts"</span><span class="p">:</span><span class="mi">1751359932841</span><span class="p">,</span><span class="w">
  </span><span class="nl">"type"</span><span class="p">:</span><span class="s2">"spot.BTC-USDT.fills"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"product_name"</span><span class="p">:</span><span class="s2">"BTC-USDT"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"data"</span><span class="p">:[</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="nl">"vol"</span><span class="p">:</span><span class="s2">"0.09026"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"ts"</span><span class="p">:</span><span class="mi">1751359932841</span><span class="p">,</span><span class="w">
      </span><span class="nl">"price"</span><span class="p">:</span><span class="s2">"106738"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"direction"</span><span class="p">:</span><span class="s2">"sell"</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<table><thead>
<tr>
<th style="text-align: left">Parameter Name</th>
<th style="text-align: left">Type</th>
<th style="text-align: left">Description</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left">data</td>
<td style="text-align: left">Array</td>
<td style="text-align: left">Returned data</td>
</tr>
<tr>
<td style="text-align: left">&gt;direction</td>
<td style="text-align: left">String</td>
<td style="text-align: left">Trade direction: <code>buy</code> or <code>sell</code></td>
</tr>
<tr>
<td style="text-align: left">&gt;price</td>
<td style="text-align: left">String</td>
<td style="text-align: left">Trade price in the quoted currency</td>
</tr>
<tr>
<td style="text-align: left">&gt;ts</td>
<td style="text-align: left">Int</td>
<td style="text-align: left">Trade time, in milliseconds since the Unix epoch, e.g., 1652974473071</td>
</tr>
<tr>
<td style="text-align: left">&gt;vol</td>
<td style="text-align: left">String</td>
<td style="text-align: left">Trade volume in the quoted currency</td>
</tr>
<tr>
<td style="text-align: left">product_name</td>
<td style="text-align: left">String</td>
<td style="text-align: left">Product Name</td>
</tr>
<tr>
<td style="text-align: left">ts</td>
<td style="text-align: left">Int</td>
<td style="text-align: left">Time of the response, in milliseconds since the Unix epoch, e.g., 1652974473071</td>
</tr>
<tr>
<td style="text-align: left">type</td>
<td style="text-align: left">String</td>
<td style="text-align: left">Channel name</td>
</tr>
</tbody></table>
<h3 id='e59e004eayxo'>Spot OrderBook</h3><h4 id='22da1a05kwry'>Request Parameters</h4>
<blockquote>
<p>Request Example</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
    </span><span class="nl">"event"</span><span class="p">:</span><span class="w"> </span><span class="s2">"sub"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"params"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nl">"biz"</span><span class="p">:</span><span class="w"> </span><span class="s2">"market"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"spot.orderbook"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"symbol"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BTC-USDT"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"interval"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nl">"zip"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div><div class="highlight"><pre class="highlight python tab-python"><code><span class="kn">import</span> <span class="nn">asyncio</span>
<span class="kn">import</span> <span class="nn">json</span>
<span class="kn">import</span> <span class="nn">websockets</span>

<span class="k">async</span> <span class="k">def</span> <span class="nf">handle_websocket</span><span class="p">():</span>
    <span class="k">async</span> <span class="k">with</span> <span class="n">websockets</span><span class="p">.</span><span class="n">connect</span><span class="p">(</span><span class="s">"wss://stream.uzx.com/notification/ws"</span><span class="p">)</span> <span class="k">as</span> <span class="n">ws</span><span class="p">:</span>
        <span class="k">await</span> <span class="n">ws</span><span class="p">.</span><span class="n">send</span><span class="p">(</span><span class="n">json</span><span class="p">.</span><span class="n">dumps</span><span class="p">({</span>
            <span class="s">"event"</span><span class="p">:</span> <span class="s">"sub"</span><span class="p">,</span>
            <span class="s">"params"</span><span class="p">:</span> <span class="p">{</span>
                <span class="s">"biz"</span><span class="p">:</span> <span class="s">"market"</span><span class="p">,</span>
                <span class="s">"type"</span><span class="p">:</span> <span class="s">"spot.orderbook"</span><span class="p">,</span>
                <span class="s">"symbol"</span><span class="p">:</span> <span class="s">"BTC-USDT"</span><span class="p">,</span>
                <span class="s">"interval"</span><span class="p">:</span> <span class="s">"0"</span>
            <span class="p">},</span>
            <span class="s">"zip"</span><span class="p">:</span> <span class="bp">False</span>
        <span class="p">}))</span>

        <span class="k">while</span> <span class="bp">True</span><span class="p">:</span>
            <span class="n">msg</span> <span class="o">=</span> <span class="k">await</span> <span class="n">ws</span><span class="p">.</span><span class="n">recv</span><span class="p">()</span>
            <span class="n">data</span> <span class="o">=</span> <span class="n">json</span><span class="p">.</span><span class="n">loads</span><span class="p">(</span><span class="n">msg</span><span class="p">)</span>
            <span class="k">if</span> <span class="s">"ping"</span> <span class="ow">in</span> <span class="n">data</span><span class="p">:</span>
                <span class="k">await</span> <span class="n">ws</span><span class="p">.</span><span class="n">send</span><span class="p">(</span><span class="n">json</span><span class="p">.</span><span class="n">dumps</span><span class="p">({</span><span class="s">"pong"</span><span class="p">:</span> <span class="n">data</span><span class="p">[</span><span class="s">"ping"</span><span class="p">]}))</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="k">print</span><span class="p">(</span><span class="n">json</span><span class="p">.</span><span class="n">dumps</span><span class="p">(</span><span class="n">data</span><span class="p">,</span> <span class="n">indent</span><span class="o">=</span><span class="mi">2</span><span class="p">))</span>

<span class="n">asyncio</span><span class="p">.</span><span class="n">run</span><span class="p">(</span><span class="n">handle_websocket</span><span class="p">())</span>
</code></pre></div><div class="highlight"><pre class="highlight go tab-go"><code><span class="k">package</span> <span class="n">main</span>

<span class="k">import</span> <span class="p">(</span>
    <span class="s">"encoding/json"</span>
    <span class="s">"fmt"</span>
    <span class="s">"github.com/gorilla/websocket"</span>
    <span class="s">"log"</span>
    <span class="s">"net"</span>
    <span class="s">"net/http"</span>
    <span class="s">"time"</span>
<span class="p">)</span>

<span class="k">func</span> <span class="n">main</span><span class="p">()</span> <span class="p">{</span>
    <span class="n">url</span> <span class="o">:=</span> <span class="s">"wss://stream.uzx.com/notification/ws"</span>

    <span class="c">// Custom dialer configuration</span>
    <span class="n">dialer</span> <span class="o">:=</span> <span class="o">&amp;</span><span class="n">websocket</span><span class="o">.</span><span class="n">Dialer</span><span class="p">{</span>
        <span class="n">Proxy</span><span class="o">:</span> <span class="n">http</span><span class="o">.</span><span class="n">ProxyFromEnvironment</span><span class="p">,</span>
        <span class="n">NetDial</span><span class="o">:</span> <span class="k">func</span><span class="p">(</span><span class="n">network</span><span class="p">,</span> <span class="n">addr</span> <span class="kt">string</span><span class="p">)</span> <span class="p">(</span><span class="n">net</span><span class="o">.</span><span class="n">Conn</span><span class="p">,</span> <span class="kt">error</span><span class="p">)</span> <span class="p">{</span>
            <span class="c">// Force use of IPv4</span>
            <span class="k">return</span> <span class="n">net</span><span class="o">.</span><span class="n">Dial</span><span class="p">(</span><span class="s">"tcp4"</span><span class="p">,</span> <span class="n">addr</span><span class="p">)</span>
        <span class="p">},</span>
        <span class="n">HandshakeTimeout</span><span class="o">:</span> <span class="m">10</span> <span class="o">*</span> <span class="n">time</span><span class="o">.</span><span class="n">Second</span><span class="p">,</span>
    <span class="p">}</span>

    <span class="c">// Establish WebSocket connection</span>
    <span class="n">c</span><span class="p">,</span> <span class="n">_</span><span class="p">,</span> <span class="n">err</span> <span class="o">:=</span> <span class="n">dialer</span><span class="o">.</span><span class="n">Dial</span><span class="p">(</span><span class="n">url</span><span class="p">,</span> <span class="no">nil</span><span class="p">)</span>
    <span class="k">if</span> <span class="n">err</span> <span class="o">!=</span> <span class="no">nil</span> <span class="p">{</span>
        <span class="n">log</span><span class="o">.</span><span class="n">Fatal</span><span class="p">(</span><span class="s">"Connection failed:"</span><span class="p">,</span> <span class="n">err</span><span class="p">)</span>
    <span class="p">}</span>
    <span class="k">defer</span> <span class="n">c</span><span class="o">.</span><span class="n">Close</span><span class="p">()</span>

    <span class="c">// Subscribe to messages</span>
    <span class="n">subMsg</span> <span class="o">:=</span> <span class="k">map</span><span class="p">[</span><span class="kt">string</span><span class="p">]</span><span class="k">interface</span><span class="p">{}{</span>
        <span class="s">"event"</span><span class="o">:</span> <span class="s">"sub"</span><span class="p">,</span>
        <span class="s">"params"</span><span class="o">:</span> <span class="k">map</span><span class="p">[</span><span class="kt">string</span><span class="p">]</span><span class="k">interface</span><span class="p">{}{</span>
            <span class="s">"biz"</span><span class="o">:</span>      <span class="s">"market"</span><span class="p">,</span>
            <span class="s">"type"</span><span class="o">:</span>     <span class="s">"spot.orderbook"</span><span class="p">,</span>
            <span class="s">"symbol"</span><span class="o">:</span>   <span class="s">"BTC-USDT"</span><span class="p">,</span>
            <span class="s">"interval"</span><span class="o">:</span> <span class="s">"0"</span><span class="p">,</span>
        <span class="p">},</span>
        <span class="s">"zip"</span><span class="o">:</span> <span class="no">false</span><span class="p">,</span>
    <span class="p">}</span>
    <span class="n">err</span> <span class="o">=</span> <span class="n">c</span><span class="o">.</span><span class="n">WriteJSON</span><span class="p">(</span><span class="n">subMsg</span><span class="p">)</span>
    <span class="k">if</span> <span class="n">err</span> <span class="o">!=</span> <span class="no">nil</span> <span class="p">{</span>
        <span class="n">log</span><span class="o">.</span><span class="n">Fatal</span><span class="p">(</span><span class="s">"Failed to send subscription:"</span><span class="p">,</span> <span class="n">err</span><span class="p">)</span>
    <span class="p">}</span>
    <span class="n">fmt</span><span class="o">.</span><span class="n">Println</span><span class="p">(</span><span class="s">"Subscription request sent:"</span><span class="p">,</span> <span class="n">subMsg</span><span class="p">)</span>

    <span class="c">// Handle messages</span>
    <span class="k">for</span> <span class="p">{</span>
        <span class="n">_</span><span class="p">,</span> <span class="n">message</span><span class="p">,</span> <span class="n">err</span> <span class="o">:=</span> <span class="n">c</span><span class="o">.</span><span class="n">ReadMessage</span><span class="p">()</span>
        <span class="k">if</span> <span class="n">err</span> <span class="o">!=</span> <span class="no">nil</span> <span class="p">{</span>
            <span class="n">log</span><span class="o">.</span><span class="n">Println</span><span class="p">(</span><span class="s">"Error reading message:"</span><span class="p">,</span> <span class="n">err</span><span class="p">)</span>
            <span class="k">return</span>
        <span class="p">}</span>

        <span class="k">var</span> <span class="n">data</span> <span class="k">map</span><span class="p">[</span><span class="kt">string</span><span class="p">]</span><span class="k">interface</span><span class="p">{}</span>
        <span class="k">if</span> <span class="n">err</span> <span class="o">:=</span> <span class="n">json</span><span class="o">.</span><span class="n">Unmarshal</span><span class="p">(</span><span class="n">message</span><span class="p">,</span> <span class="o">&amp;</span><span class="n">data</span><span class="p">);</span> <span class="n">err</span> <span class="o">!=</span> <span class="no">nil</span> <span class="p">{</span>
            <span class="n">log</span><span class="o">.</span><span class="n">Println</span><span class="p">(</span><span class="s">"Failed to parse JSON:"</span><span class="p">,</span> <span class="n">err</span><span class="p">)</span>
            <span class="k">continue</span>
        <span class="p">}</span>

        <span class="c">// Handle ping message</span>
        <span class="k">if</span> <span class="n">ping</span><span class="p">,</span> <span class="n">ok</span> <span class="o">:=</span> <span class="n">data</span><span class="p">[</span><span class="s">"ping"</span><span class="p">]</span><span class="o">.</span><span class="p">(</span><span class="kt">float64</span><span class="p">);</span> <span class="n">ok</span> <span class="p">{</span>
            <span class="n">pong</span> <span class="o">:=</span> <span class="k">map</span><span class="p">[</span><span class="kt">string</span><span class="p">]</span><span class="k">interface</span><span class="p">{}{</span><span class="s">"pong"</span><span class="o">:</span> <span class="n">ping</span><span class="p">}</span>
            <span class="k">if</span> <span class="n">err</span> <span class="o">:=</span> <span class="n">c</span><span class="o">.</span><span class="n">WriteJSON</span><span class="p">(</span><span class="n">pong</span><span class="p">);</span> <span class="n">err</span> <span class="o">!=</span> <span class="no">nil</span> <span class="p">{</span>
                <span class="n">log</span><span class="o">.</span><span class="n">Println</span><span class="p">(</span><span class="s">"Failed to send pong:"</span><span class="p">,</span> <span class="n">err</span><span class="p">)</span>
                <span class="k">return</span>
            <span class="p">}</span>
            <span class="n">fmt</span><span class="o">.</span><span class="n">Println</span><span class="p">(</span><span class="s">"Pong response sent"</span><span class="p">)</span>
            <span class="k">continue</span>
        <span class="p">}</span>

        <span class="c">// Print other messages</span>
        <span class="n">pretty</span><span class="p">,</span> <span class="n">_</span> <span class="o">:=</span> <span class="n">json</span><span class="o">.</span><span class="n">MarshalIndent</span><span class="p">(</span><span class="n">data</span><span class="p">,</span> <span class="s">""</span><span class="p">,</span> <span class="s">"  "</span><span class="p">)</span>
        <span class="n">fmt</span><span class="o">.</span><span class="n">Printf</span><span class="p">(</span><span class="s">"</span><span class="se">\n</span><span class="s">Received message:</span><span class="se">\n</span><span class="s">%s</span><span class="se">\n</span><span class="s">"</span><span class="p">,</span> <span class="n">pretty</span><span class="p">)</span>
    <span class="p">}</span>
<span class="p">}</span>
</code></pre></div><div class="highlight"><pre class="highlight java tab-java"><code><span class="kn">import</span> <span class="nn">java.io.IOException</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">java.net.URI</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">java.net.http.HttpClient</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">java.net.http.WebSocket</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">java.nio.ByteBuffer</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">java.util.concurrent.CompletionStage</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">java.util.concurrent.CountDownLatch</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">java.util.concurrent.TimeUnit</span><span class="o">;</span>

<span class="kd">public</span> <span class="kd">class</span> <span class="nc">WebSocketClient</span> <span class="o">{</span>
    <span class="kd">private</span> <span class="kd">static</span> <span class="nc">CountDownLatch</span> <span class="n">latch</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">CountDownLatch</span><span class="o">(</span><span class="mi">1</span><span class="o">);</span>

    <span class="kd">public</span> <span class="kd">static</span> <span class="kt">void</span> <span class="nf">main</span><span class="o">(</span><span class="nc">String</span><span class="o">[]</span> <span class="n">args</span><span class="o">)</span> <span class="o">{</span>
        <span class="nc">HttpClient</span> <span class="n">client</span> <span class="o">=</span> <span class="nc">HttpClient</span><span class="o">.</span><span class="na">newHttpClient</span><span class="o">();</span>
        <span class="nc">String</span> <span class="n">uri</span> <span class="o">=</span> <span class="s">"wss://stream.uzx.com/notification/ws"</span><span class="o">;</span>

        <span class="nc">WebSocket</span> <span class="n">webSocket</span> <span class="o">=</span> <span class="n">client</span><span class="o">.</span><span class="na">newWebSocketBuilder</span><span class="o">()</span>
               <span class="o">.</span><span class="na">buildAsync</span><span class="o">(</span><span class="no">URI</span><span class="o">.</span><span class="na">create</span><span class="o">(</span><span class="n">uri</span><span class="o">),</span> <span class="k">new</span> <span class="nc">WebSocket</span><span class="o">.</span><span class="na">Listener</span><span class="o">()</span> <span class="o">{</span>
                    <span class="nd">@Override</span>
                    <span class="kd">public</span> <span class="kt">void</span> <span class="nf">onOpen</span><span class="o">(</span><span class="nc">WebSocket</span> <span class="n">webSocket</span><span class="o">)</span> <span class="o">{</span>
                        <span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">"Connection established"</span><span class="o">);</span>
                        <span class="c1">// Send subscription message</span>
                        <span class="nc">String</span> <span class="n">subscribeMsg</span> <span class="o">=</span> <span class="s">"{\"event\":\"sub\",\"params\":{\"biz\":\"market\",\"type\":\"spot.orderbook\",\"symbol\":\"BTC-USDT\",\"interval\":\"0\"},\"zip\":false}"</span><span class="o">;</span>
                        <span class="n">webSocket</span><span class="o">.</span><span class="na">sendText</span><span class="o">(</span><span class="n">subscribeMsg</span><span class="o">,</span> <span class="kc">true</span><span class="o">);</span>
                        <span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">"Subscription request sent: "</span> <span class="o">+</span> <span class="n">subscribeMsg</span><span class="o">);</span>
                        <span class="nc">WebSocket</span><span class="o">.</span><span class="na">Listener</span><span class="o">.</span><span class="na">super</span><span class="o">.</span><span class="na">onOpen</span><span class="o">(</span><span class="n">webSocket</span><span class="o">);</span>
                    <span class="o">}</span>

                    <span class="nd">@Override</span>
                    <span class="kd">public</span> <span class="nc">CompletionStage</span><span class="o">&lt;?&gt;</span> <span class="n">onText</span><span class="o">(</span><span class="nc">WebSocket</span> <span class="n">webSocket</span><span class="o">,</span> <span class="nc">CharSequence</span> <span class="n">data</span><span class="o">,</span> <span class="kt">boolean</span> <span class="n">last</span><span class="o">)</span> <span class="o">{</span>
                        <span class="nc">String</span> <span class="n">message</span> <span class="o">=</span> <span class="n">data</span><span class="o">.</span><span class="na">toString</span><span class="o">();</span>
                        <span class="k">try</span> <span class="o">{</span>
                            <span class="c1">// Handle ping message</span>
                            <span class="k">if</span> <span class="o">(</span><span class="n">message</span><span class="o">.</span><span class="na">contains</span><span class="o">(</span><span class="s">"\"ping\""</span><span class="o">))</span> <span class="o">{</span>
                                <span class="nc">String</span> <span class="n">pongMsg</span> <span class="o">=</span> <span class="n">message</span><span class="o">.</span><span class="na">replace</span><span class="o">(</span><span class="s">"\"ping\""</span><span class="o">,</span> <span class="s">"\"pong\""</span><span class="o">);</span>
                                <span class="n">webSocket</span><span class="o">.</span><span class="na">sendText</span><span class="o">(</span><span class="n">pongMsg</span><span class="o">,</span> <span class="kc">true</span><span class="o">);</span>
                                <span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">"Pong response sent"</span><span class="o">);</span>
                            <span class="o">}</span> <span class="k">else</span> <span class="o">{</span>
                                <span class="c1">// Print other messages</span>
                                <span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">"\nReceived message:"</span><span class="o">);</span>
                                <span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="n">message</span><span class="o">);</span>
                            <span class="o">}</span>
                        <span class="o">}</span> <span class="k">catch</span> <span class="o">(</span><span class="nc">Exception</span> <span class="n">e</span><span class="o">)</span> <span class="o">{</span>
                            <span class="n">e</span><span class="o">.</span><span class="na">printStackTrace</span><span class="o">();</span>
                        <span class="o">}</span>
                        <span class="k">return</span> <span class="nc">WebSocket</span><span class="o">.</span><span class="na">Listener</span><span class="o">.</span><span class="na">super</span><span class="o">.</span><span class="na">onText</span><span class="o">(</span><span class="n">webSocket</span><span class="o">,</span> <span class="n">data</span><span class="o">,</span> <span class="n">last</span><span class="o">);</span>
                    <span class="o">}</span>

                    <span class="nd">@Override</span>
                    <span class="kd">public</span> <span class="nc">CompletionStage</span><span class="o">&lt;?&gt;</span> <span class="n">onClose</span><span class="o">(</span><span class="nc">WebSocket</span> <span class="n">webSocket</span><span class="o">,</span> <span class="kt">int</span> <span class="n">statusCode</span><span class="o">,</span> <span class="nc">String</span> <span class="n">reason</span><span class="o">)</span> <span class="o">{</span>
                        <span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">"Connection closed: status code "</span> <span class="o">+</span> <span class="n">statusCode</span> <span class="o">+</span> <span class="s">", reason: "</span> <span class="o">+</span> <span class="n">reason</span><span class="o">);</span>
                        <span class="n">latch</span><span class="o">.</span><span class="na">countDown</span><span class="o">();</span>
                        <span class="k">return</span> <span class="nc">WebSocket</span><span class="o">.</span><span class="na">Listener</span><span class="o">.</span><span class="na">super</span><span class="o">.</span><span class="na">onClose</span><span class="o">(</span><span class="n">webSocket</span><span class="o">,</span> <span class="n">statusCode</span><span class="o">,</span> <span class="n">reason</span><span class="o">);</span>
                    <span class="o">}</span>

                    <span class="nd">@Override</span>
                    <span class="kd">public</span> <span class="kt">void</span> <span class="nf">onError</span><span class="o">(</span><span class="nc">WebSocket</span> <span class="n">webSocket</span><span class="o">,</span> <span class="nc">Throwable</span> <span class="n">error</span><span class="o">)</span> <span class="o">{</span>
                        <span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">"Error occurred:"</span><span class="o">);</span>
                        <span class="n">error</span><span class="o">.</span><span class="na">printStackTrace</span><span class="o">();</span>
                        <span class="n">latch</span><span class="o">.</span><span class="na">countDown</span><span class="o">();</span>
                    <span class="o">}</span>
                <span class="o">}).</span><span class="na">join</span><span class="o">();</span>

        <span class="k">try</span> <span class="o">{</span>
            <span class="c1">// Keep the connection alive</span>
            <span class="n">latch</span><span class="o">.</span><span class="na">await</span><span class="o">(</span><span class="mi">1</span><span class="o">,</span> <span class="nc">TimeUnit</span><span class="o">.</span><span class="na">HOURS</span><span class="o">);</span>
        <span class="o">}</span> <span class="k">catch</span> <span class="o">(</span><span class="nc">InterruptedException</span> <span class="n">e</span><span class="o">)</span> <span class="o">{</span>
            <span class="n">e</span><span class="o">.</span><span class="na">printStackTrace</span><span class="o">();</span>
            <span class="nc">Thread</span><span class="o">.</span><span class="na">currentThread</span><span class="o">().</span><span class="na">interrupt</span><span class="o">();</span>
        <span class="o">}</span>
    <span class="o">}</span>
<span class="o">}</span>
</code></pre></div>
<table><thead>
<tr>
<th style="text-align: left">Parameter Name</th>
<th style="text-align: left">Required</th>
<th style="text-align: left">Type</th>
<th style="text-align: left">Description</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left">event</td>
<td style="text-align: left">Yes</td>
<td style="text-align: left">String</td>
<td style="text-align: left">Operation</td>
</tr>
<tr>
<td style="text-align: left">params</td>
<td style="text-align: left">Yes</td>
<td style="text-align: left">Object</td>
<td style="text-align: left">Subscription parameter information</td>
</tr>
<tr>
<td style="text-align: left">&gt;biz</td>
<td style="text-align: left">Yes</td>
<td style="text-align: left">String</td>
<td style="text-align: left">Type,  <code>market</code></td>
</tr>
<tr>
<td style="text-align: left">&gt;type</td>
<td style="text-align: left">Yes</td>
<td style="text-align: left">String</td>
<td style="text-align: left">Channel name</td>
</tr>
<tr>
<td style="text-align: left">&gt;symbol</td>
<td style="text-align: left">Yes</td>
<td style="text-align: left">String</td>
<td style="text-align: left">Product Name (currency pair)</td>
</tr>
<tr>
<td style="text-align: left">&gt;interval</td>
<td style="text-align: left">Yes</td>
<td style="text-align: left">String</td>
<td style="text-align: left">Depth level (0-3)</td>
</tr>
<tr>
<td style="text-align: left">zip</td>
<td style="text-align: left">Yes</td>
<td style="text-align: left">Boolean</td>
<td style="text-align: left">Whether to enable gzip</td>
</tr>
</tbody></table>
<h4 id='a222a51ebj1j'>Response Parameters</h4>
<blockquote>
<p>Response Example</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"id"</span><span class="p">:</span><span class="s2">""</span><span class="p">,</span><span class="w">
  </span><span class="nl">"event"</span><span class="p">:</span><span class="s2">"subscribe"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"topic"</span><span class="p">:</span><span class="s2">"spot.BTC-USDT.depth.step0"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"status"</span><span class="p">:</span><span class="s2">"ok"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<table><thead>
<tr>
<th style="text-align: left">Parameter Name</th>
<th style="text-align: left">Type</th>
<th style="text-align: left">Description</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left">id</td>
<td style="text-align: left">String</td>
<td style="text-align: left">Ignore this field</td>
</tr>
<tr>
<td style="text-align: left">event</td>
<td style="text-align: left">String</td>
<td style="text-align: left">Event type</td>
</tr>
<tr>
<td style="text-align: left">topic</td>
<td style="text-align: left">String</td>
<td style="text-align: left">Topic name</td>
</tr>
<tr>
<td style="text-align: left">status</td>
<td style="text-align: left">String</td>
<td style="text-align: left">Status code</td>
</tr>
</tbody></table>
<h4 id='5efa6fab1sca'>FEED Parameter Description</h4>
<blockquote>
<p>FEED Example</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"bids"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="p">[</span><span class="w">
      </span><span class="s2">"107105.51"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"0.21529"</span><span class="w">
    </span><span class="p">]</span><span class="w">
  </span><span class="p">],</span><span class="w">
  </span><span class="nl">"asks"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="p">[</span><span class="w">
      </span><span class="s2">"107105.52"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"1.45346"</span><span class="w">
    </span><span class="p">]</span><span class="w">
  </span><span class="p">],</span><span class="w">
  </span><span class="nl">"ts"</span><span class="p">:</span><span class="w"> </span><span class="mi">1751018234502</span><span class="p">,</span><span class="w">
  </span><span class="nl">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"spot.orderBook"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"product_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BTC-USDT"</span><span class="p">,</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<blockquote>
<p>Example values for <code>asks</code> and <code>bids</code>:
<br> <code>asks</code>: <code>[19631.36, 0.2041]</code> where <code>19631.36</code> is the best ask price and <code>0.2041</code> is the best ask volume.
<br> <code>bids</code>: <code>[19602.5, 0.1]</code> where <code>19602.5</code> is the best bid price and <code>0.1</code> is the best bid volume.</p>
</blockquote>

<table><thead>
<tr>
<th style="text-align: left">Parameter Name</th>
<th style="text-align: left">Type</th>
<th style="text-align: left">Description</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left">asks</td>
<td style="text-align: left">Array</td>
<td style="text-align: left">Sell orders</td>
</tr>
<tr>
<td style="text-align: left">bids</td>
<td style="text-align: left">Array</td>
<td style="text-align: left">Buy orders</td>
</tr>
<tr>
<td style="text-align: left">product_name</td>
<td style="text-align: left">String</td>
<td style="text-align: left">Product Name</td>
</tr>
<tr>
<td style="text-align: left">ts</td>
<td style="text-align: left">Int</td>
<td style="text-align: left">Time of the response, in milliseconds since the Unix epoch, e.g., 1652974473071</td>
</tr>
<tr>
<td style="text-align: left">type</td>
<td style="text-align: left">String</td>
<td style="text-align: left">Channel name</td>
</tr>
</tbody></table>
<h3 id='a53bf155aexp'>Spot Percent10</h3><h4 id='22da1a052rps'>Request Parameters</h4>
<blockquote>
<p>Request Example</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
    </span><span class="nl">"event"</span><span class="p">:</span><span class="w"> </span><span class="s2">"sub"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"params"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nl">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"spot.percent10"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"symbol"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BTC-USDT"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nl">"zip"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div><div class="highlight"><pre class="highlight python tab-python"><code><span class="kn">import</span> <span class="nn">asyncio</span>
<span class="kn">import</span> <span class="nn">json</span>
<span class="kn">import</span> <span class="nn">websockets</span>

<span class="k">async</span> <span class="k">def</span> <span class="nf">handle_websocket</span><span class="p">():</span>
    <span class="k">async</span> <span class="k">with</span> <span class="n">websockets</span><span class="p">.</span><span class="n">connect</span><span class="p">(</span><span class="s">"wss://stream.uzx.com/notification/ws"</span><span class="p">)</span> <span class="k">as</span> <span class="n">ws</span><span class="p">:</span>
        <span class="k">await</span> <span class="n">ws</span><span class="p">.</span><span class="n">send</span><span class="p">(</span><span class="n">json</span><span class="p">.</span><span class="n">dumps</span><span class="p">({</span>
            <span class="s">"event"</span><span class="p">:</span> <span class="s">"sub"</span><span class="p">,</span>
            <span class="s">"params"</span><span class="p">:</span> <span class="p">{</span>
                <span class="s">"type"</span><span class="p">:</span> <span class="s">"spot.percent10"</span><span class="p">,</span>
                <span class="s">"symbol"</span><span class="p">:</span> <span class="s">"BTC-USDT"</span>
            <span class="p">},</span>
            <span class="s">"zip"</span><span class="p">:</span> <span class="bp">False</span>
        <span class="p">}))</span>

        <span class="k">while</span> <span class="bp">True</span><span class="p">:</span>
            <span class="n">msg</span> <span class="o">=</span> <span class="k">await</span> <span class="n">ws</span><span class="p">.</span><span class="n">recv</span><span class="p">()</span>
            <span class="n">data</span> <span class="o">=</span> <span class="n">json</span><span class="p">.</span><span class="n">loads</span><span class="p">(</span><span class="n">msg</span><span class="p">)</span>
            <span class="k">if</span> <span class="s">"ping"</span> <span class="ow">in</span> <span class="n">data</span><span class="p">:</span>
                <span class="k">await</span> <span class="n">ws</span><span class="p">.</span><span class="n">send</span><span class="p">(</span><span class="n">json</span><span class="p">.</span><span class="n">dumps</span><span class="p">({</span><span class="s">"pong"</span><span class="p">:</span> <span class="n">data</span><span class="p">[</span><span class="s">"ping"</span><span class="p">]}))</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="k">print</span><span class="p">(</span><span class="n">json</span><span class="p">.</span><span class="n">dumps</span><span class="p">(</span><span class="n">data</span><span class="p">,</span> <span class="n">indent</span><span class="o">=</span><span class="mi">2</span><span class="p">))</span>

<span class="n">asyncio</span><span class="p">.</span><span class="n">run</span><span class="p">(</span><span class="n">handle_websocket</span><span class="p">())</span>
</code></pre></div><div class="highlight"><pre class="highlight go tab-go"><code><span class="k">package</span> <span class="n">main</span>

<span class="k">import</span> <span class="p">(</span>
    <span class="s">"encoding/json"</span>
    <span class="s">"fmt"</span>
    <span class="s">"github.com/gorilla/websocket"</span>
    <span class="s">"log"</span>
    <span class="s">"net"</span>
    <span class="s">"net/http"</span>
    <span class="s">"time"</span>
<span class="p">)</span>

<span class="k">func</span> <span class="n">main</span><span class="p">()</span> <span class="p">{</span>
    <span class="n">url</span> <span class="o">:=</span> <span class="s">"wss://stream.uzx.com/notification/ws"</span>

    <span class="c">// Custom dialer configuration</span>
    <span class="n">dialer</span> <span class="o">:=</span> <span class="o">&amp;</span><span class="n">websocket</span><span class="o">.</span><span class="n">Dialer</span><span class="p">{</span>
        <span class="n">Proxy</span><span class="o">:</span> <span class="n">http</span><span class="o">.</span><span class="n">ProxyFromEnvironment</span><span class="p">,</span>
        <span class="n">NetDial</span><span class="o">:</span> <span class="k">func</span><span class="p">(</span><span class="n">network</span><span class="p">,</span> <span class="n">addr</span> <span class="kt">string</span><span class="p">)</span> <span class="p">(</span><span class="n">net</span><span class="o">.</span><span class="n">Conn</span><span class="p">,</span> <span class="kt">error</span><span class="p">)</span> <span class="p">{</span>
            <span class="c">// Force use of IPv4</span>
            <span class="k">return</span> <span class="n">net</span><span class="o">.</span><span class="n">Dial</span><span class="p">(</span><span class="s">"tcp4"</span><span class="p">,</span> <span class="n">addr</span><span class="p">)</span>
        <span class="p">},</span>
        <span class="n">HandshakeTimeout</span><span class="o">:</span> <span class="m">10</span> <span class="o">*</span> <span class="n">time</span><span class="o">.</span><span class="n">Second</span><span class="p">,</span>
    <span class="p">}</span>

    <span class="c">// Establish WebSocket connection</span>
    <span class="n">c</span><span class="p">,</span> <span class="n">_</span><span class="p">,</span> <span class="n">err</span> <span class="o">:=</span> <span class="n">dialer</span><span class="o">.</span><span class="n">Dial</span><span class="p">(</span><span class="n">url</span><span class="p">,</span> <span class="no">nil</span><span class="p">)</span>
    <span class="k">if</span> <span class="n">err</span> <span class="o">!=</span> <span class="no">nil</span> <span class="p">{</span>
        <span class="n">log</span><span class="o">.</span><span class="n">Fatal</span><span class="p">(</span><span class="s">"Connection failed:"</span><span class="p">,</span> <span class="n">err</span><span class="p">)</span>
    <span class="p">}</span>
    <span class="k">defer</span> <span class="n">c</span><span class="o">.</span><span class="n">Close</span><span class="p">()</span>

    <span class="c">// Subscribe to messages</span>
    <span class="n">subMsg</span> <span class="o">:=</span> <span class="k">map</span><span class="p">[</span><span class="kt">string</span><span class="p">]</span><span class="k">interface</span><span class="p">{}{</span>
        <span class="s">"event"</span><span class="o">:</span> <span class="s">"sub"</span><span class="p">,</span>
        <span class="s">"params"</span><span class="o">:</span> <span class="k">map</span><span class="p">[</span><span class="kt">string</span><span class="p">]</span><span class="k">interface</span><span class="p">{}{</span>
            <span class="s">"type"</span><span class="o">:</span>     <span class="s">"spot.percent10"</span><span class="p">,</span>
            <span class="s">"symbol"</span><span class="o">:</span>   <span class="s">"BTC-USDT"</span><span class="p">,</span>
        <span class="p">},</span>
        <span class="s">"zip"</span><span class="o">:</span> <span class="no">false</span><span class="p">,</span>
    <span class="p">}</span>
    <span class="n">err</span> <span class="o">=</span> <span class="n">c</span><span class="o">.</span><span class="n">WriteJSON</span><span class="p">(</span><span class="n">subMsg</span><span class="p">)</span>
    <span class="k">if</span> <span class="n">err</span> <span class="o">!=</span> <span class="no">nil</span> <span class="p">{</span>
        <span class="n">log</span><span class="o">.</span><span class="n">Fatal</span><span class="p">(</span><span class="s">"Failed to send subscription:"</span><span class="p">,</span> <span class="n">err</span><span class="p">)</span>
    <span class="p">}</span>
    <span class="n">fmt</span><span class="o">.</span><span class="n">Println</span><span class="p">(</span><span class="s">"Subscription request sent:"</span><span class="p">,</span> <span class="n">subMsg</span><span class="p">)</span>

    <span class="c">// Handle messages</span>
    <span class="k">for</span> <span class="p">{</span>
        <span class="n">_</span><span class="p">,</span> <span class="n">message</span><span class="p">,</span> <span class="n">err</span> <span class="o">:=</span> <span class="n">c</span><span class="o">.</span><span class="n">ReadMessage</span><span class="p">()</span>
        <span class="k">if</span> <span class="n">err</span> <span class="o">!=</span> <span class="no">nil</span> <span class="p">{</span>
            <span class="n">log</span><span class="o">.</span><span class="n">Println</span><span class="p">(</span><span class="s">"Error reading message:"</span><span class="p">,</span> <span class="n">err</span><span class="p">)</span>
            <span class="k">return</span>
        <span class="p">}</span>

        <span class="k">var</span> <span class="n">data</span> <span class="k">map</span><span class="p">[</span><span class="kt">string</span><span class="p">]</span><span class="k">interface</span><span class="p">{}</span>
        <span class="k">if</span> <span class="n">err</span> <span class="o">:=</span> <span class="n">json</span><span class="o">.</span><span class="n">Unmarshal</span><span class="p">(</span><span class="n">message</span><span class="p">,</span> <span class="o">&amp;</span><span class="n">data</span><span class="p">);</span> <span class="n">err</span> <span class="o">!=</span> <span class="no">nil</span> <span class="p">{</span>
            <span class="n">log</span><span class="o">.</span><span class="n">Println</span><span class="p">(</span><span class="s">"Failed to parse JSON:"</span><span class="p">,</span> <span class="n">err</span><span class="p">)</span>
            <span class="k">continue</span>
        <span class="p">}</span>

        <span class="c">// Handle ping message</span>
        <span class="k">if</span> <span class="n">ping</span><span class="p">,</span> <span class="n">ok</span> <span class="o">:=</span> <span class="n">data</span><span class="p">[</span><span class="s">"ping"</span><span class="p">]</span><span class="o">.</span><span class="p">(</span><span class="kt">float64</span><span class="p">);</span> <span class="n">ok</span> <span class="p">{</span>
            <span class="n">pong</span> <span class="o">:=</span> <span class="k">map</span><span class="p">[</span><span class="kt">string</span><span class="p">]</span><span class="k">interface</span><span class="p">{}{</span><span class="s">"pong"</span><span class="o">:</span> <span class="n">ping</span><span class="p">}</span>
            <span class="k">if</span> <span class="n">err</span> <span class="o">:=</span> <span class="n">c</span><span class="o">.</span><span class="n">WriteJSON</span><span class="p">(</span><span class="n">pong</span><span class="p">);</span> <span class="n">err</span> <span class="o">!=</span> <span class="no">nil</span> <span class="p">{</span>
                <span class="n">log</span><span class="o">.</span><span class="n">Println</span><span class="p">(</span><span class="s">"Failed to send pong:"</span><span class="p">,</span> <span class="n">err</span><span class="p">)</span>
                <span class="k">return</span>
            <span class="p">}</span>
            <span class="n">fmt</span><span class="o">.</span><span class="n">Println</span><span class="p">(</span><span class="s">"Pong response sent"</span><span class="p">)</span>
            <span class="k">continue</span>
        <span class="p">}</span>

        <span class="c">// Print other messages</span>
        <span class="n">pretty</span><span class="p">,</span> <span class="n">_</span> <span class="o">:=</span> <span class="n">json</span><span class="o">.</span><span class="n">MarshalIndent</span><span class="p">(</span><span class="n">data</span><span class="p">,</span> <span class="s">""</span><span class="p">,</span> <span class="s">"  "</span><span class="p">)</span>
        <span class="n">fmt</span><span class="o">.</span><span class="n">Printf</span><span class="p">(</span><span class="s">"</span><span class="se">\n</span><span class="s">Received message:</span><span class="se">\n</span><span class="s">%s</span><span class="se">\n</span><span class="s">"</span><span class="p">,</span> <span class="n">pretty</span><span class="p">)</span>
    <span class="p">}</span>
<span class="p">}</span>
</code></pre></div><div class="highlight"><pre class="highlight java tab-java"><code><span class="kn">import</span> <span class="nn">java.io.IOException</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">java.net.URI</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">java.net.http.HttpClient</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">java.net.http.WebSocket</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">java.nio.ByteBuffer</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">java.util.concurrent.CompletionStage</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">java.util.concurrent.CountDownLatch</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">java.util.concurrent.TimeUnit</span><span class="o">;</span>

<span class="kd">public</span> <span class="kd">class</span> <span class="nc">WebSocketClient</span> <span class="o">{</span>
    <span class="kd">private</span> <span class="kd">static</span> <span class="nc">CountDownLatch</span> <span class="n">latch</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">CountDownLatch</span><span class="o">(</span><span class="mi">1</span><span class="o">);</span>

    <span class="kd">public</span> <span class="kd">static</span> <span class="kt">void</span> <span class="nf">main</span><span class="o">(</span><span class="nc">String</span><span class="o">[]</span> <span class="n">args</span><span class="o">)</span> <span class="o">{</span>
        <span class="nc">HttpClient</span> <span class="n">client</span> <span class="o">=</span> <span class="nc">HttpClient</span><span class="o">.</span><span class="na">newHttpClient</span><span class="o">();</span>
        <span class="nc">String</span> <span class="n">uri</span> <span class="o">=</span> <span class="s">"wss://stream.uzx.com/notification/ws"</span><span class="o">;</span>

        <span class="nc">WebSocket</span> <span class="n">webSocket</span> <span class="o">=</span> <span class="n">client</span><span class="o">.</span><span class="na">newWebSocketBuilder</span><span class="o">()</span>
               <span class="o">.</span><span class="na">buildAsync</span><span class="o">(</span><span class="no">URI</span><span class="o">.</span><span class="na">create</span><span class="o">(</span><span class="n">uri</span><span class="o">),</span> <span class="k">new</span> <span class="nc">WebSocket</span><span class="o">.</span><span class="na">Listener</span><span class="o">()</span> <span class="o">{</span>
                    <span class="nd">@Override</span>
                    <span class="kd">public</span> <span class="kt">void</span> <span class="nf">onOpen</span><span class="o">(</span><span class="nc">WebSocket</span> <span class="n">webSocket</span><span class="o">)</span> <span class="o">{</span>
                        <span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">"Connection established"</span><span class="o">);</span>
                        <span class="c1">// Send subscription message</span>
                        <span class="nc">String</span> <span class="n">subscribeMsg</span> <span class="o">=</span> <span class="s">"{\"event\":\"sub\",\"params\":{\"type\":\"spot.percent10\",\"symbol\":\"BTC-USDT\"},\"zip\":false}"</span><span class="o">;</span>
                        <span class="n">webSocket</span><span class="o">.</span><span class="na">sendText</span><span class="o">(</span><span class="n">subscribeMsg</span><span class="o">,</span> <span class="kc">true</span><span class="o">);</span>
                        <span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">"Subscription request sent: "</span> <span class="o">+</span> <span class="n">subscribeMsg</span><span class="o">);</span>
                        <span class="nc">WebSocket</span><span class="o">.</span><span class="na">Listener</span><span class="o">.</span><span class="na">super</span><span class="o">.</span><span class="na">onOpen</span><span class="o">(</span><span class="n">webSocket</span><span class="o">);</span>
                    <span class="o">}</span>

                    <span class="nd">@Override</span>
                    <span class="kd">public</span> <span class="nc">CompletionStage</span><span class="o">&lt;?&gt;</span> <span class="n">onText</span><span class="o">(</span><span class="nc">WebSocket</span> <span class="n">webSocket</span><span class="o">,</span> <span class="nc">CharSequence</span> <span class="n">data</span><span class="o">,</span> <span class="kt">boolean</span> <span class="n">last</span><span class="o">)</span> <span class="o">{</span>
                        <span class="nc">String</span> <span class="n">message</span> <span class="o">=</span> <span class="n">data</span><span class="o">.</span><span class="na">toString</span><span class="o">();</span>
                        <span class="k">try</span> <span class="o">{</span>
                            <span class="c1">// Handle ping message</span>
                            <span class="k">if</span> <span class="o">(</span><span class="n">message</span><span class="o">.</span><span class="na">contains</span><span class="o">(</span><span class="s">"\"ping\""</span><span class="o">))</span> <span class="o">{</span>
                                <span class="nc">String</span> <span class="n">pongMsg</span> <span class="o">=</span> <span class="n">message</span><span class="o">.</span><span class="na">replace</span><span class="o">(</span><span class="s">"\"ping\""</span><span class="o">,</span> <span class="s">"\"pong\""</span><span class="o">);</span>
                                <span class="n">webSocket</span><span class="o">.</span><span class="na">sendText</span><span class="o">(</span><span class="n">pongMsg</span><span class="o">,</span> <span class="kc">true</span><span class="o">);</span>
                                <span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">"Pong response sent"</span><span class="o">);</span>
                            <span class="o">}</span> <span class="k">else</span> <span class="o">{</span>
                                <span class="c1">// Print other messages</span>
                                <span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">"\nReceived message:"</span><span class="o">);</span>
                                <span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="n">message</span><span class="o">);</span>
                            <span class="o">}</span>
                        <span class="o">}</span> <span class="k">catch</span> <span class="o">(</span><span class="nc">Exception</span> <span class="n">e</span><span class="o">)</span> <span class="o">{</span>
                            <span class="n">e</span><span class="o">.</span><span class="na">printStackTrace</span><span class="o">();</span>
                        <span class="o">}</span>
                        <span class="k">return</span> <span class="nc">WebSocket</span><span class="o">.</span><span class="na">Listener</span><span class="o">.</span><span class="na">super</span><span class="o">.</span><span class="na">onText</span><span class="o">(</span><span class="n">webSocket</span><span class="o">,</span> <span class="n">data</span><span class="o">,</span> <span class="n">last</span><span class="o">);</span>
                    <span class="o">}</span>

                    <span class="nd">@Override</span>
                    <span class="kd">public</span> <span class="nc">CompletionStage</span><span class="o">&lt;?&gt;</span> <span class="n">onClose</span><span class="o">(</span><span class="nc">WebSocket</span> <span class="n">webSocket</span><span class="o">,</span> <span class="kt">int</span> <span class="n">statusCode</span><span class="o">,</span> <span class="nc">String</span> <span class="n">reason</span><span class="o">)</span> <span class="o">{</span>
                        <span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">"Connection closed: status code "</span> <span class="o">+</span> <span class="n">statusCode</span> <span class="o">+</span> <span class="s">", reason: "</span> <span class="o">+</span> <span class="n">reason</span><span class="o">);</span>
                        <span class="n">latch</span><span class="o">.</span><span class="na">countDown</span><span class="o">();</span>
                        <span class="k">return</span> <span class="nc">WebSocket</span><span class="o">.</span><span class="na">Listener</span><span class="o">.</span><span class="na">super</span><span class="o">.</span><span class="na">onClose</span><span class="o">(</span><span class="n">webSocket</span><span class="o">,</span> <span class="n">statusCode</span><span class="o">,</span> <span class="n">reason</span><span class="o">);</span>
                    <span class="o">}</span>

                    <span class="nd">@Override</span>
                    <span class="kd">public</span> <span class="kt">void</span> <span class="nf">onError</span><span class="o">(</span><span class="nc">WebSocket</span> <span class="n">webSocket</span><span class="o">,</span> <span class="nc">Throwable</span> <span class="n">error</span><span class="o">)</span> <span class="o">{</span>
                        <span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">"Error occurred:"</span><span class="o">);</span>
                        <span class="n">error</span><span class="o">.</span><span class="na">printStackTrace</span><span class="o">();</span>
                        <span class="n">latch</span><span class="o">.</span><span class="na">countDown</span><span class="o">();</span>
                    <span class="o">}</span>
                <span class="o">}).</span><span class="na">join</span><span class="o">();</span>

        <span class="k">try</span> <span class="o">{</span>
            <span class="c1">// Keep the connection alive</span>
            <span class="n">latch</span><span class="o">.</span><span class="na">await</span><span class="o">(</span><span class="mi">1</span><span class="o">,</span> <span class="nc">TimeUnit</span><span class="o">.</span><span class="na">HOURS</span><span class="o">);</span>
        <span class="o">}</span> <span class="k">catch</span> <span class="o">(</span><span class="nc">InterruptedException</span> <span class="n">e</span><span class="o">)</span> <span class="o">{</span>
            <span class="n">e</span><span class="o">.</span><span class="na">printStackTrace</span><span class="o">();</span>
            <span class="nc">Thread</span><span class="o">.</span><span class="na">currentThread</span><span class="o">().</span><span class="na">interrupt</span><span class="o">();</span>
        <span class="o">}</span>
    <span class="o">}</span>
<span class="o">}</span>
</code></pre></div>
<table><thead>
<tr>
<th style="text-align: left">Parameter Name</th>
<th style="text-align: left">Required</th>
<th style="text-align: left">Type</th>
<th style="text-align: left">Description</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left">event</td>
<td style="text-align: left">Yes</td>
<td style="text-align: left">string</td>
<td style="text-align: left">Operation</td>
</tr>
<tr>
<td style="text-align: left">params</td>
<td style="text-align: left">Yes</td>
<td style="text-align: left">object</td>
<td style="text-align: left">Subscription parameter information</td>
</tr>
<tr>
<td style="text-align: left">&gt;symbol</td>
<td style="text-align: left">Yes</td>
<td style="text-align: left">string</td>
<td style="text-align: left">Product Name (currency pair)</td>
</tr>
<tr>
<td style="text-align: left">&gt;type</td>
<td style="text-align: left">Yes</td>
<td style="text-align: left">string</td>
<td style="text-align: left">Channel name</td>
</tr>
<tr>
<td style="text-align: left">zip</td>
<td style="text-align: left">Yes</td>
<td style="text-align: left">Boolean</td>
<td style="text-align: left">Whether to enable gzip</td>
</tr>
</tbody></table>
<h4 id='a222a51eiriy'>Response Parameters</h4>
<blockquote>
<p>Response Example</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
  </span><span class="nl">"event"</span><span class="p">:</span><span class="w"> </span><span class="s2">"subscribe"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"topic"</span><span class="p">:</span><span class="w"> </span><span class="s2">"spot.BTC-USDT.depth.percent10"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ok"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<table><thead>
<tr>
<th style="text-align: left">Parameter Name</th>
<th style="text-align: left">Type</th>
<th style="text-align: left">Description</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left">id</td>
<td style="text-align: left">String</td>
<td style="text-align: left">Ignore this field</td>
</tr>
<tr>
<td style="text-align: left">event</td>
<td style="text-align: left">String</td>
<td style="text-align: left">Event type</td>
</tr>
<tr>
<td style="text-align: left">topic</td>
<td style="text-align: left">String</td>
<td style="text-align: left">Topic name</td>
</tr>
<tr>
<td style="text-align: left">status</td>
<td style="text-align: left">String</td>
<td style="text-align: left">Status code</td>
</tr>
</tbody></table>
<h4 id='5efa6fabtu35'>FEED Parameter Description</h4>
<blockquote>
<p>FEED Example</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
    </span><span class="nl">"asks"</span><span class="p">:[</span><span class="w">
        </span><span class="p">[</span><span class="w">
            </span><span class="mf">21573.475</span><span class="p">,</span><span class="w">
            </span><span class="mf">0.01</span><span class="w">
        </span><span class="p">]</span><span class="w">
    </span><span class="p">],</span><span class="w">
    </span><span class="nl">"bids"</span><span class="p">:[</span><span class="w">
        </span><span class="p">[</span><span class="w">
            </span><span class="mf">17651.025</span><span class="p">,</span><span class="w">
            </span><span class="mf">0.05</span><span class="w">
        </span><span class="p">]</span><span class="w">
    </span><span class="p">],</span><span class="w">
    </span><span class="nl">"product_name"</span><span class="p">:</span><span class="s2">"BTC-USDT"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"ts"</span><span class="p">:</span><span class="mi">1657868806752</span><span class="p">,</span><span class="w">
    </span><span class="nl">"type"</span><span class="p">:</span><span class="s2">"spot.percent10"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<blockquote>
<p>Example values for <code>asks</code> and <code>bids</code>:
<br> <code>asks</code>: <code>[21573.475, 0.01]</code> where <code>21573.475</code> is the best ask price and <code>0.01</code> is the best ask volume.
<br> <code>bids</code>: <code>[17651.025, 0.05]</code> where <code>17651.025</code> is the best bid price and <code>0.05</code> is the best bid volume.</p>
</blockquote>

<table><thead>
<tr>
<th style="text-align: left">Parameter Name</th>
<th style="text-align: left">Type</th>
<th style="text-align: left">Description</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left">asks</td>
<td style="text-align: left">Array</td>
<td style="text-align: left">Sell orders</td>
</tr>
<tr>
<td style="text-align: left">bids</td>
<td style="text-align: left">Array</td>
<td style="text-align: left">Buy orders</td>
</tr>
<tr>
<td style="text-align: left">interval</td>
<td style="text-align: left">String</td>
<td style="text-align: left">Period</td>
</tr>
<tr>
<td style="text-align: left">product_name</td>
<td style="text-align: left">String</td>
<td style="text-align: left">Product Name</td>
</tr>
<tr>
<td style="text-align: left">ts</td>
<td style="text-align: left">Int</td>
<td style="text-align: left">Time of the response, in milliseconds since the Unix epoch, e.g., 1652974473071</td>
</tr>
<tr>
<td style="text-align: left">type</td>
<td style="text-align: left">String</td>
<td style="text-align: left">Channel name</td>
</tr>
</tbody></table>
<h3 id='3cd370f0jh0f'>Spot Ticker</h3><h4 id='22da1a05s8iz'>Request Parameters</h4>
<blockquote>
<p>Request Example</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
    </span><span class="nl">"event"</span><span class="p">:</span><span class="w"> </span><span class="s2">"sub"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"params"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nl">"biz"</span><span class="p">:</span><span class="w"> </span><span class="s2">"market"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"spot.ticker"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"symbol"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BTC-USDT"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nl">"zip"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div><div class="highlight"><pre class="highlight python tab-python"><code><span class="kn">import</span> <span class="nn">asyncio</span>
<span class="kn">import</span> <span class="nn">json</span>
<span class="kn">import</span> <span class="nn">websockets</span>

<span class="k">async</span> <span class="k">def</span> <span class="nf">handle_websocket</span><span class="p">():</span>
    <span class="k">async</span> <span class="k">with</span> <span class="n">websockets</span><span class="p">.</span><span class="n">connect</span><span class="p">(</span><span class="s">"wss://stream.uzx.com/notification/ws"</span><span class="p">)</span> <span class="k">as</span> <span class="n">ws</span><span class="p">:</span>
        <span class="k">await</span> <span class="n">ws</span><span class="p">.</span><span class="n">send</span><span class="p">(</span><span class="n">json</span><span class="p">.</span><span class="n">dumps</span><span class="p">({</span>
            <span class="s">"event"</span><span class="p">:</span> <span class="s">"sub"</span><span class="p">,</span>
            <span class="s">"params"</span><span class="p">:</span> <span class="p">{</span>
                <span class="s">"biz"</span><span class="p">:</span> <span class="s">"market"</span><span class="p">,</span>
                <span class="s">"type"</span><span class="p">:</span> <span class="s">"spot.ticker"</span><span class="p">,</span>
                <span class="s">"symbol"</span><span class="p">:</span> <span class="s">"BTC-USDT"</span>
            <span class="p">},</span>
            <span class="s">"zip"</span><span class="p">:</span> <span class="bp">False</span>
        <span class="p">}))</span>

        <span class="k">while</span> <span class="bp">True</span><span class="p">:</span>
            <span class="n">msg</span> <span class="o">=</span> <span class="k">await</span> <span class="n">ws</span><span class="p">.</span><span class="n">recv</span><span class="p">()</span>
            <span class="n">data</span> <span class="o">=</span> <span class="n">json</span><span class="p">.</span><span class="n">loads</span><span class="p">(</span><span class="n">msg</span><span class="p">)</span>
            <span class="k">if</span> <span class="s">"ping"</span> <span class="ow">in</span> <span class="n">data</span><span class="p">:</span>
                <span class="k">await</span> <span class="n">ws</span><span class="p">.</span><span class="n">send</span><span class="p">(</span><span class="n">json</span><span class="p">.</span><span class="n">dumps</span><span class="p">({</span><span class="s">"pong"</span><span class="p">:</span> <span class="n">data</span><span class="p">[</span><span class="s">"ping"</span><span class="p">]}))</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="k">print</span><span class="p">(</span><span class="n">json</span><span class="p">.</span><span class="n">dumps</span><span class="p">(</span><span class="n">data</span><span class="p">,</span> <span class="n">indent</span><span class="o">=</span><span class="mi">2</span><span class="p">))</span>

<span class="n">asyncio</span><span class="p">.</span><span class="n">run</span><span class="p">(</span><span class="n">handle_websocket</span><span class="p">())</span>
</code></pre></div><div class="highlight"><pre class="highlight go tab-go"><code><span class="k">package</span> <span class="n">main</span>

<span class="k">import</span> <span class="p">(</span>
    <span class="s">"encoding/json"</span>
    <span class="s">"fmt"</span>
    <span class="s">"github.com/gorilla/websocket"</span>
    <span class="s">"log"</span>
    <span class="s">"net"</span>
    <span class="s">"net/http"</span>
    <span class="s">"time"</span>
<span class="p">)</span>

<span class="k">func</span> <span class="n">main</span><span class="p">()</span> <span class="p">{</span>
    <span class="n">url</span> <span class="o">:=</span> <span class="s">"wss://stream.uzx.com/notification/ws"</span>

    <span class="c">// Custom dialer configuration</span>
    <span class="n">dialer</span> <span class="o">:=</span> <span class="o">&amp;</span><span class="n">websocket</span><span class="o">.</span><span class="n">Dialer</span><span class="p">{</span>
        <span class="n">Proxy</span><span class="o">:</span> <span class="n">http</span><span class="o">.</span><span class="n">ProxyFromEnvironment</span><span class="p">,</span>
        <span class="n">NetDial</span><span class="o">:</span> <span class="k">func</span><span class="p">(</span><span class="n">network</span><span class="p">,</span> <span class="n">addr</span> <span class="kt">string</span><span class="p">)</span> <span class="p">(</span><span class="n">net</span><span class="o">.</span><span class="n">Conn</span><span class="p">,</span> <span class="kt">error</span><span class="p">)</span> <span class="p">{</span>
            <span class="c">// Force use of IPv4</span>
            <span class="k">return</span> <span class="n">net</span><span class="o">.</span><span class="n">Dial</span><span class="p">(</span><span class="s">"tcp4"</span><span class="p">,</span> <span class="n">addr</span><span class="p">)</span>
        <span class="p">},</span>
        <span class="n">HandshakeTimeout</span><span class="o">:</span> <span class="m">10</span> <span class="o">*</span> <span class="n">time</span><span class="o">.</span><span class="n">Second</span><span class="p">,</span>
    <span class="p">}</span>

    <span class="c">// Establish WebSocket connection</span>
    <span class="n">c</span><span class="p">,</span> <span class="n">_</span><span class="p">,</span> <span class="n">err</span> <span class="o">:=</span> <span class="n">dialer</span><span class="o">.</span><span class="n">Dial</span><span class="p">(</span><span class="n">url</span><span class="p">,</span> <span class="no">nil</span><span class="p">)</span>
    <span class="k">if</span> <span class="n">err</span> <span class="o">!=</span> <span class="no">nil</span> <span class="p">{</span>
        <span class="n">log</span><span class="o">.</span><span class="n">Fatal</span><span class="p">(</span><span class="s">"Connection failed:"</span><span class="p">,</span> <span class="n">err</span><span class="p">)</span>
    <span class="p">}</span>
    <span class="k">defer</span> <span class="n">c</span><span class="o">.</span><span class="n">Close</span><span class="p">()</span>

    <span class="c">// Subscribe to messages</span>
    <span class="n">subMsg</span> <span class="o">:=</span> <span class="k">map</span><span class="p">[</span><span class="kt">string</span><span class="p">]</span><span class="k">interface</span><span class="p">{}{</span>
        <span class="s">"event"</span><span class="o">:</span> <span class="s">"sub"</span><span class="p">,</span>
        <span class="s">"params"</span><span class="o">:</span> <span class="k">map</span><span class="p">[</span><span class="kt">string</span><span class="p">]</span><span class="k">interface</span><span class="p">{}{</span>
            <span class="s">"biz"</span><span class="o">:</span>      <span class="s">"market"</span><span class="p">,</span>
            <span class="s">"type"</span><span class="o">:</span>     <span class="s">"spot.ticker"</span><span class="p">,</span>
            <span class="s">"symbol"</span><span class="o">:</span>   <span class="s">"BTC-USDT"</span><span class="p">,</span>
        <span class="p">},</span>
        <span class="s">"zip"</span><span class="o">:</span> <span class="no">false</span><span class="p">,</span>
    <span class="p">}</span>
    <span class="n">err</span> <span class="o">=</span> <span class="n">c</span><span class="o">.</span><span class="n">WriteJSON</span><span class="p">(</span><span class="n">subMsg</span><span class="p">)</span>
    <span class="k">if</span> <span class="n">err</span> <span class="o">!=</span> <span class="no">nil</span> <span class="p">{</span>
        <span class="n">log</span><span class="o">.</span><span class="n">Fatal</span><span class="p">(</span><span class="s">"Failed to send subscription:"</span><span class="p">,</span> <span class="n">err</span><span class="p">)</span>
    <span class="p">}</span>
    <span class="n">fmt</span><span class="o">.</span><span class="n">Println</span><span class="p">(</span><span class="s">"Subscription request sent:"</span><span class="p">,</span> <span class="n">subMsg</span><span class="p">)</span>

    <span class="c">// Handle messages</span>
    <span class="k">for</span> <span class="p">{</span>
        <span class="n">_</span><span class="p">,</span> <span class="n">message</span><span class="p">,</span> <span class="n">err</span> <span class="o">:=</span> <span class="n">c</span><span class="o">.</span><span class="n">ReadMessage</span><span class="p">()</span>
        <span class="k">if</span> <span class="n">err</span> <span class="o">!=</span> <span class="no">nil</span> <span class="p">{</span>
            <span class="n">log</span><span class="o">.</span><span class="n">Println</span><span class="p">(</span><span class="s">"Error reading message:"</span><span class="p">,</span> <span class="n">err</span><span class="p">)</span>
            <span class="k">return</span>
        <span class="p">}</span>

        <span class="k">var</span> <span class="n">data</span> <span class="k">map</span><span class="p">[</span><span class="kt">string</span><span class="p">]</span><span class="k">interface</span><span class="p">{}</span>
        <span class="k">if</span> <span class="n">err</span> <span class="o">:=</span> <span class="n">json</span><span class="o">.</span><span class="n">Unmarshal</span><span class="p">(</span><span class="n">message</span><span class="p">,</span> <span class="o">&amp;</span><span class="n">data</span><span class="p">);</span> <span class="n">err</span> <span class="o">!=</span> <span class="no">nil</span> <span class="p">{</span>
            <span class="n">log</span><span class="o">.</span><span class="n">Println</span><span class="p">(</span><span class="s">"Failed to parse JSON:"</span><span class="p">,</span> <span class="n">err</span><span class="p">)</span>
            <span class="k">continue</span>
        <span class="p">}</span>

        <span class="c">// Handle ping message</span>
        <span class="k">if</span> <span class="n">ping</span><span class="p">,</span> <span class="n">ok</span> <span class="o">:=</span> <span class="n">data</span><span class="p">[</span><span class="s">"ping"</span><span class="p">]</span><span class="o">.</span><span class="p">(</span><span class="kt">float64</span><span class="p">);</span> <span class="n">ok</span> <span class="p">{</span>
            <span class="n">pong</span> <span class="o">:=</span> <span class="k">map</span><span class="p">[</span><span class="kt">string</span><span class="p">]</span><span class="k">interface</span><span class="p">{}{</span><span class="s">"pong"</span><span class="o">:</span> <span class="n">ping</span><span class="p">}</span>
            <span class="k">if</span> <span class="n">err</span> <span class="o">:=</span> <span class="n">c</span><span class="o">.</span><span class="n">WriteJSON</span><span class="p">(</span><span class="n">pong</span><span class="p">);</span> <span class="n">err</span> <span class="o">!=</span> <span class="no">nil</span> <span class="p">{</span>
                <span class="n">log</span><span class="o">.</span><span class="n">Println</span><span class="p">(</span><span class="s">"Failed to send pong:"</span><span class="p">,</span> <span class="n">err</span><span class="p">)</span>
                <span class="k">return</span>
            <span class="p">}</span>
            <span class="n">fmt</span><span class="o">.</span><span class="n">Println</span><span class="p">(</span><span class="s">"Pong response sent"</span><span class="p">)</span>
            <span class="k">continue</span>
        <span class="p">}</span>

        <span class="c">// Print other messages</span>
        <span class="n">pretty</span><span class="p">,</span> <span class="n">_</span> <span class="o">:=</span> <span class="n">json</span><span class="o">.</span><span class="n">MarshalIndent</span><span class="p">(</span><span class="n">data</span><span class="p">,</span> <span class="s">""</span><span class="p">,</span> <span class="s">"  "</span><span class="p">)</span>
        <span class="n">fmt</span><span class="o">.</span><span class="n">Printf</span><span class="p">(</span><span class="s">"</span><span class="se">\n</span><span class="s">Received message:</span><span class="se">\n</span><span class="s">%s</span><span class="se">\n</span><span class="s">"</span><span class="p">,</span> <span class="n">pretty</span><span class="p">)</span>
    <span class="p">}</span>
<span class="p">}</span>
</code></pre></div><div class="highlight"><pre class="highlight java tab-java"><code><span class="kn">import</span> <span class="nn">java.io.IOException</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">java.net.URI</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">java.net.http.HttpClient</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">java.net.http.WebSocket</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">java.nio.ByteBuffer</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">java.util.concurrent.CompletionStage</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">java.util.concurrent.CountDownLatch</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">java.util.concurrent.TimeUnit</span><span class="o">;</span>

<span class="kd">public</span> <span class="kd">class</span> <span class="nc">WebSocketClient</span> <span class="o">{</span>
    <span class="kd">private</span> <span class="kd">static</span> <span class="nc">CountDownLatch</span> <span class="n">latch</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">CountDownLatch</span><span class="o">(</span><span class="mi">1</span><span class="o">);</span>

    <span class="kd">public</span> <span class="kd">static</span> <span class="kt">void</span> <span class="nf">main</span><span class="o">(</span><span class="nc">String</span><span class="o">[]</span> <span class="n">args</span><span class="o">)</span> <span class="o">{</span>
        <span class="nc">HttpClient</span> <span class="n">client</span> <span class="o">=</span> <span class="nc">HttpClient</span><span class="o">.</span><span class="na">newHttpClient</span><span class="o">();</span>
        <span class="nc">String</span> <span class="n">uri</span> <span class="o">=</span> <span class="s">"wss://stream.uzx.com/notification/ws"</span><span class="o">;</span>

        <span class="nc">WebSocket</span> <span class="n">webSocket</span> <span class="o">=</span> <span class="n">client</span><span class="o">.</span><span class="na">newWebSocketBuilder</span><span class="o">()</span>
               <span class="o">.</span><span class="na">buildAsync</span><span class="o">(</span><span class="no">URI</span><span class="o">.</span><span class="na">create</span><span class="o">(</span><span class="n">uri</span><span class="o">),</span> <span class="k">new</span> <span class="nc">WebSocket</span><span class="o">.</span><span class="na">Listener</span><span class="o">()</span> <span class="o">{</span>
                    <span class="nd">@Override</span>
                    <span class="kd">public</span> <span class="kt">void</span> <span class="nf">onOpen</span><span class="o">(</span><span class="nc">WebSocket</span> <span class="n">webSocket</span><span class="o">)</span> <span class="o">{</span>
                        <span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">"Connection established"</span><span class="o">);</span>
                        <span class="c1">// Send subscription message</span>
                        <span class="nc">String</span> <span class="n">subscribeMsg</span> <span class="o">=</span> <span class="s">"{\"event\":\"sub\",\"params\":{\"biz\":\"market\",\"type\":\"spot.ticker\",\"symbol\":\"BTC-USDT\"},\"zip\":false}"</span><span class="o">;</span>
                        <span class="n">webSocket</span><span class="o">.</span><span class="na">sendText</span><span class="o">(</span><span class="n">subscribeMsg</span><span class="o">,</span> <span class="kc">true</span><span class="o">);</span>
                        <span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">"Subscription request sent: "</span> <span class="o">+</span> <span class="n">subscribeMsg</span><span class="o">);</span>
                        <span class="nc">WebSocket</span><span class="o">.</span><span class="na">Listener</span><span class="o">.</span><span class="na">super</span><span class="o">.</span><span class="na">onOpen</span><span class="o">(</span><span class="n">webSocket</span><span class="o">);</span>
                    <span class="o">}</span>

                    <span class="nd">@Override</span>
                    <span class="kd">public</span> <span class="nc">CompletionStage</span><span class="o">&lt;?&gt;</span> <span class="n">onText</span><span class="o">(</span><span class="nc">WebSocket</span> <span class="n">webSocket</span><span class="o">,</span> <span class="nc">CharSequence</span> <span class="n">data</span><span class="o">,</span> <span class="kt">boolean</span> <span class="n">last</span><span class="o">)</span> <span class="o">{</span>
                        <span class="nc">String</span> <span class="n">message</span> <span class="o">=</span> <span class="n">data</span><span class="o">.</span><span class="na">toString</span><span class="o">();</span>
                        <span class="k">try</span> <span class="o">{</span>
                            <span class="c1">// Handle ping message</span>
                            <span class="k">if</span> <span class="o">(</span><span class="n">message</span><span class="o">.</span><span class="na">contains</span><span class="o">(</span><span class="s">"\"ping\""</span><span class="o">))</span> <span class="o">{</span>
                                <span class="nc">String</span> <span class="n">pongMsg</span> <span class="o">=</span> <span class="n">message</span><span class="o">.</span><span class="na">replace</span><span class="o">(</span><span class="s">"\"ping\""</span><span class="o">,</span> <span class="s">"\"pong\""</span><span class="o">);</span>
                                <span class="n">webSocket</span><span class="o">.</span><span class="na">sendText</span><span class="o">(</span><span class="n">pongMsg</span><span class="o">,</span> <span class="kc">true</span><span class="o">);</span>
                                <span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">"Pong response sent"</span><span class="o">);</span>
                            <span class="o">}</span> <span class="k">else</span> <span class="o">{</span>
                                <span class="c1">// Print other messages</span>
                                <span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">"\nReceived message:"</span><span class="o">);</span>
                                <span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="n">message</span><span class="o">);</span>
                            <span class="o">}</span>
                        <span class="o">}</span> <span class="k">catch</span> <span class="o">(</span><span class="nc">Exception</span> <span class="n">e</span><span class="o">)</span> <span class="o">{</span>
                            <span class="n">e</span><span class="o">.</span><span class="na">printStackTrace</span><span class="o">();</span>
                        <span class="o">}</span>
                        <span class="k">return</span> <span class="nc">WebSocket</span><span class="o">.</span><span class="na">Listener</span><span class="o">.</span><span class="na">super</span><span class="o">.</span><span class="na">onText</span><span class="o">(</span><span class="n">webSocket</span><span class="o">,</span> <span class="n">data</span><span class="o">,</span> <span class="n">last</span><span class="o">);</span>
                    <span class="o">}</span>

                    <span class="nd">@Override</span>
                    <span class="kd">public</span> <span class="nc">CompletionStage</span><span class="o">&lt;?&gt;</span> <span class="n">onClose</span><span class="o">(</span><span class="nc">WebSocket</span> <span class="n">webSocket</span><span class="o">,</span> <span class="kt">int</span> <span class="n">statusCode</span><span class="o">,</span> <span class="nc">String</span> <span class="n">reason</span><span class="o">)</span> <span class="o">{</span>
                        <span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">"Connection closed: status code "</span> <span class="o">+</span> <span class="n">statusCode</span> <span class="o">+</span> <span class="s">", reason: "</span> <span class="o">+</span> <span class="n">reason</span><span class="o">);</span>
                        <span class="n">latch</span><span class="o">.</span><span class="na">countDown</span><span class="o">();</span>
                        <span class="k">return</span> <span class="nc">WebSocket</span><span class="o">.</span><span class="na">Listener</span><span class="o">.</span><span class="na">super</span><span class="o">.</span><span class="na">onClose</span><span class="o">(</span><span class="n">webSocket</span><span class="o">,</span> <span class="n">statusCode</span><span class="o">,</span> <span class="n">reason</span><span class="o">);</span>
                    <span class="o">}</span>

                    <span class="nd">@Override</span>
                    <span class="kd">public</span> <span class="kt">void</span> <span class="nf">onError</span><span class="o">(</span><span class="nc">WebSocket</span> <span class="n">webSocket</span><span class="o">,</span> <span class="nc">Throwable</span> <span class="n">error</span><span class="o">)</span> <span class="o">{</span>
                        <span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">"Error occurred:"</span><span class="o">);</span>
                        <span class="n">error</span><span class="o">.</span><span class="na">printStackTrace</span><span class="o">();</span>
                        <span class="n">latch</span><span class="o">.</span><span class="na">countDown</span><span class="o">();</span>
                    <span class="o">}</span>
                <span class="o">}).</span><span class="na">join</span><span class="o">();</span>

        <span class="k">try</span> <span class="o">{</span>
            <span class="c1">// Keep the connection alive</span>
            <span class="n">latch</span><span class="o">.</span><span class="na">await</span><span class="o">(</span><span class="mi">1</span><span class="o">,</span> <span class="nc">TimeUnit</span><span class="o">.</span><span class="na">HOURS</span><span class="o">);</span>
        <span class="o">}</span> <span class="k">catch</span> <span class="o">(</span><span class="nc">InterruptedException</span> <span class="n">e</span><span class="o">)</span> <span class="o">{</span>
            <span class="n">e</span><span class="o">.</span><span class="na">printStackTrace</span><span class="o">();</span>
            <span class="nc">Thread</span><span class="o">.</span><span class="na">currentThread</span><span class="o">().</span><span class="na">interrupt</span><span class="o">();</span>
        <span class="o">}</span>
    <span class="o">}</span>
<span class="o">}</span>
</code></pre></div>
<table><thead>
<tr>
<th style="text-align: left">Parameter Name</th>
<th style="text-align: left">Required</th>
<th style="text-align: left">Type</th>
<th style="text-align: left">Description</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left">event</td>
<td style="text-align: left">Yes</td>
<td style="text-align: left">String</td>
<td style="text-align: left">Operation (<code>sub</code>)</td>
</tr>
<tr>
<td style="text-align: left">params</td>
<td style="text-align: left">Yes</td>
<td style="text-align: left">Object</td>
<td style="text-align: left">Subscription parameter information</td>
</tr>
<tr>
<td style="text-align: left">&gt; biz</td>
<td style="text-align: left">Yes</td>
<td style="text-align: left">String</td>
<td style="text-align: left">Type,  <code>market</code></td>
</tr>
<tr>
<td style="text-align: left">&gt; type</td>
<td style="text-align: left">Yes</td>
<td style="text-align: left">String</td>
<td style="text-align: left">Channel name</td>
</tr>
<tr>
<td style="text-align: left">&gt; symbol</td>
<td style="text-align: left">Yes</td>
<td style="text-align: left">String</td>
<td style="text-align: left">Product Name (currency pair)</td>
</tr>
<tr>
<td style="text-align: left">zip</td>
<td style="text-align: left">Yes</td>
<td style="text-align: left">Boolean</td>
<td style="text-align: left">Whether to enable gzip</td>
</tr>
</tbody></table>
<h4 id='a222a51efb66'>Response Parameters</h4>
<blockquote>
<p>Response Example</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"id"</span><span class="p">:</span><span class="s2">""</span><span class="p">,</span><span class="w">
  </span><span class="nl">"event"</span><span class="p">:</span><span class="s2">"subscribe"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"topic"</span><span class="p">:</span><span class="s2">"spot.BTC-USDT.ticker"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"status"</span><span class="p">:</span><span class="s2">"ok"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<table><thead>
<tr>
<th style="text-align: left">Parameter Name</th>
<th style="text-align: left">Type</th>
<th style="text-align: left">Description</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left">id</td>
<td style="text-align: left">String</td>
<td style="text-align: left">Ignore this field</td>
</tr>
<tr>
<td style="text-align: left">event</td>
<td style="text-align: left">String</td>
<td style="text-align: left">Event type</td>
</tr>
<tr>
<td style="text-align: left">topic</td>
<td style="text-align: left">String</td>
<td style="text-align: left">Topic name</td>
</tr>
<tr>
<td style="text-align: left">status</td>
<td style="text-align: left">String</td>
<td style="text-align: left">Status code</td>
</tr>
</tbody></table>
<h4 id='5efa6fabldb5'>FEED Parameter Description</h4>
<blockquote>
<p>FEED Example</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"type"</span><span class="p">:</span><span class="s2">"spot.BTC-USDT.ticker"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"product_name"</span><span class="p">:</span><span class="s2">"BTC-USDT"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"interval"</span><span class="p">:</span><span class="s2">""</span><span class="p">,</span><span class="w">
  </span><span class="nl">"data"</span><span class="p">:{</span><span class="w">
    </span><span class="nl">"open"</span><span class="p">:</span><span class="s2">"107667.04"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"close"</span><span class="p">:</span><span class="s2">"106786.74"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"high"</span><span class="p">:</span><span class="s2">"107964.34"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"low"</span><span class="p">:</span><span class="s2">"106615.96"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"vol"</span><span class="p">:</span><span class="s2">"3538.46454"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"turn_over"</span><span class="p">:</span><span class="s2">"379681486.5679235"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"ask_price"</span><span class="p">:</span><span class="s2">"106786.74"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"ask_vol"</span><span class="p">:</span><span class="s2">"3.18435"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"bid_price"</span><span class="p">:</span><span class="s2">"106786.72"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"bid_vol"</span><span class="p">:</span><span class="s2">"0.00034"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"change"</span><span class="p">:</span><span class="s2">"-359.76"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"change_percent"</span><span class="p">:</span><span class="s2">"-0.0033576458400414385910879030112976159"</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<table><thead>
<tr>
<th style="text-align: left">Parameter Name</th>
<th style="text-align: left">Type</th>
<th style="text-align: left">Description</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left">data</td>
<td style="text-align: left">Object</td>
<td style="text-align: left">Returned data</td>
</tr>
<tr>
<td style="text-align: left">&gt; ask_price</td>
<td style="text-align: left">String</td>
<td style="text-align: left">Ask price</td>
</tr>
<tr>
<td style="text-align: left">&gt; ask_vol</td>
<td style="text-align: left">String</td>
<td style="text-align: left">Ask volume</td>
</tr>
<tr>
<td style="text-align: left">&gt; bid_price</td>
<td style="text-align: left">String</td>
<td style="text-align: left">Bid price</td>
</tr>
<tr>
<td style="text-align: left">&gt; bid_vol</td>
<td style="text-align: left">String</td>
<td style="text-align: left">Bid volume</td>
</tr>
<tr>
<td style="text-align: left">&gt; change</td>
<td style="text-align: left">String</td>
<td style="text-align: left">Price change</td>
</tr>
<tr>
<td style="text-align: left">&gt; change_percent</td>
<td style="text-align: left">String</td>
<td style="text-align: left">Price change percentage</td>
</tr>
<tr>
<td style="text-align: left">&gt; close</td>
<td style="text-align: left">String</td>
<td style="text-align: left">Latest price</td>
</tr>
<tr>
<td style="text-align: left">&gt; high</td>
<td style="text-align: left">String</td>
<td style="text-align: left">Highest price</td>
</tr>
<tr>
<td style="text-align: left">&gt; low</td>
<td style="text-align: left">String</td>
<td style="text-align: left">Lowest price</td>
</tr>
<tr>
<td style="text-align: left">&gt; open</td>
<td style="text-align: left">String</td>
<td style="text-align: left">Opening price</td>
</tr>
<tr>
<td style="text-align: left">&gt; turn_over</td>
<td style="text-align: left">String</td>
<td style="text-align: left">Total trade amount</td>
</tr>
<tr>
<td style="text-align: left">&gt; vol</td>
<td style="text-align: left">String</td>
<td style="text-align: left">Trade volume in the quoted currency</td>
</tr>
<tr>
<td style="text-align: left">product_name</td>
<td style="text-align: left">String</td>
<td style="text-align: left">Currency pair</td>
</tr>
<tr>
<td style="text-align: left">seq_id</td>
<td style="text-align: left">Int</td>
<td style="text-align: left">Message sequence number</td>
</tr>
<tr>
<td style="text-align: left">type</td>
<td style="text-align: left">String</td>
<td style="text-align: left">Channel name</td>
</tr>
</tbody></table>
<h2 id='b11c93e8qwzy'>Private Subscriptions</h2>
<p><code>/notification/pri/ws</code></p>
<h3 id='5d8d9af48hj7'>API Login</h3><h4 id='a29a96552kp0'>Rate Limit: 1 time/1 second (for single account login)</h4><h4 id='22da1a05lis8'>Request Parameters</h4>
<blockquote>
<p>Request Example</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
   </span><span class="nl">"event"</span><span class="p">:</span><span class="s2">"login"</span><span class="p">,</span><span class="w">
   </span><span class="nl">"params"</span><span class="p">:{</span><span class="w">
      </span><span class="nl">"type"</span><span class="p">:</span><span class="s2">"api"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"api_key"</span><span class="p">:</span><span class="w"> </span><span class="s2">"c881dd80201e4a1c8e2d0c25560cb871"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"api_timestamp"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1751371162"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"api_sign"</span><span class="p">:</span><span class="w"> </span><span class="s2">"XvyvQW+H4fPgLcoC7AOJ6v4sJE2T5ajnM/NpQdtFzrE="</span><span class="p">,</span><span class="w">
      </span><span class="nl">"api_passphrase"</span><span class="p">:</span><span class="w"> </span><span class="s2">"123.comA!"</span><span class="w">
   </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div><div class="highlight"><pre class="highlight python tab-python"><code><span class="kn">import</span> <span class="nn">asyncio</span>
<span class="kn">import</span> <span class="nn">json</span>
<span class="kn">import</span> <span class="nn">websockets</span>

<span class="k">async</span> <span class="k">def</span> <span class="nf">handle_websocket</span><span class="p">():</span>
    <span class="k">async</span> <span class="k">with</span> <span class="n">websockets</span><span class="p">.</span><span class="n">connect</span><span class="p">(</span><span class="s">"wss://stream.uzx.com/pri/notification/ws"</span><span class="p">)</span> <span class="k">as</span> <span class="n">ws</span><span class="p">:</span>
        <span class="k">await</span> <span class="n">ws</span><span class="p">.</span><span class="n">send</span><span class="p">(</span><span class="n">json</span><span class="p">.</span><span class="n">dumps</span><span class="p">({</span>
          <span class="s">"event"</span><span class="p">:</span><span class="s">"login"</span><span class="p">,</span>
          <span class="s">"params"</span><span class="p">:{</span>
            <span class="s">"type"</span><span class="p">:</span><span class="s">"api"</span><span class="p">,</span>
            <span class="s">"api_key"</span><span class="p">:</span> <span class="s">"c881dd80201e4a1c8e2d0c25560cb871"</span><span class="p">,</span>
            <span class="s">"api_timestamp"</span><span class="p">:</span> <span class="s">"1751371162"</span><span class="p">,</span>
            <span class="s">"api_sign"</span><span class="p">:</span> <span class="s">"XvyvQW+H4fPgLcoC7AOJ6v4sJE2T5ajnM/NpQdtFzrE="</span><span class="p">,</span>
            <span class="s">"api_passphrase"</span><span class="p">:</span> <span class="s">"123.comA!"</span>
          <span class="p">}</span>
        <span class="p">}))</span>

        <span class="k">while</span> <span class="bp">True</span><span class="p">:</span>
            <span class="n">msg</span> <span class="o">=</span> <span class="k">await</span> <span class="n">ws</span><span class="p">.</span><span class="n">recv</span><span class="p">()</span>
            <span class="n">data</span> <span class="o">=</span> <span class="n">json</span><span class="p">.</span><span class="n">loads</span><span class="p">(</span><span class="n">msg</span><span class="p">)</span>
            <span class="k">if</span> <span class="s">"ping"</span> <span class="ow">in</span> <span class="n">data</span><span class="p">:</span>
                <span class="k">await</span> <span class="n">ws</span><span class="p">.</span><span class="n">send</span><span class="p">(</span><span class="n">json</span><span class="p">.</span><span class="n">dumps</span><span class="p">({</span><span class="s">"pong"</span><span class="p">:</span> <span class="n">data</span><span class="p">[</span><span class="s">"ping"</span><span class="p">]}))</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="k">print</span><span class="p">(</span><span class="n">json</span><span class="p">.</span><span class="n">dumps</span><span class="p">(</span><span class="n">data</span><span class="p">,</span> <span class="n">indent</span><span class="o">=</span><span class="mi">2</span><span class="p">))</span>

<span class="n">asyncio</span><span class="p">.</span><span class="n">run</span><span class="p">(</span><span class="n">handle_websocket</span><span class="p">())</span>
</code></pre></div><div class="highlight"><pre class="highlight go tab-go"><code><span class="k">package</span> <span class="n">main</span>

<span class="k">import</span> <span class="p">(</span>
    <span class="s">"encoding/json"</span>
    <span class="s">"fmt"</span>
    <span class="s">"github.com/gorilla/websocket"</span>
    <span class="s">"log"</span>
    <span class="s">"net"</span>
    <span class="s">"net/http"</span>
    <span class="s">"time"</span>
<span class="p">)</span>

<span class="k">func</span> <span class="n">main</span><span class="p">()</span> <span class="p">{</span>
    <span class="n">url</span> <span class="o">:=</span> <span class="s">"wss://stream.uzx.com/notification/pri/ws"</span>

    <span class="c">// Custom dialer configuration</span>
    <span class="n">dialer</span> <span class="o">:=</span> <span class="o">&amp;</span><span class="n">websocket</span><span class="o">.</span><span class="n">Dialer</span><span class="p">{</span>
        <span class="n">Proxy</span><span class="o">:</span> <span class="n">http</span><span class="o">.</span><span class="n">ProxyFromEnvironment</span><span class="p">,</span>
        <span class="n">NetDial</span><span class="o">:</span> <span class="k">func</span><span class="p">(</span><span class="n">network</span><span class="p">,</span> <span class="n">addr</span> <span class="kt">string</span><span class="p">)</span> <span class="p">(</span><span class="n">net</span><span class="o">.</span><span class="n">Conn</span><span class="p">,</span> <span class="kt">error</span><span class="p">)</span> <span class="p">{</span>
            <span class="c">// Force use of IPv4</span>
            <span class="k">return</span> <span class="n">net</span><span class="o">.</span><span class="n">Dial</span><span class="p">(</span><span class="s">"tcp4"</span><span class="p">,</span> <span class="n">addr</span><span class="p">)</span>
        <span class="p">},</span>
        <span class="n">HandshakeTimeout</span><span class="o">:</span> <span class="m">10</span> <span class="o">*</span> <span class="n">time</span><span class="o">.</span><span class="n">Second</span><span class="p">,</span>
    <span class="p">}</span>

    <span class="c">// Establish WebSocket connection</span>
    <span class="n">c</span><span class="p">,</span> <span class="n">_</span><span class="p">,</span> <span class="n">err</span> <span class="o">:=</span> <span class="n">dialer</span><span class="o">.</span><span class="n">Dial</span><span class="p">(</span><span class="n">url</span><span class="p">,</span> <span class="no">nil</span><span class="p">)</span>
    <span class="k">if</span> <span class="n">err</span> <span class="o">!=</span> <span class="no">nil</span> <span class="p">{</span>
        <span class="n">log</span><span class="o">.</span><span class="n">Fatal</span><span class="p">(</span><span class="s">"Connection failed:"</span><span class="p">,</span> <span class="n">err</span><span class="p">)</span>
    <span class="p">}</span>
    <span class="k">defer</span> <span class="n">c</span><span class="o">.</span><span class="n">Close</span><span class="p">()</span>

    <span class="c">// Subscribe to messages</span>
    <span class="n">subMsg</span> <span class="o">:=</span> <span class="k">map</span><span class="p">[</span><span class="kt">string</span><span class="p">]</span><span class="k">interface</span><span class="p">{}{</span>
        <span class="s">"event"</span><span class="o">:</span> <span class="s">"login"</span><span class="p">,</span>
        <span class="s">"params"</span><span class="o">:</span> <span class="k">map</span><span class="p">[</span><span class="kt">string</span><span class="p">]</span><span class="k">interface</span><span class="p">{}{</span>
            <span class="s">"type"</span><span class="o">:</span><span class="s">"api"</span><span class="p">,</span>
            <span class="s">"api_key"</span><span class="o">:</span> <span class="s">"c881dd80201e4a1c8e2d0c25560cb871"</span><span class="p">,</span>
            <span class="s">"api_timestamp"</span><span class="o">:</span> <span class="s">"1751371162"</span><span class="p">,</span>
            <span class="s">"api_sign"</span><span class="o">:</span> <span class="s">"XvyvQW+H4fPgLcoC7AOJ6v4sJE2T5ajnM/NpQdtFzrE="</span><span class="p">,</span>
            <span class="s">"api_passphrase"</span><span class="o">:</span> <span class="s">"123.comA!"</span><span class="p">,</span>
        <span class="p">},</span>
    <span class="p">}</span>
    <span class="n">err</span> <span class="o">=</span> <span class="n">c</span><span class="o">.</span><span class="n">WriteJSON</span><span class="p">(</span><span class="n">subMsg</span><span class="p">)</span>
    <span class="k">if</span> <span class="n">err</span> <span class="o">!=</span> <span class="no">nil</span> <span class="p">{</span>
        <span class="n">log</span><span class="o">.</span><span class="n">Fatal</span><span class="p">(</span><span class="s">"Failed to send subscription:"</span><span class="p">,</span> <span class="n">err</span><span class="p">)</span>
    <span class="p">}</span>
    <span class="n">fmt</span><span class="o">.</span><span class="n">Println</span><span class="p">(</span><span class="s">"Subscription request sent:"</span><span class="p">,</span> <span class="n">subMsg</span><span class="p">)</span>

    <span class="c">// Handle messages</span>
    <span class="k">for</span> <span class="p">{</span>
        <span class="n">_</span><span class="p">,</span> <span class="n">message</span><span class="p">,</span> <span class="n">err</span> <span class="o">:=</span> <span class="n">c</span><span class="o">.</span><span class="n">ReadMessage</span><span class="p">()</span>
        <span class="k">if</span> <span class="n">err</span> <span class="o">!=</span> <span class="no">nil</span> <span class="p">{</span>
            <span class="n">log</span><span class="o">.</span><span class="n">Println</span><span class="p">(</span><span class="s">"Error reading message:"</span><span class="p">,</span> <span class="n">err</span><span class="p">)</span>
            <span class="k">return</span>
        <span class="p">}</span>

        <span class="k">var</span> <span class="n">data</span> <span class="k">map</span><span class="p">[</span><span class="kt">string</span><span class="p">]</span><span class="k">interface</span><span class="p">{}</span>
        <span class="k">if</span> <span class="n">err</span> <span class="o">:=</span> <span class="n">json</span><span class="o">.</span><span class="n">Unmarshal</span><span class="p">(</span><span class="n">message</span><span class="p">,</span> <span class="o">&amp;</span><span class="n">data</span><span class="p">);</span> <span class="n">err</span> <span class="o">!=</span> <span class="no">nil</span> <span class="p">{</span>
            <span class="n">log</span><span class="o">.</span><span class="n">Println</span><span class="p">(</span><span class="s">"Failed to parse JSON:"</span><span class="p">,</span> <span class="n">err</span><span class="p">)</span>
            <span class="k">continue</span>
        <span class="p">}</span>

        <span class="c">// Handle ping message</span>
        <span class="k">if</span> <span class="n">ping</span><span class="p">,</span> <span class="n">ok</span> <span class="o">:=</span> <span class="n">data</span><span class="p">[</span><span class="s">"ping"</span><span class="p">]</span><span class="o">.</span><span class="p">(</span><span class="kt">float64</span><span class="p">);</span> <span class="n">ok</span> <span class="p">{</span>
            <span class="n">pong</span> <span class="o">:=</span> <span class="k">map</span><span class="p">[</span><span class="kt">string</span><span class="p">]</span><span class="k">interface</span><span class="p">{}{</span><span class="s">"pong"</span><span class="o">:</span> <span class="n">ping</span><span class="p">}</span>
            <span class="k">if</span> <span class="n">err</span> <span class="o">:=</span> <span class="n">c</span><span class="o">.</span><span class="n">WriteJSON</span><span class="p">(</span><span class="n">pong</span><span class="p">);</span> <span class="n">err</span> <span class="o">!=</span> <span class="no">nil</span> <span class="p">{</span>
                <span class="n">log</span><span class="o">.</span><span class="n">Println</span><span class="p">(</span><span class="s">"Failed to send pong:"</span><span class="p">,</span> <span class="n">err</span><span class="p">)</span>
                <span class="k">return</span>
            <span class="p">}</span>
            <span class="n">fmt</span><span class="o">.</span><span class="n">Println</span><span class="p">(</span><span class="s">"Pong response sent"</span><span class="p">)</span>
            <span class="k">continue</span>
        <span class="p">}</span>

        <span class="c">// Print other messages</span>
        <span class="n">pretty</span><span class="p">,</span> <span class="n">_</span> <span class="o">:=</span> <span class="n">json</span><span class="o">.</span><span class="n">MarshalIndent</span><span class="p">(</span><span class="n">data</span><span class="p">,</span> <span class="s">""</span><span class="p">,</span> <span class="s">"  "</span><span class="p">)</span>
        <span class="n">fmt</span><span class="o">.</span><span class="n">Printf</span><span class="p">(</span><span class="s">"</span><span class="se">\n</span><span class="s">Received message:</span><span class="se">\n</span><span class="s">%s</span><span class="se">\n</span><span class="s">"</span><span class="p">,</span> <span class="n">pretty</span><span class="p">)</span>
    <span class="p">}</span>
<span class="p">}</span>
</code></pre></div><div class="highlight"><pre class="highlight java tab-java"><code><span class="kn">import</span> <span class="nn">java.io.IOException</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">java.net.URI</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">java.net.http.HttpClient</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">java.net.http.WebSocket</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">java.nio.ByteBuffer</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">java.util.concurrent.CompletionStage</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">java.util.concurrent.CountDownLatch</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">java.util.concurrent.TimeUnit</span><span class="o">;</span>

<span class="kd">public</span> <span class="kd">class</span> <span class="nc">WebSocketClient</span> <span class="o">{</span>
    <span class="kd">private</span> <span class="kd">static</span> <span class="nc">CountDownLatch</span> <span class="n">latch</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">CountDownLatch</span><span class="o">(</span><span class="mi">1</span><span class="o">);</span>

    <span class="kd">public</span> <span class="kd">static</span> <span class="kt">void</span> <span class="nf">main</span><span class="o">(</span><span class="nc">String</span><span class="o">[]</span> <span class="n">args</span><span class="o">)</span> <span class="o">{</span>
        <span class="nc">HttpClient</span> <span class="n">client</span> <span class="o">=</span> <span class="nc">HttpClient</span><span class="o">.</span><span class="na">newHttpClient</span><span class="o">();</span>
        <span class="nc">String</span> <span class="n">uri</span> <span class="o">=</span> <span class="s">"wss://stream.uzx.com/notification/pri/ws"</span><span class="o">;</span>

        <span class="nc">WebSocket</span> <span class="n">webSocket</span> <span class="o">=</span> <span class="n">client</span><span class="o">.</span><span class="na">newWebSocketBuilder</span><span class="o">()</span>
               <span class="o">.</span><span class="na">buildAsync</span><span class="o">(</span><span class="no">URI</span><span class="o">.</span><span class="na">create</span><span class="o">(</span><span class="n">uri</span><span class="o">),</span> <span class="k">new</span> <span class="nc">WebSocket</span><span class="o">.</span><span class="na">Listener</span><span class="o">()</span> <span class="o">{</span>
                    <span class="nd">@Override</span>
                    <span class="kd">public</span> <span class="kt">void</span> <span class="nf">onOpen</span><span class="o">(</span><span class="nc">WebSocket</span> <span class="n">webSocket</span><span class="o">)</span> <span class="o">{</span>
                        <span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">"Connection established"</span><span class="o">);</span>
                        <span class="c1">// Send subscription message</span>
                        <span class="nc">String</span> <span class="n">subscribeMsg</span> <span class="o">=</span> <span class="s">"{\"event\":\"login\",\"params\":{\"type\":\"api\",\"api_key\":\"c881dd80201e4a1c8e2d0c25560cb871\",\"api_timestamp\":\"1751371162\",\"api_sign\":\"XvyvQW+H4fPgLcoC7AOJ6v4sJE2T5ajnM/NpQdtFzrE=\",\"api_passphrase\":\"123.comA!\"}}"</span><span class="o">;</span>

                        <span class="n">webSocket</span><span class="o">.</span><span class="na">sendText</span><span class="o">(</span><span class="n">subscribeMsg</span><span class="o">,</span> <span class="kc">true</span><span class="o">);</span>
                        <span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">"Subscription request sent: "</span> <span class="o">+</span> <span class="n">subscribeMsg</span><span class="o">);</span>
                        <span class="nc">WebSocket</span><span class="o">.</span><span class="na">Listener</span><span class="o">.</span><span class="na">super</span><span class="o">.</span><span class="na">onOpen</span><span class="o">(</span><span class="n">webSocket</span><span class="o">);</span>
                    <span class="o">}</span>

                    <span class="nd">@Override</span>
                    <span class="kd">public</span> <span class="nc">CompletionStage</span><span class="o">&lt;?&gt;</span> <span class="n">onText</span><span class="o">(</span><span class="nc">WebSocket</span> <span class="n">webSocket</span><span class="o">,</span> <span class="nc">CharSequence</span> <span class="n">data</span><span class="o">,</span> <span class="kt">boolean</span> <span class="n">last</span><span class="o">)</span> <span class="o">{</span>
                        <span class="nc">String</span> <span class="n">message</span> <span class="o">=</span> <span class="n">data</span><span class="o">.</span><span class="na">toString</span><span class="o">();</span>
                        <span class="k">try</span> <span class="o">{</span>
                            <span class="c1">// Handle ping message</span>
                            <span class="k">if</span> <span class="o">(</span><span class="n">message</span><span class="o">.</span><span class="na">contains</span><span class="o">(</span><span class="s">"\"ping\""</span><span class="o">))</span> <span class="o">{</span>
                                <span class="nc">String</span> <span class="n">pongMsg</span> <span class="o">=</span> <span class="n">message</span><span class="o">.</span><span class="na">replace</span><span class="o">(</span><span class="s">"\"ping\""</span><span class="o">,</span> <span class="s">"\"pong\""</span><span class="o">);</span>
                                <span class="n">webSocket</span><span class="o">.</span><span class="na">sendText</span><span class="o">(</span><span class="n">pongMsg</span><span class="o">,</span> <span class="kc">true</span><span class="o">);</span>
                                <span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">"Pong response sent"</span><span class="o">);</span>
                            <span class="o">}</span> <span class="k">else</span> <span class="o">{</span>
                                <span class="c1">// Print other messages</span>
                                <span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">"\nReceived message:"</span><span class="o">);</span>
                                <span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="n">message</span><span class="o">);</span>
                            <span class="o">}</span>
                        <span class="o">}</span> <span class="k">catch</span> <span class="o">(</span><span class="nc">Exception</span> <span class="n">e</span><span class="o">)</span> <span class="o">{</span>
                            <span class="n">e</span><span class="o">.</span><span class="na">printStackTrace</span><span class="o">();</span>
                        <span class="o">}</span>
                        <span class="k">return</span> <span class="nc">WebSocket</span><span class="o">.</span><span class="na">Listener</span><span class="o">.</span><span class="na">super</span><span class="o">.</span><span class="na">onText</span><span class="o">(</span><span class="n">webSocket</span><span class="o">,</span> <span class="n">data</span><span class="o">,</span> <span class="n">last</span><span class="o">);</span>
                    <span class="o">}</span>

                    <span class="nd">@Override</span>
                    <span class="kd">public</span> <span class="nc">CompletionStage</span><span class="o">&lt;?&gt;</span> <span class="n">onClose</span><span class="o">(</span><span class="nc">WebSocket</span> <span class="n">webSocket</span><span class="o">,</span> <span class="kt">int</span> <span class="n">statusCode</span><span class="o">,</span> <span class="nc">String</span> <span class="n">reason</span><span class="o">)</span> <span class="o">{</span>
                        <span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">"Connection closed: status code "</span> <span class="o">+</span> <span class="n">statusCode</span> <span class="o">+</span> <span class="s">", reason: "</span> <span class="o">+</span> <span class="n">reason</span><span class="o">);</span>
                        <span class="n">latch</span><span class="o">.</span><span class="na">countDown</span><span class="o">();</span>
                        <span class="k">return</span> <span class="nc">WebSocket</span><span class="o">.</span><span class="na">Listener</span><span class="o">.</span><span class="na">super</span><span class="o">.</span><span class="na">onClose</span><span class="o">(</span><span class="n">webSocket</span><span class="o">,</span> <span class="n">statusCode</span><span class="o">,</span> <span class="n">reason</span><span class="o">);</span>
                    <span class="o">}</span>

                    <span class="nd">@Override</span>
                    <span class="kd">public</span> <span class="kt">void</span> <span class="nf">onError</span><span class="o">(</span><span class="nc">WebSocket</span> <span class="n">webSocket</span><span class="o">,</span> <span class="nc">Throwable</span> <span class="n">error</span><span class="o">)</span> <span class="o">{</span>
                        <span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">"Error occurred:"</span><span class="o">);</span>
                        <span class="n">error</span><span class="o">.</span><span class="na">printStackTrace</span><span class="o">();</span>
                        <span class="n">latch</span><span class="o">.</span><span class="na">countDown</span><span class="o">();</span>
                    <span class="o">}</span>
                <span class="o">}).</span><span class="na">join</span><span class="o">();</span>

        <span class="k">try</span> <span class="o">{</span>
            <span class="c1">// Keep the connection alive</span>
            <span class="n">latch</span><span class="o">.</span><span class="na">await</span><span class="o">(</span><span class="mi">1</span><span class="o">,</span> <span class="nc">TimeUnit</span><span class="o">.</span><span class="na">HOURS</span><span class="o">);</span>
        <span class="o">}</span> <span class="k">catch</span> <span class="o">(</span><span class="nc">InterruptedException</span> <span class="n">e</span><span class="o">)</span> <span class="o">{</span>
            <span class="n">e</span><span class="o">.</span><span class="na">printStackTrace</span><span class="o">();</span>
            <span class="nc">Thread</span><span class="o">.</span><span class="na">currentThread</span><span class="o">().</span><span class="na">interrupt</span><span class="o">();</span>
        <span class="o">}</span>
    <span class="o">}</span>
<span class="o">}</span>
</code></pre></div>
<table><thead>
<tr>
<th>Parameter</th>
<th>Required</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>event</td>
<td>Yes</td>
<td>String</td>
<td>Operation type (<code>login</code>)</td>
</tr>
<tr>
<td>params</td>
<td>Yes</td>
<td>Object</td>
<td>Login information</td>
</tr>
<tr>
<td>&gt; type</td>
<td>Yes</td>
<td>String</td>
<td>Login type (<code>api</code>)</td>
</tr>
<tr>
<td>&gt; api_key</td>
<td>Yes</td>
<td>String</td>
<td>API Key</td>
</tr>
<tr>
<td>&gt; api_timestamp</td>
<td>Yes</td>
<td>String</td>
<td>Timestamp in Unix time (Seconds)</td>
</tr>
<tr>
<td>&gt; api_passphrase</td>
<td>Yes</td>
<td>String</td>
<td>API Key passphrase</td>
</tr>
<tr>
<td>&gt; api_sign</td>
<td>Yes</td>
<td>String</td>
<td>Signature string</td>
</tr>
<tr>
<td>zip</td>
<td>Yes</td>
<td>Boolean</td>
<td>Whether to enable gzip compression</td>
</tr>
</tbody></table>
<h4 id='a222a51ekcfi'>Response Parameters</h4>
<blockquote>
<p>Successful Response Example</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
   </span><span class="nl">"event"</span><span class="p">:</span><span class="s2">"login"</span><span class="p">,</span><span class="w">
   </span><span class="nl">"ts"</span><span class="p">:</span><span class="mi">1751373968447</span><span class="p">,</span><span class="w">
   </span><span class="nl">"status"</span><span class="p">:</span><span class="s2">"success"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<table><thead>
<tr>
<th>Parameter</th>
<th>Required</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>event</td>
<td>Yes</td>
<td>String</td>
<td>Operation</td>
</tr>
<tr>
<td>status</td>
<td>Yes</td>
<td>String</td>
<td>Status (<code>success</code> or <code>error</code>)</td>
</tr>
<tr>
<td>ts</td>
<td>Yes</td>
<td>Integer</td>
<td>Response time in Unix timestamp (milliseconds), e.g., 1751373968447</td>
</tr>
</tbody></table>

<ol>
<li><strong>API Key</strong>: The unique identifier for API access.</li>
<li><strong>API Passphrase</strong>: The password for the API Key.</li>
<li><strong>API Timestamp</strong>: Unix timestamp in seconds.</li>
<li><strong>API Sign</strong>: The signature string is generated as follows:

<ul>
<li>Concatenate <code>api_timestamp</code>, <code>method</code>, and <code>requestPath</code>.</li>
<li>Use HMAC SHA256 to encrypt the concatenated string with the <code>SecretKey</code>.</li>
<li>Encode the result using Base64.</li>
</ul></li>
</ol>

<p><strong>Example:</strong></p>

<ul>
<li><strong>API Timestamp</strong>: <code>const api_timestamp = &#39;&#39; + Date.now() / 1000</code></li>
<li><strong>API Sign</strong>: <code>api_sign = CryptoJS.enc.Base64.stringify(CryptoJS.HmacSHA256(api_timestamp + &#39;GET&#39; + &#39;/notification/pri/ws&#39;, secret))</code></li>
<li><strong>Method</strong>: Always <code>GET</code></li>
<li><strong>RequestPath</strong>: Always <code>/notification/pri/ws</code></li>
</ul>

<p><strong>SecretKey</strong>: The security key generated when applying for the API Key, e.g., <code>48f773feced21b2310bac1508a6259c4</code>.</p>
<h3 id='6450c86dwolo'>Spot Order Status Change Notification</h3>
<p><strong>Data Structure</strong></p>

<blockquote>
<p>Example Data</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"order.spot"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BTC-USDT"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"order_id"</span><span class="p">:</span><span class="w"> </span><span class="mi">2509310000100964400</span><span class="p">,</span><span class="w">
    </span><span class="nl">"order_type"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
    </span><span class="nl">"order_buy_or_sell"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
    </span><span class="nl">"lock_base_amount"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"lock_quote_amount"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"filled_quote_amount"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"price"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"filled_amount"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"filled_fee"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"filled_avg"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"created_at"</span><span class="p">:</span><span class="w"> </span><span class="mi">1743679202098</span><span class="p">,</span><span class="w">
    </span><span class="nl">"updated_at"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="nl">"finish_at"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="nl">"state"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="nl">"un_filled_amount"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"taker"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"maker"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"order_state"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
    </span><span class="nl">"trade_ccy"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="nl">"algo_info"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nl">"tp_trigger_price"</span><span class="p">:</span><span class="w"> </span><span class="s2">"98000"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"tp_price"</span><span class="p">:</span><span class="w"> </span><span class="s2">"-1"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"tp_price_compare"</span><span class="p">:</span><span class="w"> </span><span class="mi">3</span><span class="p">,</span><span class="w">
      </span><span class="nl">"sl_trigger_price"</span><span class="p">:</span><span class="w"> </span><span class="s2">"72000"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"sl_price"</span><span class="p">:</span><span class="w"> </span><span class="s2">"-1"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"sl_price_compare"</span><span class="p">:</span><span class="w"> </span><span class="mi">3</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><code>type</code></td>
<td>String</td>
<td>Type (e.g., <code>order.spot</code>)</td>
</tr>
<tr>
<td><code>name</code></td>
<td>String</td>
<td>Trading Pair Name (e.g., <code>BTC-USDT</code>)</td>
</tr>
<tr>
<td><code>data</code></td>
<td>Object</td>
<td>Order Data Object</td>
</tr>
<tr>
<td><code>└─ order_id</code></td>
<td>Int64</td>
<td>System-generated Order ID</td>
</tr>
<tr>
<td><code>└─ order_type</code></td>
<td>Int</td>
<td>Order Type</td>
</tr>
<tr>
<td><code>└─ order_buy_or_sell</code></td>
<td>Int</td>
<td>Buy/Sell Direction (1=Buy, 2=Sell)</td>
</tr>
<tr>
<td><code>└─ lock_base_amount</code></td>
<td>String</td>
<td>Locked Base Currency Amount</td>
</tr>
<tr>
<td><code>└─ lock_quote_amount</code></td>
<td>String</td>
<td>Locked Quote Currency Amount</td>
</tr>
<tr>
<td><code>└─ filled_quote_amount</code></td>
<td>String</td>
<td>Filled Quote Currency Amount</td>
</tr>
<tr>
<td><code>└─ price</code></td>
<td>String</td>
<td>Order Price</td>
</tr>
<tr>
<td><code>└─ filled_amount</code></td>
<td>String</td>
<td>Filled Amount</td>
</tr>
<tr>
<td><code>└─ filled_fee</code></td>
<td>String</td>
<td>Filled Fee</td>
</tr>
<tr>
<td><code>└─ filled_avg</code></td>
<td>String</td>
<td>Filled Average Price</td>
</tr>
<tr>
<td><code>└─ created_at</code></td>
<td>Int64</td>
<td>Creation Timestamp</td>
</tr>
<tr>
<td><code>└─ updated_at</code></td>
<td>Int64</td>
<td>Update Timestamp</td>
</tr>
<tr>
<td><code>└─ finish_at</code></td>
<td>Int64</td>
<td>Completion Timestamp</td>
</tr>
<tr>
<td><code>└─ state</code></td>
<td>Int</td>
<td>Order State</td>
</tr>
<tr>
<td><code>└─ un_filled_amount</code></td>
<td>String</td>
<td>Unfilled Amount</td>
</tr>
<tr>
<td><code>└─ taker</code></td>
<td>String</td>
<td>Taker fee</td>
</tr>
<tr>
<td><code>└─ maker</code></td>
<td>String</td>
<td>Maker fee</td>
</tr>
<tr>
<td><code>└─ order_state</code></td>
<td>String</td>
<td>Order state</td>
</tr>
<tr>
<td><code>└─ trade_ccy</code></td>
<td>Int</td>
<td>Unit for market orders (1 for trading currency, 2 for quoted currency)</td>
</tr>
<tr>
<td><code>└─ algo_info</code></td>
<td>Object</td>
<td>Take Profit and Stop Loss Information</td>
</tr>
<tr>
<td><code>└─ tp_trigger_price</code></td>
<td>String</td>
<td>Take Profit Trigger Price</td>
</tr>
<tr>
<td><code>└─ tp_price</code></td>
<td>String</td>
<td>Take Profit Price (-1 for Market Order)</td>
</tr>
<tr>
<td><code>└─ tp_price_compare</code></td>
<td>Int</td>
<td>Take Profit Trigger Comparison Method</td>
</tr>
<tr>
<td><code>└─ sl_trigger_price</code></td>
<td>String</td>
<td>Stop Loss Trigger Price</td>
</tr>
<tr>
<td><code>└─ sl_price</code></td>
<td>String</td>
<td>Stop Loss Price (-1 for Market Order)</td>
</tr>
<tr>
<td><code>└─ sl_price_compare</code></td>
<td>Int</td>
<td>Stop Loss Trigger Comparison Method</td>
</tr>
</tbody></table>
<h3 id='ad3d9a27qv59'>Spot Strategy Order Change Notification</h3>
<p><strong>Data Structure</strong></p>

<blockquote>
<p>Example Data</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"algo.spot"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BTC-USDT"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"algo_ord_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2509310000101120674"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"link_ord_ids"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
    </span><span class="nl">"tp_ord_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"product_id"</span><span class="p">:</span><span class="w"> </span><span class="mi">100001</span><span class="p">,</span><span class="w">
    </span><span class="nl">"product_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
    </span><span class="nl">"ins_type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"SPOT"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"algo_ord_type"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
    </span><span class="nl">"trade_ccy"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
    </span><span class="nl">"number"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"amount"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"user_id"</span><span class="p">:</span><span class="w"> </span><span class="mi">8378507354</span><span class="p">,</span><span class="w">
    </span><span class="nl">"account_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"8378507354.001"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"price"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"status"</span><span class="p">:</span><span class="w"> </span><span class="mi">101</span><span class="p">,</span><span class="w">
    </span><span class="nl">"order_buy_or_sell"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
    </span><span class="nl">"mgn_mode"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="nl">"pos_mode"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="nl">"pos_opt"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="nl">"stop_pos_type"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="nl">"taker_fee"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"maker_fee"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"created_at"</span><span class="p">:</span><span class="w"> </span><span class="mi">1743682997431</span><span class="p">,</span><span class="w">
    </span><span class="nl">"updated_at"</span><span class="p">:</span><span class="w"> </span><span class="mi">1743682997431</span><span class="p">,</span><span class="w">
    </span><span class="nl">"finish_at"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="nl">"position_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"source"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
    </span><span class="nl">"cancel_type"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="nl">"fin_trigger_type"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="nl">"fin_trigger_price"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"fin_trigger_ord_id"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="nl">"from_ord_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"trial_his_price"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"trial_price"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"trial_amount"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"trial_type"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="nl">"trial_trigger_price"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"plan_price_compare"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="nl">"plan_trigger_price"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"plan_price"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"attach_algo"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
      </span><span class="p">{</span><span class="w">
        </span><span class="nl">"tp_trigger_price"</span><span class="p">:</span><span class="w"> </span><span class="s2">"89001"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"tp_price"</span><span class="p">:</span><span class="w"> </span><span class="s2">"-1"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"tp_price_compare"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
        </span><span class="nl">"tp_ord_kind"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
        </span><span class="nl">"sl_trigger_price"</span><span class="p">:</span><span class="w"> </span><span class="s2">"87001"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"sl_price"</span><span class="p">:</span><span class="w"> </span><span class="s2">"-1"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"sl_price_compare"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="w">
      </span><span class="p">}</span><span class="w">
    </span><span class="p">],</span><span class="w">
    </span><span class="nl">"trade_role"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><code>type</code></td>
<td>String</td>
<td>Type (e.g., <code>algo.spot</code>)</td>
</tr>
<tr>
<td><code>name</code></td>
<td>String</td>
<td>Trading Pair Name (e.g., <code>BTC-USDT</code>)</td>
</tr>
<tr>
<td><code>data</code></td>
<td>Object</td>
<td>Strategy Order Data Object</td>
</tr>
<tr>
<td><code>└─ algo_ord_id</code></td>
<td>String</td>
<td>Strategy Order ID</td>
</tr>
<tr>
<td><code>└─ link_ord_ids</code></td>
<td>String</td>
<td>Linked Order IDs (comma-separated)</td>
</tr>
<tr>
<td><code>└─ tp_ord_id</code></td>
<td>String</td>
<td>Take Profit Order ID</td>
</tr>
<tr>
<td><code>└─ ins_type</code></td>
<td>String</td>
<td>Instrument Type (e.g., <code>SPOT</code>)</td>
</tr>
<tr>
<td><code>└─ algo_ord_type</code></td>
<td>Int</td>
<td>Strategy Order Type</td>
</tr>
<tr>
<td><code>└─ trade_ccy</code></td>
<td>Int</td>
<td>Trade Currency Type</td>
</tr>
<tr>
<td><code>└─ number</code></td>
<td>String</td>
<td>Contract Quantity</td>
</tr>
<tr>
<td><code>└─ amount</code></td>
<td>String</td>
<td>Spot Order Quantity</td>
</tr>
<tr>
<td><code>└─ price</code></td>
<td>String</td>
<td>Order Price</td>
</tr>
<tr>
<td><code>└─ status</code></td>
<td>Int</td>
<td>Strategy Status Code</td>
</tr>
<tr>
<td><code>└─ order_buy_or_sell</code></td>
<td>Int</td>
<td>Buy/Sell Direction (1=Buy, 2=Sell)</td>
</tr>
<tr>
<td><code>└─ mgn_mode</code></td>
<td>Int</td>
<td>Margin Mode</td>
</tr>
<tr>
<td><code>└─ pos_mode</code></td>
<td>Int</td>
<td>Position Mode</td>
</tr>
<tr>
<td><code>└─ pos_opt</code></td>
<td>Int</td>
<td>Position Option</td>
</tr>
<tr>
<td><code>└─ stop_pos_type</code></td>
<td>Int</td>
<td>Stop Position Type</td>
</tr>
<tr>
<td><code>└─ taker_fee</code></td>
<td>String</td>
<td>Taker Fee Rate</td>
</tr>
<tr>
<td><code>└─ maker_fee</code></td>
<td>String</td>
<td>Maker Fee Rate</td>
</tr>
<tr>
<td><code>└─ created_at</code></td>
<td>Int64</td>
<td>Creation Timestamp</td>
</tr>
<tr>
<td><code>└─ updated_at</code></td>
<td>Int64</td>
<td>Update Timestamp</td>
</tr>
<tr>
<td><code>└─ finish_at</code></td>
<td>Int64</td>
<td>Completion Timestamp</td>
</tr>
<tr>
<td><code>└─ position_id</code></td>
<td>String</td>
<td>Position ID</td>
</tr>
<tr>
<td><code>└─ fin_trigger_type</code></td>
<td>Int</td>
<td>Final Trigger Type</td>
</tr>
<tr>
<td><code>└─ fin_trigger_price</code></td>
<td>String</td>
<td>Final Trigger Price</td>
</tr>
<tr>
<td><code>└─ fin_trigger_ord_id</code></td>
<td>Int64</td>
<td>Final Trigger Order ID</td>
</tr>
<tr>
<td><code>└─ from_ord_id</code></td>
<td>String</td>
<td>Source Order ID</td>
</tr>
<tr>
<td><code>└─ trial_his_price</code></td>
<td>String</td>
<td>Trailing Stop Historical Price</td>
</tr>
<tr>
<td><code>└─ trial_price</code></td>
<td>String</td>
<td>Trailing Stop Price</td>
</tr>
<tr>
<td><code>└─ trial_amount</code></td>
<td>String</td>
<td>Trailing Stop Callback Amount/Percentage</td>
</tr>
<tr>
<td><code>└─ trial_type</code></td>
<td>Int</td>
<td>Trailing Stop Callback Type</td>
</tr>
<tr>
<td><code>└─ trial_trigger_price</code></td>
<td>String</td>
<td>Trailing Stop Trigger Price</td>
</tr>
<tr>
<td><code>└─ plan_price_compare</code></td>
<td>Int</td>
<td>Plan Order Price Comparison Method</td>
</tr>
<tr>
<td><code>└─ plan_trigger_price</code></td>
<td>String</td>
<td>Plan Order Trigger Price</td>
</tr>
<tr>
<td><code>└─ plan_price</code></td>
<td>String</td>
<td>Plan Order Price</td>
</tr>
<tr>
<td><code>└─ attach_algo</code></td>
<td>Array</td>
<td>Take Profit and Stop Loss Strategy Array</td>
</tr>
<tr>
<td><code>└─ tp_trigger_price</code></td>
<td>String</td>
<td>Take Profit Trigger Price</td>
</tr>
<tr>
<td><code>└─ tp_price</code></td>
<td>String</td>
<td>Take Profit Price (-1 for Market Order)</td>
</tr>
<tr>
<td><code>└─ tp_price_compare</code></td>
<td>Int</td>
<td>Take Profit Price Comparison Type</td>
</tr>
<tr>
<td><code>└─ tp_ord_kind</code></td>
<td>Int</td>
<td>Take Profit Order Type (1: Conditional, 2: Limit)</td>
</tr>
<tr>
<td><code>└─ sl_trigger_price</code></td>
<td>String</td>
<td>Stop Loss Trigger Price</td>
</tr>
<tr>
<td><code>└─ sl_price</code></td>
<td>String</td>
<td>Stop Loss Price (-1 for Market Order)</td>
</tr>
<tr>
<td><code>└─ sl_price_compare</code></td>
<td>Int</td>
<td>Stop Loss Price Comparison Type</td>
</tr>
</tbody></table>
<h3 id='0436c88dyrxi'>Swap Order Status Change Notification</h3>
<p><strong>Data Structure</strong></p>

<blockquote>
<p>Example Data</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"order.swap"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BTCUSDT"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"seq_id"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="nl">"product_id"</span><span class="p">:</span><span class="w"> </span><span class="mi">100001</span><span class="p">,</span><span class="w">
    </span><span class="nl">"order_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2509310000100502948"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"mgn_mode"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="nl">"order_mode"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="nl">"pos_mode"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="nl">"number"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="nl">"amount"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"un_filled_number"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="nl">"deal_number"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="nl">"price"</span><span class="p">:</span><span class="w"> </span><span class="s2">"88000"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"status"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="nl">"avg_price"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"income"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"order_buy_or_sell"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
    </span><span class="nl">"pos_side"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
    </span><span class="nl">"order_type"</span><span class="p">:</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w">
    </span><span class="nl">"pos_opt"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="nl">"leverage"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="nl">"freeze_amount"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"taker_fee"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"maker_fee"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"created_at"</span><span class="p">:</span><span class="w"> </span><span class="mi">1743669339939</span><span class="p">,</span><span class="w">
    </span><span class="nl">"updated_at"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="nl">"finish_at"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="nl">"deal_fee"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"position_id"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="nl">"stp"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="nl">"bankrupt_price"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"trade_ccy"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="nl">"LinkStopId"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="nl">"algo_info"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nl">"tp_trigger_price"</span><span class="p">:</span><span class="w"> </span><span class="s2">"89001"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"tp_price"</span><span class="p">:</span><span class="w"> </span><span class="s2">"-1"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"tp_price_compare"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
      </span><span class="nl">"tp_ord_kind"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
      </span><span class="nl">"sl_trigger_price"</span><span class="p">:</span><span class="w"> </span><span class="s2">"87001"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"sl_price"</span><span class="p">:</span><span class="w"> </span><span class="s2">"-1"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"sl_price_compare"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><code>type</code></td>
<td>String</td>
<td>Type (e.g., <code>order.swap</code>)</td>
</tr>
<tr>
<td><code>name</code></td>
<td>String</td>
<td>Trading Pair Name (e.g., <code>BTCUSDT</code>)</td>
</tr>
<tr>
<td><code>data</code></td>
<td>Object</td>
<td>Contract Order Object</td>
</tr>
<tr>
<td>└─ <code>order_id</code></td>
<td>String</td>
<td>System Order ID</td>
</tr>
<tr>
<td>└─ <code>mgn_mode</code></td>
<td>Int</td>
<td>Margin Mode</td>
</tr>
<tr>
<td>└─ <code>order_mode</code></td>
<td>Int</td>
<td>Order Mode</td>
</tr>
<tr>
<td>└─ <code>pos_mode</code></td>
<td>Int</td>
<td>Position Mode</td>
</tr>
<tr>
<td>└─ <code>number</code></td>
<td>Int</td>
<td>Contract Quantity (for coin-based contracts)</td>
</tr>
<tr>
<td>└─ <code>amount</code></td>
<td>String</td>
<td>Order Amount</td>
</tr>
<tr>
<td>└─ <code>un_filled_number</code></td>
<td>Int</td>
<td>Unfilled Contract Quantity</td>
</tr>
<tr>
<td>└─ <code>deal_number</code></td>
<td>Int</td>
<td>Filled Contract Quantity</td>
</tr>
<tr>
<td>└─ <code>price</code></td>
<td>String</td>
<td>Order Price</td>
</tr>
<tr>
<td>└─ <code>status</code></td>
<td>Int</td>
<td>Order Status</td>
</tr>
<tr>
<td>└─ <code>avg_price</code></td>
<td>String</td>
<td>Average Fill Price</td>
</tr>
<tr>
<td>└─ <code>income</code></td>
<td>String</td>
<td>Income (for backtesting)</td>
</tr>
<tr>
<td>└─ <code>order_buy_or_sell</code></td>
<td>Int</td>
<td>Buy/Sell Direction (1=Buy, 2=Sell)</td>
</tr>
<tr>
<td>└─ <code>pos_side</code></td>
<td>String</td>
<td>Position Side (long/short)</td>
</tr>
<tr>
<td>└─ <code>order_type</code></td>
<td>Int</td>
<td>Order Type (limit, IOC, etc.)</td>
</tr>
<tr>
<td>└─ <code>pos_opt</code></td>
<td>Int</td>
<td>Open/Close Position Flag</td>
</tr>
<tr>
<td>└─ <code>leverage</code></td>
<td>Int</td>
<td>Leverage Ratio</td>
</tr>
<tr>
<td>└─ <code>freeze_amount</code></td>
<td>String</td>
<td>Frozen Margin</td>
</tr>
<tr>
<td>└─ <code>taker_fee</code></td>
<td>String</td>
<td>Taker Fee</td>
</tr>
<tr>
<td>└─ <code>maker_fee</code></td>
<td>String</td>
<td>Maker Fee</td>
</tr>
<tr>
<td>└─ <code>created_at</code></td>
<td>Int64</td>
<td>Creation Timestamp</td>
</tr>
<tr>
<td>└─ <code>updated_at</code></td>
<td>Int64</td>
<td>Update Timestamp</td>
</tr>
<tr>
<td>└─ <code>finish_at</code></td>
<td>Int64</td>
<td>Completion Timestamp</td>
</tr>
<tr>
<td>└─ <code>deal_fee</code></td>
<td>String</td>
<td>Total Transaction Fee</td>
</tr>
<tr>
<td>└─ <code>position_id</code></td>
<td>Int</td>
<td>Position ID</td>
</tr>
<tr>
<td>└─ <code>bankrupt_price</code></td>
<td>String</td>
<td>Bankruptcy Price</td>
</tr>
<tr>
<td>└─ <code>trade_ccy</code></td>
<td>Int</td>
<td>Trade Currency Indicator</td>
</tr>
<tr>
<td>└─ <code>algo_info</code></td>
<td>Object</td>
<td>Take Profit and Stop Loss Information</td>
</tr>
<tr>
<td>└── <code>tp_trigger_price</code></td>
<td>String</td>
<td>Take Profit Trigger Price</td>
</tr>
<tr>
<td>└── <code>tp_price</code></td>
<td>String</td>
<td>Take Profit Order Price (-1 for Market Order)</td>
</tr>
<tr>
<td>└── <code>tp_price_compare</code></td>
<td>Int</td>
<td>Take Profit Trigger Price Comparison Type</td>
</tr>
<tr>
<td>└── <code>tp_ord_kind</code></td>
<td>Int</td>
<td>Take Profit Order Type (1: Conditional, 2: Limit)</td>
</tr>
<tr>
<td>└── <code>sl_trigger_price</code></td>
<td>String</td>
<td>Stop Loss Trigger Price</td>
</tr>
<tr>
<td>└── <code>sl_price</code></td>
<td>String</td>
<td>Stop Loss Order Price (-1 for Market Order)</td>
</tr>
<tr>
<td>└── <code>sl_price_compare</code></td>
<td>Int</td>
<td>Stop Loss Trigger Price Comparison Type</td>
</tr>
</tbody></table>
<h3 id='527a69bcjdv7'>Swap Maintenance Margin Ratio Change Notification</h3>
<p><strong>Data Structure</strong></p>

<blockquote>
<p>Example Data</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"margin.ration"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"DOGEUSDT"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"position_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"208824000000000121"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"margin_ratio"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0.12"</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<table><thead>
<tr>
<th>Parameter Name</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><code>type</code></td>
<td>String</td>
<td>Type (e.g., <code>margin.ration</code>)</td>
</tr>
<tr>
<td><code>name</code></td>
<td>String</td>
<td>Trading pair name (e.g., <code>DOGEUSDT</code>)</td>
</tr>
<tr>
<td><code>data</code></td>
<td>Object</td>
<td>Contract position object</td>
</tr>
<tr>
<td>└─ <code>position_id</code></td>
<td>String</td>
<td>Position ID</td>
</tr>
<tr>
<td>└─ <code>margin_ratio</code></td>
<td>String</td>
<td>Maintenance margin ratio</td>
</tr>
</tbody></table>
<h1 id='50bdd1d5scwk'>Error Codes</h1><h2 id='cbaaa181pqmg'>REST</h2><h3 id='5211dca9glpx'>Order-related</h3>
<table><thead>
<tr>
<th>Error Code</th>
<th>Error Message</th>
</tr>
</thead><tbody>
<tr>
<td>1080001</td>
<td>Invalid parameter</td>
</tr>
<tr>
<td>1080002</td>
<td>Trading pair cannot be empty</td>
</tr>
<tr>
<td>1080003</td>
<td>Invalid cancel order type</td>
</tr>
<tr>
<td>1080004</td>
<td>Invalid order type</td>
</tr>
<tr>
<td>1080005</td>
<td>Invalid quantity</td>
</tr>
<tr>
<td>1080006</td>
<td>Invalid take-profit or stop-loss quantity</td>
</tr>
<tr>
<td>1080007</td>
<td>Invalid position direction</td>
</tr>
<tr>
<td>1080008</td>
<td>Trade direction does not match position direction</td>
</tr>
<tr>
<td>1080009</td>
<td>Invalid position mode</td>
</tr>
<tr>
<td>1080010</td>
<td>Invalid leverage</td>
</tr>
<tr>
<td>1080011</td>
<td>Invalid take-profit or stop-loss parameters</td>
</tr>
<tr>
<td>1080012</td>
<td>Invalid margin quantity</td>
</tr>
<tr>
<td>1080013</td>
<td>Invalid price</td>
</tr>
<tr>
<td>1080014</td>
<td>Invalid take-profit or stop-loss type</td>
</tr>
<tr>
<td>1080017</td>
<td>Invalid order ID</td>
</tr>
<tr>
<td>1080020</td>
<td>Exceeded maximum bulk order quantity</td>
</tr>
<tr>
<td>1080021</td>
<td>Inconsistent products in bulk orders</td>
</tr>
<tr>
<td>1080023</td>
<td>Cannot modify margin mode while holding positions</td>
</tr>
<tr>
<td>1080024</td>
<td>Cannot modify margin mode while orders exist</td>
</tr>
<tr>
<td>2080001</td>
<td>Trading pair not found</td>
</tr>
<tr>
<td>2080003</td>
<td>Trading pair not enabled</td>
</tr>
<tr>
<td>2080004</td>
<td>Internal server error</td>
</tr>
<tr>
<td>2080005</td>
<td>Internal server error</td>
</tr>
<tr>
<td>2080006</td>
<td>Internal server error</td>
</tr>
<tr>
<td>2080007</td>
<td>Internal server error</td>
</tr>
<tr>
<td>3080001</td>
<td>Internal server error</td>
</tr>
<tr>
<td>3080002</td>
<td>Internal server error</td>
</tr>
</tbody></table>
<h3 id='0c3e51ddm796'>Asset-related</h3>
<table><thead>
<tr>
<th>Error Code</th>
<th>Error Message</th>
</tr>
</thead><tbody>
<tr>
<td>1010002</td>
<td>Parameter validation failed</td>
</tr>
<tr>
<td>1010003</td>
<td>Parameter validation failed</td>
</tr>
<tr>
<td>1010004</td>
<td>Insufficient available assets</td>
</tr>
<tr>
<td>1010005</td>
<td>Existing positions or orders with different leverage</td>
</tr>
<tr>
<td>1010006</td>
<td>Order frequency too high</td>
</tr>
<tr>
<td>1010007</td>
<td>Existing positions or orders with different margin modes</td>
</tr>
<tr>
<td>1010008</td>
<td>Insufficient margin</td>
</tr>
<tr>
<td>1010009</td>
<td>Exceeded maximum order quantity</td>
</tr>
<tr>
<td>1010010</td>
<td>Exceeded maximum position size</td>
</tr>
<tr>
<td>1010011</td>
<td>Insufficient position to close</td>
</tr>
<tr>
<td>1010012</td>
<td>Price validation failed</td>
</tr>
<tr>
<td>1010013</td>
<td>Order rejected due to price being worse than liquidation price</td>
</tr>
<tr>
<td>1010014</td>
<td>Margin freeze failed</td>
</tr>
<tr>
<td>1010015</td>
<td>Order cancellation not allowed for this type</td>
</tr>
<tr>
<td>1010016</td>
<td>Position not found</td>
</tr>
<tr>
<td>1010017</td>
<td>Take-profit or stop-loss quantity exceeds position size</td>
</tr>
<tr>
<td>1010018</td>
<td>One-click close position timeout</td>
</tr>
<tr>
<td>1010019</td>
<td>Only one full-position take-profit or stop-loss allowed per position</td>
</tr>
<tr>
<td>1010020</td>
<td>Existing orders or take-profit/stop-loss orders with different leverage</td>
</tr>
<tr>
<td>1010021</td>
<td>Take-profit or stop-loss price validation failed</td>
</tr>
<tr>
<td>1010022</td>
<td>Margin unfreeze failed</td>
</tr>
<tr>
<td>1010023</td>
<td>Existing positions or orders with different margin modes</td>
</tr>
<tr>
<td>1010024</td>
<td>Limit order price cannot be higher than the highest bid</td>
</tr>
<tr>
<td>1010025</td>
<td>Limit order price cannot be lower than the lowest ask</td>
</tr>
<tr>
<td>1010026</td>
<td>Margin mode validation failed</td>
</tr>
<tr>
<td>1010027</td>
<td>Leverage validation failed</td>
</tr>
<tr>
<td>1010028</td>
<td>Order placement failed</td>
</tr>
<tr>
<td>1010029</td>
<td>Parameter validation failed</td>
</tr>
<tr>
<td>1010030</td>
<td>Order placement failed</td>
</tr>
<tr>
<td>1010031</td>
<td>Price comparison failed; please set a reasonable take-profit trigger price</td>
</tr>
<tr>
<td>1010032</td>
<td>Price comparison failed; please set a reasonable stop-loss trigger price</td>
</tr>
<tr>
<td>1010033</td>
<td>Parameter validation failed</td>
</tr>
<tr>
<td>1010034</td>
<td>Limit take-profit order price must be higher than the last traded price</td>
</tr>
<tr>
<td>1010035</td>
<td>Limit take-profit order price must be lower than the last traded price</td>
</tr>
<tr>
<td>1010036</td>
<td>Please set the order price for limit orders</td>
</tr>
<tr>
<td>1010037</td>
<td>Please set a take-profit or stop-loss trigger</td>
</tr>
<tr>
<td>1010038</td>
<td>Parameter validation failed</td>
</tr>
<tr>
<td>1010039</td>
<td>Parameter validation failed</td>
</tr>
<tr>
<td>1010040</td>
<td>Trailing stop-loss/take-profit callback range is 0.1-100</td>
</tr>
<tr>
<td>1010041</td>
<td>Trailing stop-loss/take-profit price distance must be a positive integer</td>
</tr>
<tr>
<td>1010042</td>
<td>Trailing stop-loss/take-profit activation price must be a positive number</td>
</tr>
<tr>
<td>1010043</td>
<td>Parameter validation failed</td>
</tr>
<tr>
<td>1010044</td>
<td>Parameter validation failed</td>
</tr>
<tr>
<td>1010045</td>
<td>Internal server error</td>
</tr>
<tr>
<td>1010046</td>
<td>Parameter validation failed</td>
</tr>
<tr>
<td>1010047</td>
<td>Increase or decrease margin failed</td>
</tr>
<tr>
<td>1010048</td>
<td>Order not found</td>
</tr>
<tr>
<td>1010049</td>
<td>Internal server error</td>
</tr>
<tr>
<td>1010050</td>
<td>Operation on position not allowed in the current state</td>
</tr>
<tr>
<td>1010051</td>
<td>Account is in liquidation state and cannot perform operations</td>
</tr>
<tr>
<td>1011001</td>
<td>Trading pair is offline</td>
</tr>
<tr>
<td>1011002</td>
<td>Trading pair is not open for trading</td>
</tr>
<tr>
<td>1011003</td>
<td>Failed to take trading pair offline</td>
</tr>
<tr>
<td>1011004</td>
<td>Successfully took trading pair offline</td>
</tr>
<tr>
<td>1011005</td>
<td>Trading pair is suspended from trading</td>
</tr>
<tr>
<td>1011006</td>
<td>Only limit sell orders are allowed before the market opens</td>
</tr>
<tr>
<td>1011007</td>
<td>Parameter validation failed</td>
</tr>
<tr>
<td>1011008</td>
<td>Minimum trade amount not met</td>
</tr>
<tr>
<td>1011009</td>
<td>Maximum trade amount exceeded</td>
</tr>
<tr>
<td>1011010</td>
<td>Minimum trade quantity not met</td>
</tr>
<tr>
<td>1011011</td>
<td>Maximum trade quantity exceeded</td>
</tr>
<tr>
<td>1011200</td>
<td>Internal server error</td>
</tr>
<tr>
<td>1011201</td>
<td>Internal server error</td>
</tr>
<tr>
<td>3010001</td>
<td>Internal server error</td>
</tr>
<tr>
<td>3010005</td>
<td>Internal server error</td>
</tr>
</tbody></table>
<h2 id='fd2fe217utf9'>WebSocket</h2>
<p>WebSocket</p>

      </div>
      <div class="dark-box">
          <div class="lang-selector">
                <a href="#" data-language-name="json">HTTP</a>
                <a href="#" data-language-name="python">Python</a>
                <a href="#" data-language-name="go">Go</a>
                <a href="#" data-language-name="java">Java</a>
          </div>
      </div>
    </div>
  </body>
</html>
